<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.47">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>9&nbsp; BSTR Analysis – Reaction Engineering Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./section_4_sbstr_analysis.html" rel="next">
<link href="./section_3_formulating_calcs.html" rel="prev">
<link href="./Graphics/BuffaloBadger_16_16.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="http://buffalobadger.github.io" class="navbar-brand navbar-brand-logo">
    <img src="./Graphics/Banner.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/RE_Basics"> 
<span class="menu-text">Reaction Engineering Basics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/SCoRE"> 
<span class="menu-text">SCoRE</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/ToTaL_Engineering"> 
<span class="menu-text">ToTaL Engineering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/The_Sett"> 
<span class="menu-text">The Sett</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section_4_bstr_analysis.html">Modeling Ideal Reactors</a></li><li class="breadcrumb-item"><a href="./section_4_bstr_analysis.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_intro_safety_ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Reaction Engineering, Ethics and Safety</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_rxns_reactors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reactions and Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_reaction_progress.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Reaction Progress</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Rate Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_rates_and_expressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reaction Rates and Rate Expressions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_mechanisms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reaction Mechanisms and Mechanistic Rate Expressions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Reaction Engineering Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_react_eng_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reaction Engineering Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_reaction_engineering_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Reaction Engineering Tasks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_formulating_calcs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Completing Reaction Engineering Tasks</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_bstr_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_sbstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">SBSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_non_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Design of Non-Continuous Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_cstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_pfr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">PFR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Design of Continuous Reactors</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling Ideal Reactor Systems</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_reactor_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Reactor Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_thermally_backmixed_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Thermally Back-Mixed PFRs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_recycle_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Recycle PFRs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Kinetics Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_data_generation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Generation and Analysis of Kinetics Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_bstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a BSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_cstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a CSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_pfr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a PFR</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling Non-Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_age_function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">The Age Distribution Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_segregated_flow_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_axial_dispersion_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Steady-State Axial Dispersion Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_zoned_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Zoned Reactor Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_prereq_knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Prerequisite Knowledge</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_nomenclature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Terminology and Sign Conventions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_reaction_thermo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Reaction Thermodynamics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_kinetics_theories.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Kinetics Theories</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_derivations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Derivation of Model Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_mathematics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Mathematics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_useful_eqns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Frequently Used Equations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#bstr-characteristics" id="toc-bstr-characteristics" class="nav-link active" data-scroll-target="#bstr-characteristics"><span class="header-section-number">9.1</span> BSTR Characteristics</a></li>
  <li><a href="#bstr-operation" id="toc-bstr-operation" class="nav-link" data-scroll-target="#bstr-operation"><span class="header-section-number">9.2</span> BSTR Operation</a></li>
  <li><a href="#sec-4_bstr_qualitative_analysis" id="toc-sec-4_bstr_qualitative_analysis" class="nav-link" data-scroll-target="#sec-4_bstr_qualitative_analysis"><span class="header-section-number">9.3</span> Qualitative Analysis of Reaction in a BSTR</a></li>
  <li><a href="#bstr-design-equations" id="toc-bstr-design-equations" class="nav-link" data-scroll-target="#bstr-design-equations"><span class="header-section-number">9.4</span> BSTR Design Equations</a></li>
  <li><a href="#general-approach-to-modeling-isolated-bstrs" id="toc-general-approach-to-modeling-isolated-bstrs" class="nav-link" data-scroll-target="#general-approach-to-modeling-isolated-bstrs"><span class="header-section-number">9.5</span> General Approach to Modeling Isolated BSTRs</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">9.6</span> Examples</a>
  <ul class="collapse">
  <li><a href="#sec-example_9_6_1" id="toc-sec-example_9_6_1" class="nav-link" data-scroll-target="#sec-example_9_6_1"><span class="header-section-number">9.6.1</span> Concentration, Temperature and Rate Profiles during Adiabatic Operation of a BSTR</a></li>
  <li><a href="#sec-example_9_6_2" id="toc-sec-example_9_6_2" class="nav-link" data-scroll-target="#sec-example_9_6_2"><span class="header-section-number">9.6.2</span> Parallel Reaction Selectivity in a Cooled BSTR with an Unknown Initial Temperature</a></li>
  <li><a href="#sec-example_9_6_3" id="toc-sec-example_9_6_3" class="nav-link" data-scroll-target="#sec-example_9_6_3"><span class="header-section-number">9.6.3</span> Maximum Intermediate Yield in Series Reactions</a></li>
  <li><a href="#sec-example_9_6_4" id="toc-sec-example_9_6_4" class="nav-link" data-scroll-target="#sec-example_9_6_4"><span class="header-section-number">9.6.4</span> Optimization of Net Production Rate</a></li>
  </ul></li>
  <li><a href="#symbols-used-in-sec-4_bstr_analysis" id="toc-symbols-used-in-sec-4_bstr_analysis" class="nav-link" data-scroll-target="#symbols-used-in-sec-4_bstr_analysis"><span class="header-section-number">9.7</span> Symbols Used in <span>Chapter 9</span></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section_4_bstr_analysis.html">Modeling Ideal Reactors</a></li><li class="breadcrumb-item"><a href="./section_4_bstr_analysis.html"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-4_bstr_analysis" class="quarto-section-identifier"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This chapter examines reaction engineering of single, isolated, batch stirred-tank reactors (BSTRs). It examines properties, advantages, and disadvantages of BSTRs, common situations where BSTRs are used, the operation of BSTRs, and qualitative and quantitative analysis of BSTRs. It concludes with examples of response and optimization tasks involving BSTRs. Reactor design involving BSTRs is considered separately in <a href="section_4_non_continuous_design.html" class="quarto-xref"><span>Chapter 11</span></a>.</p>
<div id="fig_simple_batch_schematic" class="quarto-figure quarto-figure-center anchored">
<figure class="figure">
<p><img src="Graphics/simple_batch_schematic.png" class="img-fluid figure-img" style="width:30.0%"></p>
<figcaption>Simple schematic representation of a BSTR.</figcaption>
</figure>
</div>
<section id="bstr-characteristics" class="level2" data-number="9.1">
<h2 data-number="9.1" class="anchored" data-anchor-id="bstr-characteristics"><span class="header-section-number">9.1</span> BSTR Characteristics</h2>
<p>The two most important characteristics of a BSTR are that (a) the reacting fluid within it is perfectly mixed, and (b) there is no flow of reagents into or out of a BSTR while it is operating, that is, during reaction. As the name batch <em>stirred tank</em> reactor suggests, the most common physical form of a BSTR for chemical processing is a stirred tank. As indicated in the schematic representations in <a href="#fig-bstr_heat_exchange_schematics" class="quarto-xref">Figure&nbsp;<span>9.1</span></a>, they are typically cylindrical in shape, completely containing the reacting fluid (indicated by blue shading) within rigid walls. When processing liquids, there may be some space at the top of the reactor that does not contain reacting fluid. This is referred to as headspace; it is indicated by gray shading in figure. There must be some means of thoroughly and rapidly mixing the reacting fluid. Commonly an agitator is immersed in the reacting fluid for this purpose.</p>
<div id="fig-bstr_heat_exchange_schematics" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-bstr_heat_exchange_schematics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Graphics/Batch_with_jacket.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>a</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Graphics/Batch_with_Coil.png" class="img-fluid figure-img" style="width:75.0%"></p>
<figcaption>b</figcaption>
</figure>
</div>
</div>
<div class="quarto-layout-cell" style="flex-basis: 33.3%;justify-content: flex-start;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Graphics/Batch_with_External_Heat_Exchange.png" class="img-fluid figure-img" style="width:100.0%"></p>
<figcaption>c</figcaption>
</figure>
</div>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-bstr_heat_exchange_schematics-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.1: Schematic representations of three batch stirred tank reactors, wherein heat is exchanged with an external fluid through the walls of (a) a jacket, (b) a submerged coil, and (c) an external heat exchanger.
</figcaption>
</figure>
</div>
<p>If it is necessary to heat or cool the reactor, a heat exchange fluid (indicated by yellow shading in the figure) may flow in and out of the the reactor during operation, but the heat exchange fluid is physically separated from the reacting fluid. <a href="#fig-bstr_heat_exchange_schematics" class="quarto-xref">Figure&nbsp;<span>9.1</span></a> depicts three common configurations for exchange of heat with an external fluid. One (a in the figure) is referred to as a shell or jacket. It is a compartment that surrounds the reacting fluid and has an external heat exchange fluid flowing through it. Another (b in the figure) consists of a coil of tubing that is submerged in the reacting fluid. The heat exchange fluid flows within the coil. The third (c in the figure) is an external heat exchanger. With the latter configuration it is important that the reacting fluid circulates through the heat exchanger rapidly so that the assumption of perfect mixing of the reacting fluid is satisfied. In all three configurations, it is possible that the exchange fluid temperature is not uniform, but in <em>Reaction Engineering Basics</em> the heat exchange fluid is always assumed to be perfectly mixed.</p>
<p>Stirred tanks are not often used for the processing of gases or when a solid catalyst is being used because stirring gases or small solid particles is difficult. However, configurations different from a stirred tank can be modeled as BSTRs as long as the critical assumptions are met (perfect mixing and no reagent flow in or out of the reactor). <a href="section_6_bstr_data_analysis.html" class="quarto-xref"><span>Chapter 19</span></a> describes a few laboratory BSTRs that are not stirred tanks. Similarly, any reactor in a chemical processing facility that conforms to the assumptions used when deriving the BSTR design equations can be modeled as a BSTR. Heat can be added or removed from a reactor in ways that do not involve an exchange fluid. For example, an electric resistance heating element might be used to add heat. <em>Reaction Engineering Basics</em> only considers heat transfer to or from a perfectly mixed heat exchange fluid.</p>
<p>There are advantages to using a BSTR, as opposed to the other types of ideal reactors, particularly the flow reactors (CSTRs and PFRs). BSTRs offer flexibility both in terms of the reactions being run and in the details of operating the process. In a situation where the demand for products is too small to warrant continuous production, a batch reactor might be used to make one product for a few weeks, and then be used to make a different product for the next few weeks. This kind of flexibility avoids having the reactor sit idle for extended periods of time. Similarly, if the production of a product involves heating to and holding at two or more different temperatures during processing, it may be easier to produce it in a batch reactor than to set up a chain of continuous reactors operating at the necessary temperatures. Similarly, if the addition of one reagent needs to be delayed, it <em>may</em> be possible to do so using a BSTR as described below under BSTR Operation. Again, this may be preferred over two continuous reactors operating in series with that reagent added to the second reactor. In contrast to PFRs, a much broader range of heat transfer area per volume of reacting fluid is possible. Even after the reactor has been constructed, the length of a submerged coil or the area of an external heat exchanger can be altered if additional heat transfer capability is needed.</p>
<p>There are also disadvantages to using BSTRs. As described below, the operation of a BSTR includes periods of time during which no reaction is taking place. Compared to reactors like CSTRs and PFRs that run continuously, this can lead to a lower net rate of production. Additionally, the operation of a BSTR is more labor intensive than operation of a continuous reactor. This adds to the cost of production, meaning a higher product selling price is necessary in order to make a profit. Another issue with batch processes is that of batch-to-batch consistency. As an example, consider the batch production of an expensive perfume. It is critically important that every batch smells the same. Consequently, in addition to being labor intensive, batch processing requires well-trained operators who are careful to precisely follow the specified operational procedure and not deviate from it. Food and beverage production similarly demand high batch-to-batch consistency. This can be even more challenging if, as an example, the process utilizes agricultural reagents that can vary from season to season or year to year.</p>
<p>In light of their advantages and disadvantages, BSTRs are often used to produce value-added products. These are products for which the market demand is smaller, but the price, and therefore the profit per pound, is greater. This is in contrast to commodity products where the demand for large quantities is high, but the price per pound is relatively small. High volume production is usually performed in a continuous reactor (CSTR or PFR).</p>
</section>
<section id="bstr-operation" class="level2" data-number="9.2">
<h2 data-number="9.2" class="anchored" data-anchor-id="bstr-operation"><span class="header-section-number">9.2</span> BSTR Operation</h2>
<p>By its nature, there are times during which reaction is not taking place in a batch reactor. Before reaction can take place, the reactor must first be cleaned (or, in some cases, sterilized) to remove anything “left behind” by the last reaction that was run. Then the reactants must be prepared and charged into the reactor. From this point on, the operation is much like a cooking recipe. A prescribed series of heating and cooling steps is followed, with reaction taking place during every step. A simple example might be that after the reactants are charged, the reactor is heated to a specified temperature, held at that temperature for a specified length of time, and then cooled back to room temperature. In almost all situations, the reaction has ceased by the end of the last step, either because one of the reactants has been fully consumed or because the temperature has been lowered to the point where the rate is effectively zero. The last step in the operating protocol then is to remove the product from the reactor. Often it is transferred to a holding tank from which it can be sent elsewhere for further processing, purification, or longer term storage.</p>
<p>Of course, the operational protocol, i. e. the “recipe,” could be more complicated, requiring any number of steps (also called stages). In some cases an intermediate stage in the operational protocol might call for the addition of a reagent. As long as that reagent is added instantaneously, the reactor can be analyzed as a BSTR. However, if the reagent is added over time as reactions continue to occur, the reactor is no longer a BSTR and that phase of processing must be analyzed as a semi-batch reactor (<a href="section_4_sbstr_analysis.html" class="quarto-xref"><span>Chapter 10</span></a>).</p>
<p>It is very important to recognize that the productivity of the reactor, that is the amount of product it produces per hour, must be calculated taking the so-called <em>turnaround time</em> into account. That is, one must include the time needed to clean, fill and drain the reactor, not just the length of time during which reaction takes place. Doing so permits the definition of the net rate of generation of reagent <span class="math inline">\(i\)</span> given in <a href="#eq-bstr_net_rate" class="quarto-xref">Equation&nbsp;<span>9.1</span></a>.</p>
<p><span id="eq-bstr_net_rate"><span class="math display">\[
r_{i,net} = \frac{n_{i,f} - n_{i,0}}{t_{rxn} + t_{turn}}
\tag{9.1}\]</span></span></p>
<p>Even if the turnaround time was zero, it would still be desirable to define a net rate as above. The net rate is useful for characterizing the overall process. As the reaction is progressing, the rate of reaction is continually changing because the temperature and composition are changing. The rate of reaction at any one time during the processing is referred to as the instantaneous rate at that time. The net rate defined in <a href="#eq-bstr_net_rate" class="quarto-xref">Equation&nbsp;<span>9.1</span></a> is a kind of average of the instantaneous rate over the processing time. Similarly, it is sometimes useful to differentiate between overall and instantaneous values of other quantities such as yields, conversions, selectivities, etc.</p>
</section>
<section id="sec-4_bstr_qualitative_analysis" class="level2" data-number="9.3">
<h2 data-number="9.3" class="anchored" data-anchor-id="sec-4_bstr_qualitative_analysis"><span class="header-section-number">9.3</span> Qualitative Analysis of Reaction in a BSTR</h2>
<p>A simple process for the qualitative analysis of a reacting system was presented in <a href="section_3_reaction_engineering_tasks.html#sec-3_qualitative_analysis" class="quarto-xref">Chapter&nbsp;<span>7.1</span></a>. In a BSTR, there are no spatial variations in temperature or composition because the reactor is perfectly mixed. Therefore, qualitative analysis of a BSTR is used to determine how temperature, reaction rate, composition and related quantities (conversion, selectivity) vary with reaction time.</p>
<p>For purposes of illustration, suppose the typical, irreversible, exothermic reaction, <span class="math inline">\(A \rightarrow Z\)</span> takes place in an isothermal BSTR. In this situation, only the concentrations need to be considered because in an isothermal reactor the temperature does not change. At the start of the process, the concentration of A will be high and that of Z will be small or zero. During a very small interval of time at the start of the process the concentration of A will decrease and the concentration of Z will increase due to the reaction starting to take place. Hence, in a plot of the concentration of reactant A versus reaction time, the <span class="math inline">\(y\)</span>-intercept will be high and the slope at that point will be negative. For the product, Z, the <span class="math inline">\(y\)</span>-intercept will be low or zero and the initial slope will be positive.</p>
<p>The changes in composition will affect the reaction rate. For a typical, irreversible reaction, the decrease in the reactant concentration will tend to decrease the rate while the increase in the product concentration will not affect it. Consequently, at the end of that small interval of reaction time, the rate will be smaller.</p>
<p>In the next small interval of time, the concentration of the reactant, A, will decrease by less than it did in the first interval because the rate is lower. For the same reason, the concentration of the product, Z, will increase by less than it did during the first interval of time. In terms of graphs showing the concentrations versus time, the concentration of the reactant, A, will start high with a negative slope and a curvature that is concave upward. That is, the slope will become less steep as the reaction time increases. In like manner, a graph showing the concentration of Z versus reaction time will start at or near zero with a positive slope and a curvature that is concave downward (i. e. the slope again will get less steep as the reaction time increases).</p>
<p>If that initial behavior continued throughout the process, the concentration of the reactant would decrease with a smaller and smaller slope until finally reaching a horizontal plateau at a value of zero (because the reaction is irreversible and therefore goes to completion). The concentration of the product would increase with a smaller and smaller slope until finally reaching a plateau at a value equal to the initial concentration of A (because in the reaction being considered, the stoichiometry is 1 Z per A). The results of this qualitative analysis are shown in <a href="#fig-qualitative_iso_batch_profiles" class="quarto-xref">Figure&nbsp;<span>9.2</span></a>. Qualitative analysis is not limited to reagent concentrations. Graphs showing conversion, selectivity, rate, temperature, etc. <em>vs</em>. time can also be generated.</p>
<div id="fig-qualitative_iso_batch_profiles" class="quarto-layout-panel">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-qualitative_iso_batch_profiles-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="quarto-layout-row">
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="Graphics/qual_iso_batch_reactant_profile.png" class="img-fluid figure-img"></p>
</div>
<div class="quarto-layout-cell" style="flex-basis: 50.0%;justify-content: center;">
<p><img src="Graphics/qual_iso_batch_product_profile.png" class="img-fluid figure-img"></p>
</div>
</div>
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-qualitative_iso_batch_profiles-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.2: Qualitative reactant (left) and product (right) concentration profiles during isothermal reaction in a BSTR.
</figcaption>
</figure>
</div>
<p>The qualitative analysis here was straightforward because the reactor was isothermal. In <a href="#sec-example_9_6_1" class="quarto-xref">Example&nbsp;<span>9.6.1</span></a> the qualitative analysis of an adiabatic BSTR is presented. That analysis is more complicated because both concentrations and temperature are changing. In fact, the changes in composition and temperature, taken separately, would affect the rate in opposite ways. As a consequence there is greater uncertainty in the qualitative analysis results.</p>
</section>
<section id="bstr-design-equations" class="level2" data-number="9.4">
<h2 data-number="9.4" class="anchored" data-anchor-id="bstr-design-equations"><span class="header-section-number">9.4</span> BSTR Design Equations</h2>
<p>The reactor design equations for BSTRs are derived in <a href="apndx_derivations.html#sec-apndx_BSTR_balances" class="quarto-xref">Appendix&nbsp;<span>E.2</span></a> and discussed in <a href="section_3_react_eng_models.html#sec-ideal_bstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.4</span></a>. The BSTR mole and energy balances shown below were presented in Equations <a href="section_3_react_eng_models.html#eq-bstr_mole_balance" class="quarto-xref"><span>6.8</span></a> and <a href="section_3_react_eng_models.html#eq-bstr_energy_balance" class="quarto-xref"><span>6.9</span></a>. <a href="section_3_react_eng_models.html#sec-heat_exchange_eqns" class="quarto-xref">Chapter&nbsp;<span>6.3</span></a> also presented the energy balances shown below for a heat exchange fluid that transfers sensible heat, <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_sensible" class="quarto-xref">Equation&nbsp;<span>6.2</span></a>, and one that transfers latent heat, <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_latent" class="quarto-xref">Equation&nbsp;<span>6.6</span></a>. That chapter also describes how to select the specific reactor design equations needed to model BSTRs under different circumstances. That discussion will not be duplicated here.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \sum_j \nu_{i,j}r_j
\]</span></p>
<p><span class="math display">\[
\left(\sum_i n_i \hat C_{p,i} \right) \frac{dT}{dt} - V\frac{dP}{dt}  - P  \frac{dV}{dt}  = \dot Q - \dot W - V \sum_j \left(r_j \Delta H_j \right)
\]</span></p>
<p><span class="math display">\[
\rho_{ex} V_{ex} \tilde C_{p,ex}\frac{dT_{ex,out}}{dt} = -\dot Q - \dot m_{ex} \int_{T_{ex,in}}^{T_{ex,out}} \tilde C_{p,ex}dT
\]</span></p>
<p><span class="math display">\[
\frac{\rho_{ex} V_{ex} \Delta H_{\text{latent},ex}^0}{M_{ex}} \frac{d \gamma}{dt} = - \dot Q - \gamma \dot m_{ex} \frac{\Delta H_{\text{latent},ex}^0}{M_{ex}}
\]</span></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>It is important to notice that the <span class="math inline">\(V\frac{dP}{dt}\)</span> and <span class="math inline">\(P\frac{dV}{dt}\)</span> terms in the reacting fluid energy balance will have units of pressure volume time<sup>-1</sup>. Most of the other terms will have units of energy time<sup>-1</sup>. This means that a unit conversion is needed. One easy way to do this is to multiply the <span class="math inline">\(V\frac{dP}{dt}\)</span> and <span class="math inline">\(P\frac{dV}{dt}\)</span> terms by the ideal gas constant in units of energy mol<sup>-1</sup> temperature<sup>-1</sup> and divide by the ideal gas constant in units of pressure volume mol<sup>-1</sup> temperature<sup>-1</sup>. The moles and temperatures cancel out giving the necessary conversion factor. This works even for a liquid phase system because the ideal gas law is not being used as the equation of state (i. e. to convert from pressure volume to mol temperature). In <em>Reaction Engineering Basics</em> the rate of doing work, <span class="math inline">\(\dot{W}\)</span> is almost always negligible. However, if it is non-zero, it will likely have units of power (e. g. hp) or pressure volume time<sup>-1</sup>, and again a unit conversion is needed.</p>
</div>
</div>
</div>
<p>The design equations can often be simplified. As noted in <a href="section_3_react_eng_models.html#sec-ideal_bstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.4</span></a>, if the reactor walls are rigid (or if an ideal, incompressible liquid is being processed) then the volume, <span class="math inline">\(V\)</span>, will be constant and its time derivative, <span class="math inline">\(\frac{dV}{dt}\)</span>, will equal zero. If the work associated with agitation is negligible (it usually is) and there are no other shafts or moving boundaries, then the rate at which the reacting fluid performs work, <span class="math inline">\(\dot W\)</span>, on its surroundings is also equal to zero. When an ideal, incompressible liquid is being processed, the pressure, <span class="math inline">\(P\)</span>, is constant and its time derivative, <span class="math inline">\(\frac{dP}{dt}\)</span>, is equal to zero. (The pressure gradient within the reacting fluid due to the hydrostatic head is neglibible.) Finally, for liquids, <a href="section_3_react_eng_models.html#eq-bstr_equivalent_sens_heat_terms" class="quarto-xref">Equation&nbsp;<span>6.10</span></a> showed how the sensible heat term in <a href="section_3_react_eng_models.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a> can be expressed in terms of the mass-specific or volume-specific heat capacity of the solution as a whole instead of the individual molar heat capacities.</p>
<p><span class="math display">\[
\left(\sum_i n_i \hat C_{p,i} \right) \frac{dT}{dt}\ \Leftrightarrow\ \rho V \tilde C_p \frac{dT}{dt}\ \Leftrightarrow\ V \breve C_p \frac{dT}{dt}
\]</span></p>
<p>When rate expressions are substituted into the BSTR mole and energy balances, they typically introduce concentrations or partial pressures of reagents. When the design equations are solved, those concentrations and partial pressures must be expressed in terms of the molar amounts of the reagents (see <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref">Appendix&nbsp;<span>F.5.2</span></a>). The concentration is simply the molar amount divided by the volume, <a href="section_1_rxns_reactors.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>2.7</span></a>.</p>
<p><span class="math display">\[
C_i = \frac{n_i}{V}
\]</span></p>
<p>For ideal gases, the partial pressure is related to the molar amount through the ideal gas law, <a href="section_1_rxns_reactors.html#eq-partial_pressure" class="quarto-xref">Equation&nbsp;<span>2.12</span></a>.</p>
<p><span class="math display">\[
P_i = \frac{n_iRT}{V}
\]</span></p>
<p>When heat transfer involves an exchange fluid as shown in <a href="#fig-bstr_heat_exchange_schematics" class="quarto-xref">Figure&nbsp;<span>9.1</span></a>, the rate of heat exchange in the energy balances can be calculated using <a href="section_3_react_eng_models.html#eq-bstr_heat_transfer" class="quarto-xref">Equation&nbsp;<span>6.18</span></a>. If the reactor operates adiabatically (i. e. it is perfectly insulated and does not have a shell, coil or external heat exchanger), <span class="math inline">\(\dot{Q}\)</span> is equal to zero.</p>
<p><span class="math display">\[
\dot Q = UA\left( T_{ex,out} - T \right)
\]</span></p>
</section>
<section id="general-approach-to-modeling-isolated-bstrs" class="level2" data-number="9.5">
<h2 data-number="9.5" class="anchored" data-anchor-id="general-approach-to-modeling-isolated-bstrs"><span class="header-section-number">9.5</span> General Approach to Modeling Isolated BSTRs</h2>
<p><a href="section_3_reaction_engineering_tasks.html" class="quarto-xref"><span>Chapter 7</span></a> described how to identify a reaction engineering assignment that involves the modeling of an isolated ideal reactor, and <a href="section_3_formulating_calcs.html" class="quarto-xref"><span>Chapter 8</span></a> suggested a six step workflow for reactor analysis.</p>
<ol type="1">
<li>Summarize the information provided in the assignment.</li>
<li>Generate the model equations.</li>
<li>Generate equations for calculating the quantities of interest.</li>
<li>Formulate the calculations.</li>
<li>Implement the calculations numerically and execute them.</li>
<li>Present and discuss the results.</li>
</ol>
<p>This section describes the application of that workflow to the modeling of an isolated BSTR. The process may seem a bit abstract when first read, but it should become clearer after seeing it used in the examples provided at the end of this chapter.</p>
<p>Often the operational protocol for a BSTR has multiple heating and cooling stages. When this is true, each stage of the protocol <em>may</em> need to be analyzed separately from the other stages because terms in the reactor design equations may change. The reactor design equations for BSTRs are ordinary differential equations with elapsed time, <span class="math inline">\(t\)</span>, as the independent variable. The stages occur sequentially, and consequently the values of <span class="math inline">\(t\)</span> and the dependent variables at the end of one stage in the operating protocol become the initial values for the next stage. The one exception to this is if a reagent is <em>instantaneously</em> added at the end of a stage. In that situation, the initial values for the next stage are the result of mixing the added reagent with the reagents in the BSTR at the end of the previous stage.</p>
<p><strong>Summarizing the information provided in the assignment</strong>. An assignment summary is useful in that it extracts the critical information from the assignment narrative and presents it as a concise summary. Assignment summaries are described in <a href="section_3_formulating_calcs.html#sec-3_summarize_assignment" class="quarto-xref">Chapter&nbsp;<span>8.1</span></a>. When analyzing an isolated BSTR the assignment summary will typically include lists of the reactions taking place, the rate expressions for those reactions, the quantities of interest, known constants given in the assignment narrative, and any specified parameters. The summary will also include details of the operational protocol for the BSTR, a schematic diagram of it, and the basis for the calculations, if there is one.</p>
<p><strong>Generating the model equations</strong>. When analyzing an isolated BSTR , it will <em>always</em> be necessary to generate the reactor design equations that are needed to model that specific BSTR. Selecting which equations are needed to model a given BSTR and simplifying the design equations is described in <a href="section_3_react_eng_models.html#sec-ideal_bstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.4</span></a> and in the preceding section of this chapter.</p>
<p>The design equations for an isolated BSTR will be either a set of IVODEs or a set of DAEs, with <span class="math inline">\(t\)</span> as the independent variable. The dependent variables will always include the molar amounts of the reagents present in the system, <span class="math inline">\(n_i\)</span>. Depending which other design equation are needed to model the BSTR, the dependent variables may also include the temperature of the reacting fluid, <span class="math inline">\(T\)</span>, its pressure, <span class="math inline">\(P\)</span>, and either the instantaneous outlet temperature of the exchange fluid, <span class="math inline">\(T_{ex,out}\)</span>, or the instantaneous fraction of the exchange fluid undergoing phase change, <span class="math inline">\(\gamma\)</span>.</p>
<p>If the reacting fluid is an ideal gas and the reactor design equations include an energy balance on the reacting fluid, the temperature and the pressure will appear as a dependent variables. Consequently, the number of dependent variables will be one greater than the number of IVODEs. In this situation either a dependent variable must be eliminated from the design equations or another IVODE must be added to them (<a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref">Appendix&nbsp;<span>F.5.2</span></a>). A differential form of the ideal gas law, <a href="section_3_react_eng_models.html#eq-differential_ideal_gas_law" class="quarto-xref">Equation&nbsp;<span>6.11</span></a>, is used to accomplish that. For a BSTR, <span class="math inline">\(V\)</span> is constant so its time derivative is zero, and does not appear in the differential form of the gas law. The differential ideal gas law can either be added to the reactor design equations, making the number of equations equal to the number of dependent variables, or it can be solved for <span class="math inline">\(\frac{dP}{dt}\)</span> and substituted into the energy balance, thereby eliminating <span class="math inline">\(P\)</span> as a dependent variable.</p>
<p><span class="math display">\[
RT\left( \sum_i \frac{dn_i}{dt} \right) + R\left( \sum_i n_i \right)\frac{dT}{dt} - V \frac{dP}{dt} = 0
\]</span></p>
<p>The reactor design equations will be solved numerically, so if they are not in the form of derivative expressions, they should be converted to that form (see <a href="apndx_mathematics.html#sec-apndx_derivative_expressions" class="quarto-xref">Appendix&nbsp;<span>F.4.2</span></a>).</p>
<p>Next it is useful to create a table that identifies the initial values and known final values of the ODE variables. For the first stage of the operational protocol, the initial value of <span class="math inline">\(t\)</span> can usually be set equal to 0.0. The other initial values and the known final values should be indicated using the same variable symbol as that used in the assignment summary. Quite commonly, a subscripted zero is added to indicate an initial value and a subscripted “f” is used to denote a final value.</p>
<p>The table can then be used to write supporting equations to calculate values that are not known. If only one final value is known or can be calculated directly, the design equations are IVODEs. If two final values are known or can be calculated directly, the design equations are DAEs and an implicit equation can be written relating one of the final values to either an unknown initial value or an unknown constant appearing in the ODEs (see <a href="apndx_mathematics.html#sec-apndx_solve_daes" class="quarto-xref">Appendix&nbsp;<span>F.5.3</span></a>).</p>
<p>Finally, any ancillary equations that are needed to solve the BSTR design equations can be written. These will include rate expressions, equations for calculating the rate coefficients and concentrations appearing in them, and equations for calculating any other additional unknowns that appear in the design equations using the independent and dependent variables and known constants.</p>
<p><strong>Calculating the quantities of interest</strong>. The BSTR design equations will be solved numerically, yielding corresponding sets of values of the independent and dependent variables spanning the range from their initial to their final values. These may not be the quantities of interest in the assignment, but they can be used to calculate the quantities of interest. Accordingly, any equations for calculating the quantities of interest should be generated.</p>
<p><strong>Formulating the calculations</strong>. Once all of the necessary equations for completing the assignment have been generated, the calculations can be formulated. Basically, as noted in <a href="section_3_formulating_calcs.html#sec-3_formulate_calculations" class="quarto-xref">Chapter&nbsp;<span>8.4</span></a>, this entails writing specifications for computer functions that will solve the equations numerically. For an isolated BSTR the design equations will either be IVODEs or DAEs. Writing specifications for the reactor function, derivatives function, and residuals function that are needed for solving the design equations is described in Appendices <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref"><span>F.5.2</span></a> and <a href="apndx_mathematics.html#sec-apndx_solve_daes" class="quarto-xref"><span>F.5.3</span></a>. Finally, specifications should be written for a “deliverables” function that calls those functions to solve the design equations and then uses the results to calculate the quantities of interest.</p>
<p><strong>Completing the assignment workflow</strong>. The computer function specifications included in the formulation of the calculations provide essentially all of the information that is needed for implementing and performing them. The choice of the specific software package and programming language for doing so is left to the reader. Examples in <em>Reaction Engineering Basics</em> will simply note that the calculations were performed as described in the formulation and proceed to presenting and discussing the results. As noted in <a href="section_3_formulating_calcs.html#sec-3_assignment_discussion" class="quarto-xref">Chapter&nbsp;<span>8.6</span></a> a qualitative analysis of the BSTR can provide insights when discussing the results.</p>
</section>
<section id="examples" class="level2" data-number="9.6">
<h2 data-number="9.6" class="anchored" data-anchor-id="examples"><span class="header-section-number">9.6</span> Examples</h2>
<p>The examples in this section illustrate the analysis of isolated BSTRs. Examples <a href="#sec-example_9_6_1" class="quarto-xref"><span>9.6.1</span></a> and <a href="#sec-example_9_6_2" class="quarto-xref"><span>9.6.2</span></a> are response assignments where the assignment specifies a sufficient number of quantities so that the reactor design equations can be solved to find the quantities of interest. In <a href="#sec-example_9_6_1" class="quarto-xref">Example&nbsp;<span>9.6.1</span></a> the BSTR design equations are IVODEs while in <a href="#sec-example_9_6_2" class="quarto-xref">Example&nbsp;<span>9.6.2</span></a> they are DAEs. In addition to illustrating the computational procedure for these two types of equations, <a href="#sec-example_9_6_1" class="quarto-xref">Example&nbsp;<span>9.6.1</span></a> involves a single reaction taking place in an adiabatic BSTR while <a href="#sec-example_9_6_2" class="quarto-xref">Example&nbsp;<span>9.6.2</span></a> features two reactions taking place in a BSTR that is cooled using an exchange fluid.</p>
<p>Examples <a href="#sec-example_9_6_3" class="quarto-xref"><span>9.6.3</span></a> and <a href="#sec-example_9_6_4" class="quarto-xref"><span>9.6.4</span></a> are optimization assignments that identify a reactor variable that must be maximized or minimized by specifying a reactor input. The BSTR operational protocol in <a href="#sec-example_9_6_3" class="quarto-xref">Example&nbsp;<span>9.6.3</span></a>, like those in Examples <a href="#sec-example_9_6_1" class="quarto-xref"><span>9.6.1</span></a> and <a href="#sec-example_9_6_2" class="quarto-xref"><span>9.6.2</span></a>, consists of a single stage, but unlike the other examples, the reacting fluid is a gas and not a liquid. <a href="#sec-example_9_6_4" class="quarto-xref">Example&nbsp;<span>9.6.4</span></a> illustrates a situation where there are multiple stages in the operating protocol. It also considers turnaround time and the net rate of reaction.</p>
<section id="sec-example_9_6_1" class="level3" data-number="9.6.1">
<h3 data-number="9.6.1" class="anchored" data-anchor-id="sec-example_9_6_1"><span class="header-section-number">9.6.1</span> Concentration, Temperature and Rate Profiles during Adiabatic Operation of a BSTR</h3>
<p>The liquid-phase reaction between A and B, equation (1), is irreversible. At the conditions of interest, the heat of reaction is constant and equal to -101.2 kJ mol<sup>-1</sup>. The rate expression is given in equation (2), where the rate coefficient exhibits Arrhenius temperature dependence with a pre-exponential factor of 5.11 x 10<sup>4</sup> L mol<sup>-1</sup> s<sup>-1</sup> and an activation energy of 74.8 kJ mol<sup>-1</sup>.</p>
<p>Two solutions, one containing only reagent A at 180 °C and one containing only reagent B at 180 °C, are charged to an adiabatic BSTR producing 1900 L of solution initially containing 2.9 mol A L<sup>-1</sup> and 3.2 mol B L<sup>-1</sup> at 180 °C. The solution is ideal and has a constant heat capacity of 1.23 cal g<sup>-1</sup> K<sup>-1</sup> and a constant density of 1.02 g cm<sup>-3</sup>. Plot the concentrations of A, B, Y, and Z, the reacting fluid temperature, and the instantaneous reaction rate for the first 2 h of reaction, and comment upon the shapes of the graphs.</p>
<p><span class="math display">\[
A + B \rightarrow Y + Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r = kC_AC_B \tag{2}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment describes a single BSTR and no other equipment. Information about the reaction, rate, and reactor operation are provided. The quantities of interest are related to the final reagent amounts and temperature. This indicates I will need to solve the BSTR design equations for the reactor.</p>
<p>I’ll start by summarizing the information provided in the assignment narrative. I will use a subscripted “0” to denote initial values and a subscripted “f” to denote final values. I’ll also add the ideal gas constant to the given constants. Numerical solution of the design equations will yield sets of corresponding values of the independent and dependent variables that span the range from their initial values to their final values. I’ll use underlined variable symbols, e. g. <span class="math inline">\(\underline{t}\)</span>, to represent sets of values.</p>
</div>
</div>
</div>
<section id="assignment-summary" class="level4" data-number="9.6.1.1">
<h4 data-number="9.6.1.1" class="anchored" data-anchor-id="assignment-summary"><span class="header-section-number">9.6.1.1</span> Assignment Summary</h4>
<p><strong>Reaction:</strong></p>
<p><span class="math display">\[
A + B \rightarrow Y + Z \tag{1}
\]</span></p>
<p><strong>Rate Expression:</strong></p>
<p><span class="math display">\[
r = kC_AC_B \tag{2}
\]</span></p>
<p><strong>Reactor System:</strong> Adiabatic BSTR</p>
<p><strong>Reactor Schematic:</strong></p>
<div id="fig-closed_stirred_tank_reactor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Graphics/bstr_adiabatic.png" class="img-fluid figure-img" style="width:30.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.3: A closed (batch), adiabatic stirred tank reactor.
</figcaption>
</figure>
</div>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(\underline{C}_A\)</span>, <span class="math inline">\(\underline{C}_B\)</span>, <span class="math inline">\(\underline{C}_Y\)</span>, <span class="math inline">\(\underline{C}_Z\)</span>, <span class="math inline">\(\underline{T}\)</span>, and <span class="math inline">\(\underline{r}\)</span> <em>vs</em>. <span class="math inline">\(\underline{t}\)</span> as graphs.</p>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(\Delta H_1\)</span> = -101.2 kJ mol<sup>-1</sup>, <span class="math inline">\(k_{0}\)</span> = 5.11 x 10<sup>4</sup> L mol<sup>-1</sup> s<sup>-1</sup>, <span class="math inline">\(E\)</span> = 74.8 kJ mol<sup>-1</sup>, <span class="math inline">\(V\)</span> = 1900 L, <span class="math inline">\(T_0\)</span> = (180 + 273.15) K, <span class="math inline">\(C_{A,0}\)</span> = 2.9 mol L<sup>-1</sup>, <span class="math inline">\(C_{B,0}\)</span> = 3.2 mol L<sup>-1</sup>, <span class="math inline">\(\tilde{C}_p\)</span> = 1.23 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\rho\)</span> = 1.02 g cm<sup>-3</sup>, <span class="math inline">\(t_f\)</span> = 2 h, and <span class="math inline">\(R\)</span> = 8.314 J mol<sup>-1</sup> K<sup>-1</sup>.</p>
</section>
<section id="generation-of-the-model-equations" class="level4" data-number="9.6.1.2">
<h4 data-number="9.6.1.2" class="anchored" data-anchor-id="generation-of-the-model-equations"><span class="header-section-number">9.6.1.2</span> Generation of the Model Equations</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Reactor analysis always requires a set of reactor design equations. The selection of the specific design equations for a given analysis was described in <a href="section_3_react_eng_models.html#sec-ideal_bstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.4</span></a>. Mole balances are always needed. I’ll write a BSTR mole balance, <a href="section_3_react_eng_models.html#eq-bstr_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.8</span></a>, on each of the reagents. In this assignment, only one reaction is taking place, so the summation reduces to a single term.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \sum_j \nu_{i,j}r_j \qquad \Rightarrow \qquad \frac{dn_i}{dt} = V \nu_i r
\]</span></p>
<p>This BSTR is not isothermal, so the mole balances cannot be solved independently of an energy balance on the reacting fluid, <a href="section_3_react_eng_models.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>. In this assignment the reacting fluid is a liquid which I will assume to be an incompressible ideal solution. Consequently, the reacting fluid volume and the total pressure are constant, and their time derivatives are equal to zero. The reactor is adiabatic, so the rate of heat input, <span class="math inline">\(\dot{Q}\)</span>, is equal to zero. There are no shafts or moving boundaries other than the agitator, and the rate at which it performs work is negligible, so <span class="math inline">\(\dot{W}\)</span> is also equal to zero. With only one reaction taking place, the summation over the reactions reduces to a single term. This assignment provides the mass-specific heat capacity of the entire solution, so the sensible heat term can be re-written using that heat capacity, <a href="section_3_react_eng_models.html#eq-bstr_equivalent_sens_heat_terms" class="quarto-xref">Equation&nbsp;<span>6.10</span></a>. Finally, the energy balance can be put in the form of a derivative expression by dividing both sides by <span class="math inline">\(\rho V \tilde{C}_p\)</span>. Since only one reaction is taking place, I don’t need a subscript on the rate.</p>
<p><span class="math display">\[
\cancelto{\rho V \tilde{C}_p}{\left(\sum_i n_i \hat C_{p,i} \right)} \frac{dT}{dt} - \cancelto{0}{V\frac{dP}{dt}}  - \cancelto{0}{P\frac{dV}{dt}}  = \cancelto{0}{\dot Q} - \cancelto{0}{\dot W} - V \cancelto{r \Delta H}{\sum_j \left(r_j \Delta H_j \right)}
\]</span></p>
<p><span class="math display">\[
\rho V \tilde{C}_p \frac{dT}{dt} = - V r \Delta H_1
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = -\frac{V r \Delta H_1}{\rho V \tilde{C}_p}
\]</span></p>
<p>In this assignment the BSTR operates adiabatically, so there isn’t an exchange fluid, and an exchange fluid energy balance cannot be written. Momentum balances are not used with stirred tank reactors. This gives five reactor design equations that contain five dependent variables, and consequently it is not necessary to add an IVODE or eliminate a dependent variable. So for this reactor, the design equation consist of mole balances on A, B, Y, and Z and an energy balance on the reacting fluid.</p>
</div>
</div>
</div>
<p><strong>BSTR Design Equations</strong></p>
<p>Mole balance design equations for A, B, Y, and Z are presented in equations (3) through (6), and the energy balance on the reacting fluid is given by equation (7).</p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -rV \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_B}{dt} = -rV \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Y}{dt} = rV \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = rV \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = -\frac{r \Delta H_1}{\rho \tilde{C}_p} \tag{7}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Initial values and a stopping criterion are needed when solving IVODEs or DAEs. The instant at which the two solutions are charged into the reactor can be defined as <span class="math inline">\(t=0\)</span>. The initial values are then the molar amounts of the reagents and the temperature at that instant. The two solutions that were charged to the BSTR did not contain reagent Y or reagent Z, so their initial amounts are zero. The final value of the time in this assignment is 2 h, which I represented as <span class="math inline">\(t_f\)</span> in the list of known constants. Consequently the stopping criterion is that <span class="math inline">\(t=t_f\)</span>.</p>
<p>No other final values are known or can be calculated directly, so the design equations are IVODEs. The initial temperature is known, but the initial molar amounts of A and B are not. However they can be calculated directly from the initial concentrations and the fluid volume, which are known.</p>
</div>
</div>
</div>
<p><strong>Intial Values and Stopping Criterion</strong></p>
<div id="tbl-example_9_6_1_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_9_6_1_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.1: Initial values and stopping criterion for solving the design equations, equations (3) through (7).
</figcaption>
<div aria-describedby="tbl-example_9_6_1_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"><span class="math inline">\(t_f\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{A,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_B\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{B,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_Y\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_0\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Supporting Equations for Calculating the Initial and Final Values</strong></p>
<p>The initial molar amounts of A and B in <a href="#tbl-example_9_6_1_initial_values" class="quarto-xref">Table&nbsp;<span>9.1</span></a> can be calculated using equations (8) and (9).</p>
<p><span class="math display">\[
n_{A,0} = C_{A,0}V \tag{8}
\]</span></p>
<p><span class="math display">\[
n_{B,0} = C_{B,0}V \tag{9}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To solve the IVODEs numerically I’ll need to write a derivatives function. It will receive <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span> for the current integration step as arguments, and must return the derivatives calculated using equations (3) through (7). Looking at those equations, all of the other quantities except <span class="math inline">\(r\)</span> are known, so before I can evaluate the derivatives, I need to calculate <span class="math inline">\(r\)</span>.</p>
<p>The assignment provides the rate expression, equation (2), which can be used to calculate <span class="math inline">\(r\)</span>, but the rate expression contains the rate coefficient, <span class="math inline">\(k\)</span>, and the concentrations of A and B. They, too, will need to be calculated before <span class="math inline">\(r\)</span> can be calculated. The rate coefficient can be calculated using the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>. The defining equation for concentration in a closed system, <a href="section_1_rxns_reactors.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>2.7</span></a>, can be used to calculate the concentrations of A and B.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Derivatives</strong></p>
<p>The rate, <span class="math inline">\(r\)</span>, appearing in the reactor design equations can be calculated using the given rate expression, equation (2). The rate coefficient, <span class="math inline">\(k\)</span>, appearing in equation (2) can be calculated using the Arrhenius expression, equation (10). The concentrations can be calculated using equations (11) and (12).</p>
<p><span class="math display">\[
k = k_{0}\exp{\left( \frac{-E}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{11}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{n_B}{V} \tag{12}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point the IVODEs can be solved numerically to obtain corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span> spanning the range from their initial to their final values. <span class="math inline">\(\underline{T}\)</span> and <span class="math inline">\(\underline{t}\)</span> are two of the quantities of interest needed to make one of the requested graphs, but the others need to be calculated using the results from solving the IVODEs. Again, the defining equation for concentration in a closed system, <a href="section_1_rxns_reactors.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>2.7</span></a>, can be used to calculate the concentrations. The instantaneous rate can then be calculated using the rate expression.</p>
</div>
</div>
</div>
</section>
<section id="calculating-the-quantities-of-interest" class="level4" data-number="9.6.1.3">
<h4 data-number="9.6.1.3" class="anchored" data-anchor-id="calculating-the-quantities-of-interest"><span class="header-section-number">9.6.1.3</span> Calculating the Quantities of Interest</h4>
<p>With the information given above, equations (3) through (7) can be solved for corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span> that span the range from their initial values to their final values. The concentrations of A, B, Y, and Z, at each time can then be calculated using equations (11), (12), (13), and (14). Then, knowing <span class="math inline">\(C_A\)</span>, <span class="math inline">\(C_B\)</span>, and <span class="math inline">\(T\)</span>, at each time, the instantaeous rate in that range can be calculated using the Arrhenius expression, equation (10), and the rate expression, equation (2).</p>
<p><span class="math display">\[
C_Y = \frac{n_Y}{V} \tag{13}
\]</span></p>
<p><span class="math display">\[
C_Z = \frac{n_B}{V} \tag{14}
\]</span></p>
</section>
<section id="formulation-of-the-calculations" class="level4" data-number="9.6.1.4">
<h4 data-number="9.6.1.4" class="anchored" data-anchor-id="formulation-of-the-calculations"><span class="header-section-number">9.6.1.4</span> Formulation of the Calculations</h4>
<p>To complete the assignment, the BSTR design equations are solved first, and then the quantities of interest are calculated and the requested graphs are generated. The BSTR design equations are IVODEs, and they can be solved numerically as described in <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref">Appendix&nbsp;<span>F.5.2</span></a> by writing a derivatives function and a BSTR function. A deliverables function can be added to calculate the quantities of interest and generate the graphs.</p>
<ul>
<li>The derivatives function must receive the independent and dependent variables at the start of an integration step as arguments, and it must return the derivatives of the dependent variables. To do so it must calculate the rate before it can evaluate the derivatives.</li>
<li>The BSTR function does not need any arguments to calculate and return corresponding sets of values of the independent and dependent variables spanning the interval from <span class="math inline">\(t_0\)</span> to <span class="math inline">\(t_f\)</span>. To do so it must define the initial values and stopping criterion and then pass them to an IVODE solver along with the derivatives function.</li>
<li>The deliverables function does not need any arguments, and it doesn’t return anything. It calls the BSTR function, uses the results it returns to calculate the quantities of interest, and generates the requested graphs.</li>
</ul>
<p>Specifications can be written for each of these functions in preparation for writing them. The function specifications given here assume that the known constants are available wherever they are needed.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Derivatives Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Derivatives Function Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_B}{dt}\)</span>, <span class="math inline">\(\frac{dn_Y}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, and <span class="math inline">\(\frac{dT}{dt}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
k = k_{0}\exp{\left( \frac{-E}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{11}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{n_B}{V} \tag{12}
\]</span></p>
<p><span class="math display">\[
r = kC_AC_B \tag{2}
\]</span></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -rV \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_B}{dt} = -rV \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Y}{dt} = rV \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = rV \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = -\frac{r \Delta H_1}{\rho \tilde{C}_p} \tag{7}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the BSTR Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>BSTR Function Specifications</strong>
</center>
<p><u>Arguments</u>: none</p>
<p><u>Returns</u>: <span class="math inline">\(\underline{t}\)</span>, <span class="math inline">\(\underline{n}_A\)</span>, <span class="math inline">\(\underline{n}_B\)</span>, <span class="math inline">\(\underline{n}_Y\)</span>, <span class="math inline">\(\underline{n}_Z\)</span>, and <span class="math inline">\(\underline{T}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
t_{initial} =0 \tag{15}
\]</span></p>
<p><span class="math display">\[
n_{A,initial} = n_{A,0} = C_{A,0}V \tag{8}
\]</span></p>
<p><span class="math display">\[
n_{B,initial} = n_{B,0} = C_{B,0}V \tag{9}
\]</span></p>
<p><span class="math display">\[
n_{Y,initial} = 0 \tag{16}
\]</span></p>
<p><span class="math display">\[
n_{Z,initial} = 0 \tag{17}
\]</span></p>
<p><span class="math display">\[
T_{initial} = T_0 \tag{18}
\]</span></p>
<p><span class="math display">\[
t_{final} = t_f \tag{19}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
t_{initial}, n_{A,initial}, n_{B,initial}, n_{Y,initial}, \\
n_{Z,initial}, T_{initial}, t_{final}, \text{derivatives function}\\
\Downarrow \\
\text{IVODE solver} \\
\Downarrow \\
\underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_Y, \underline{n}_Z, \underline{T}
\end{matrix} \tag{20}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Deliverables Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Deliverables Function Specifications</strong>
</center>
<p><u>Arguments</u>: none</p>
<p><u>Returns</u>: nothing</p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
\begin{matrix}
\text{BSTR function} \\
\Downarrow \\
\underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_Y, \underline{n}_Z, \underline{T}
\end{matrix} \tag{21}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\underline{C}_A = \frac{\underline{n}_A}{V} \tag{11}
\]</span></p>
<p><span class="math display">\[
\underline{C}_B = \frac{\underline{n}_B}{V} \tag{12}
\]</span></p>
<p><span class="math display">\[
\underline{C}_Y = \frac{\underline{n}_Y}{V} \tag{13}
\]</span></p>
<p><span class="math display">\[
\underline{C}_Z = \frac{\underline{n}_Z}{V} \tag{14}
\]</span></p>
<p><span class="math display">\[
\underline{k} = k_{0}\exp{\left( \frac{-E}{R\underline{T}} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
\underline{r} = \underline{k} \underline{C}_A \underline{C}_B \tag{2}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
\underline{t}, \underline{C}_A, \underline{C}_B, \\
\underline{C}_Y, \underline{C}_Z, \underline{T} \\
\Downarrow \\
\text{plotting function} \\
\Downarrow \\
\text{requested graphs}
\end{matrix} \tag{22}
\]</span></p>
</div>
</div>
</div>
</section>
<section id="implementation-and-execution-of-the-calculations" class="level4" data-number="9.6.1.5">
<h4 data-number="9.6.1.5" class="anchored" data-anchor-id="implementation-and-execution-of-the-calculations"><span class="header-section-number">9.6.1.5</span> Implementation and Execution of the Calculations</h4>
<p>The computer functions above were written as specified using an appropriate mathematics software package. The calculations were then performed by calling the deliverables function.</p>
</section>
<section id="results-and-discussion" class="level4" data-number="9.6.1.6">
<h4 data-number="9.6.1.6" class="anchored" data-anchor-id="results-and-discussion"><span class="header-section-number">9.6.1.6</span> Results and Discussion</h4>
<p>The variation of concentrations of reagents, A, B, Y, and Z, during the first two hours of operation of the BSTR are shown in <a href="#fig-example_9_6_1_concentrations" class="quarto-xref">Figure&nbsp;<span>9.4</span></a>. The variation of the reacting fluid temperature during that period is shown in <a href="#fig-example_9_6_1_temperatures" class="quarto-xref">Figure&nbsp;<span>9.5</span></a>, and the variation of the instantaneous rate is shown in <a href="#fig-example_9_6_1_rates" class="quarto-xref">Figure&nbsp;<span>9.6</span></a>.</p>
<div id="fig-example_9_6_1_concentrations" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_1_concentrations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_1/concentrations.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_1_concentrations-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.4: Concentrations <em>versus</em> reaction time.
</figcaption>
</figure>
</div>
<div id="fig-example_9_6_1_temperatures" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_1_temperatures-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_1/temperature.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_1_temperatures-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.5: Temperature <em>versus</em> reaction time.
</figcaption>
</figure>
</div>
<div id="fig-example_9_6_1_rates" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_1_rates-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_1/rate.png" class="img-fluid figure-img" style="width:60.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_1_rates-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.6: Instantaneous rate <em>versus</em> reaction time.
</figcaption>
</figure>
</div>
<p>The concentrations of the reactants, A and B, decrease monotonically during the first two hours of operation while the concentrations of the products, Y and Z, increase. The temperature increases steadily, too. The variation of the reaction rate is different. Initially it increases, but then it passes through a maximum after which it steadily decreases. A qualitative analysis shows that the variations in the concentrations, temperature and rate seen in Figures <a href="#fig-example_9_6_1_concentrations" class="quarto-xref"><span>9.4</span></a>, <a href="#fig-example_9_6_1_temperatures" class="quarto-xref"><span>9.5</span></a>, and <a href="#fig-example_9_6_1_rates" class="quarto-xref"><span>9.6</span></a> are expected. At <span class="math inline">\(t=0\)</span>, the concentrations of the reagents and the temperature are all at their initial values.</p>
<p>At that point the rate is positive, so <em>after a short interval of time</em> the concentrations of A and B will have decreased slightly and the concentrations of Y and Z will have increased slightly due to the occurrence of the reaction. Because the reaction is exothermic and the reactor operates adiabatically, the temperature will have increased due to the heat released by the reaction.</p>
<p>The rate could either increase or decrease during this short interval. The concentrations of the reactants, A and B, are decreasing, and this alone would cause the rate to decrease. However, at the same time the temperature is increasing, and that alone would cause the rate to increase. Generally, at the start of the reaction the exponential dependence of the rate upon the temperature will be stronger than its dependence upon the reactant concentrations, and the rate will increase. This is seen to be the case in <a href="#fig-example_9_6_1_rates" class="quarto-xref">Figure&nbsp;<span>9.6</span></a>. (Had the heat of reaction been very small, leading to a small increase in the temperature, it is possible that the rate would have decreased, especially if the activation was also small).</p>
<p>To summarize, <em>during that initial short interval of time</em>, the concentrations of Y and Z, the temperature, and the rate all have positive slopes while the concentrations of A and B have negative slopes. During the <em>next</em> short interval of time, the rate is larger than during the first interval of time. As a consequence, the concentrations and temperature will change more during the second interval. That means that the curvature of the temperature, Y concentration, and Z concentration profiles is initially concave upward and the curvature of the A and B concentration profiles is initially concave downward. Again during this second short interval, opposing effects on the rate are associated with the decreasing reactant concentrations and the increasing temperature.</p>
<p>It is hard to see in <a href="#fig-example_9_6_1_concentrations" class="quarto-xref">Figure&nbsp;<span>9.4</span></a> and <a href="#fig-example_9_6_1_temperatures" class="quarto-xref">Figure&nbsp;<span>9.5</span></a>, but because initially the rate is increasing, the concentrations of A and B are decreasing faster and faster and the concentrations of Y and Z and the temperature are increasing faster and faster. These trends cannot continue indefinitely, if they did, <span class="math inline">\(C_Y\)</span>, <span class="math inline">\(C_Z\)</span>, and <span class="math inline">\(T\)</span> would approach positive infinity and <span class="math inline">\(C_A\)</span> and <span class="math inline">\(C_B\)</span> would approach negative infinity.</p>
<p>In fact, the curvature does change because <em>at some point the effect of decreasing reactant concentrations upon the rate becomes stronger than the effect of increasing temperature</em>. At the point where the two effects become equal, the rate reaches a maximum. Beyond the maximum, the effect of decreasing reactant concentration dominates and the rate decreases. This is seen in <a href="#fig-example_9_6_1_rates" class="quarto-xref">Figure&nbsp;<span>9.6</span></a> where the instantaneous rate passes through a maximum.</p>
<p>At the point where the rate reaches its maximum value, the concentration and temperature profiles exhibit an inflection point. (Again, in this example this is very, very subtle and cannot be discerned in the figures.) Beyond that point, the <span class="math inline">\(C_Y\)</span>, <span class="math inline">\(C_Z\)</span>, and <span class="math inline">\(T\)</span> profiles are concave downward and the <span class="math inline">\(C_A\)</span> and <span class="math inline">\(C_B\)</span> are concave upward. That is, the changes over time become smaller and smaller. This behavior can continue indefinitely. Eventually the concentrations and temperature will stop changing and become constant. In this example, A is the limiting reactant, and the reaction is irreversible, so the concentrations and temperature will become constant when <span class="math inline">\(C_A\)</span> becomes equal to zero.</p>
</section>
</section>
<section id="sec-example_9_6_2" class="level3" data-number="9.6.2">
<h3 data-number="9.6.2" class="anchored" data-anchor-id="sec-example_9_6_2"><span class="header-section-number">9.6.2</span> Parallel Reaction Selectivity in a Cooled BSTR with an Unknown Initial Temperature</h3>
<p>A jacketed, 10 L BSTR is going to be used to process an aqueous solution of A and B. The reactor jacket is perfectly mixed with a volume of 1400 cm<sup>3</sup>, a heat transfer coefficient of 138 cal ft<sup>−2</sup> min<sup>−1</sup> K<sup>−1</sup> and a heat transfer area of 1200 cm<sup>2</sup>. Cooling water at 40 °C flows into the jacket at a rate of 100 g min<sup>-1</sup>. Both the reacting fluid and the cooling water may be taken to have a density of 1 g cm<sup>−3</sup> and a heat capacity of 1 cal g<sup>−1</sup> K<sup>−1</sup>.</p>
<p>Solutions containing A, B, X, Y, and Z are ideal and there is no heat of mixing. The reactor will be charged by mixing two separate solutions, one containing only reagent A and the other containing only reagent B, giving a 10 L charge with initial concentrations of 5 mol A L<sup>-1</sup> and 7 mol B L<sup>-1</sup>. At the time the reactor is charged, the cooling water temperature is 40 °C. Reactions (1) and (2) will occur in the reactor. The heat of reaction (1) is −16.7 kcal mol<sup>−1</sup>, and that for reaction (2) is −14.3 kcal mol<sup>−1</sup>. The rate expression for reaction (1) is given in equation (3) where the pre-exponential factor is 9.74 x 10<sup>9</sup> L mol<sup>−1</sup> min<sup>−1</sup> and the activation energy is 20.1 kcal mol<sup>−1</sup>. The rate expression for reaction (2) is given in equation (4) where the pre-exponential factor is 2.38 x 10<sup>13</sup> min<sup>−1</sup> and the activation energy is 25.3 kcal mol<sup>−1</sup>.</p>
<p>What initial temperature is needed in order to convert 45% of the A in 30 min, and with that initial temperature what will the final temperature, the outlet exchange fluid temperature, and the selectivity for X over Z equal? Discuss ways to increase the selectivity.</p>
<p><span class="math display">\[
A + B \rightarrow X + Y \tag{1}
\]</span></p>
<p><span class="math display">\[
A \rightarrow Z \tag{2}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_AC_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_2C_A \tag{4}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This is an isolated reactor modeling assignment: the system consists of only a reactor, it’s operation is described, the rate expressions are known and it asks about reactor inputs and outputs. I’ll begin by summarizing the assignment. I’ll use appropriate variable symbols to represent the given constants. For initial values I’ll add a subscripted “0” and for final values a subscripted “f”. Cooling water flows into the jacket continuously, so I’ll denote the temperature of the cooling water entering the jacket as <span class="math inline">\(T_{ex,in}\)</span> and the temperature leaving the jacket as <span class="math inline">\(T_{ex,out}\)</span>. Because the jacket is perfectly mixed, <span class="math inline">\(T_{ex,out,0}\)</span> is the initial temperature of the cooling water in the jacket. I will add the ideal gas constant to the given constants.</p>
</div>
</div>
</div>
<section id="assignment-summary-1" class="level4" data-number="9.6.2.1">
<h4 data-number="9.6.2.1" class="anchored" data-anchor-id="assignment-summary-1"><span class="header-section-number">9.6.2.1</span> Assignment Summary</h4>
<p><strong>Reactions</strong>:</p>
<p><span class="math display">\[
A + B \rightarrow X + Y \tag{1}
\]</span></p>
<p><span class="math display">\[
A \rightarrow Z \tag{2}
\]</span></p>
<p><strong>Rate Expressions</strong>:</p>
<p><span class="math display">\[
r_1 = k_1C_AC_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_2C_A \tag{4}
\]</span></p>
<p><strong>Reactor System</strong>: Cooled BSTR.</p>
<p><strong>Reactor Schematic</strong>:</p>
<div id="fig-closed_stirred_tank_reactor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Graphics/bstr_non_adiabatic.png" class="img-fluid figure-img" style="width:30.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.7: A closed (batch), non-adiabatic stirred tank reactor.
</figcaption>
</figure>
</div>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(T_0\)</span>, <span class="math inline">\(T_f\)</span>, <span class="math inline">\(T_{ex,f}\)</span>, and <span class="math inline">\(S_{X/Z,f}\)</span></p>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(V\)</span> = 10 L, <span class="math inline">\(V_{ex}\)</span> = 1.4 L, <span class="math inline">\(U\)</span> = 138 cal ft<sup>-2</sup> min<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(A\)</span> = 1200 cm<sup>2</sup>, <span class="math inline">\(T_{ex,in}\)</span> = 40 °C, <span class="math inline">\(\dot{m}_{ex}\)</span> = 100 g min<sup>-1</sup>, <span class="math inline">\(\rho\)</span> = 1.0 g cm<sup>-3</sup>, <span class="math inline">\(\rho_{ex}\)</span> = 1.0 g cm<sup>-3</sup>, <span class="math inline">\(\tilde{C}_p\)</span> = 1.0 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\tilde{C}_{p,ex}\)</span> = 1.0 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(C_{A,0}\)</span> = 5.0 M, <span class="math inline">\(C_{B,0}\)</span> = 7.0 M, <span class="math inline">\(T_{ex,out,0}\)</span> = 40 °C, <span class="math inline">\(\Delta H_1\)</span> = -16.7 kcal mol<sup>-1</sup>, <span class="math inline">\(\Delta H_2\)</span> = -14.3 kcal mol<sup>-1</sup>, <span class="math inline">\(k_{0,1}\)</span> = 9.74 x 10<sup>9</sup> L mol<sup>-1</sup> min<sup>-1</sup>, <span class="math inline">\(E_1\)</span> = 20.1 kcal mol<sup>-1</sup>, <span class="math inline">\(k_{0,2}\)</span> = 2.38 x 10<sup>13</sup> min<sup>-1</sup>, <span class="math inline">\(E_2\)</span> = 25.3 kcal mol<sup>-1</sup>, <span class="math inline">\(f_{A,f}\)</span> = 0.45, <span class="math inline">\(t_f\)</span> = 30 min, and <span class="math inline">\(R\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup>.</p>
</section>
<section id="generation-of-the-model-equations-1" class="level4" data-number="9.6.2.2">
<h4 data-number="9.6.2.2" class="anchored" data-anchor-id="generation-of-the-model-equations-1"><span class="header-section-number">9.6.2.2</span> Generation of the Model Equations</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The first thing I need to do is generate the reactor design equations for this reactor. Mole balances are always needed, and for a BSTR the mole balance is <a href="section_3_react_eng_models.html#eq-bstr_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.8</span></a>. In this system, there are two reactions taking place, so the summation expands to two terms.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \sum_j \nu_{i,j}r_j = \nu_{i,1}r_1V + \nu_{i,2}r_2V
\]</span></p>
<p>The BSTR is not isothermal, so an energy balance on the reacting fluid, <a href="section_3_react_eng_models.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>, is required. There are no shafts or moving boundaries (other than the agitator which is assumed to do negligible work), so the rate of doing work, <span class="math inline">\(\dot{W}\)</span>, is zero. The reacting fluid is a liquid, so the pressure is constant and its time-derivative is zero. Assuming it to be an incompressible ideal mixture means that the volume also is constant, and the time-derivative of the volume is equal to zero. The assignment provides a mass-specific heat capacity, so the sensible heat term can be written in terms of that instead of molar heat capacities. Since there are two reactions, the final summation expands to two terms. After making all those substitutions, both sides of the the reacting fluid energy balance can be divided by <span class="math inline">\(\rho V \tilde{C}_p\)</span> to put it in the form of a derivative expression.</p>
<p><span class="math display">\[
\cancelto{\rho V \tilde{C}_p}{\left(\sum_i n_i \hat C_{p,i} \right)} \frac{dT}{dt} - \cancelto{0}{V\frac{dP}{dt}}  - \cancelto{0}{P  \frac{dV}{dt}}  = \dot Q - \cancelto{0}{\dot W} - V \cancelto{\left(r_1 \Delta H_1 +  r_2 \Delta H_2\right)}{\sum_j \left(r_j \Delta H_j \right)}
\]</span></p>
<p><span class="math display">\[
\rho V \tilde{C}_p \frac{dT}{dt} = \dot Q - V \left(r_1 \Delta H_1 +  r_2 \Delta H_2\right)
\]</span></p>
<p>The reactor is cooled with chilled water which gains sensible heat from the reacting fluid, so an energy balance on that exchange fluid is necessary and is given by <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_sensible" class="quarto-xref">Equation&nbsp;<span>6.2</span></a>.</p>
<p><span class="math display">\[
\rho_{ex} V_{ex} \tilde C_{p,ex}\frac{dT_{ex,out}}{dt} = -\dot Q - \dot m_{ex} \int_{T_{ex,in}}^{T_{ex,out}} \tilde C_{p,ex}dT
\]</span></p>
<p>The exchange fluid heat capacity is constant, making the evaluation of the integral trivial.</p>
<p><span class="math display">\[
\dot m_{ex}\int_{T_{ex,in}}^{T_{ex,out}} \tilde C_{p,ex}dT \Rightarrow \dot m_{ex}\tilde C_{p,ex}\left( T_{ex,out} - T_{ex,in} \right)
\]</span></p>
<p>Dividing both sides of the exchange fluid energy balance by <span class="math inline">\(\rho_{ex} V_{ex} \tilde C_{p,ex}\)</span> then puts it in the form of a derivative expression. Momentum balances are not used with BSTRS so the full set of design equations includes mole balances on each of the reagents, A, B, X, Y, and Z, an energy balance on the reacting fluid, and an energy balance on the exchange fluid. They consist of seven ODEs containing seven dependent variables, so it isn’t necessary to add an ODE or eliminate a dependent variable.</p>
</div>
</div>
</div>
<p><strong>BSTR Design Equations</strong></p>
<p>Mole balance design equations for A, B, X, Y, and Z are presented in equations (5) through (9). An energy balance on the reacting fluid is given by equation (10), and an energy balance on the exchange fluid is given by equation (11).</p>
<p><span class="math display">\[
\frac{dn_A}{dt} = \left(-r_1 -r_2 \right)V \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dn_B}{dt} = -r_1 V \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dn_X}{dt} = r_1 V \tag{7}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Y}{dt} = r_1 V \tag{8}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = r_2 V \tag{9}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt}  = \frac{\dot Q - V \left(r_1 \Delta H_1 +  r_2 \Delta H_2\right)}{\tilde{C}_p \rho V} \tag{10}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex,out}}{dt} = \frac{-\dot Q - \dot m_{ex} \tilde C_{p,ex}\left(T_{ex,out} - T_{ex,in}\right)}{\rho_{ex} V_{ex} \tilde C_{p,ex}} \tag{11}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Initial values and a stopping ctierion are needed when solving IVODEs or DAEs numerically. The instant the fluids are mixed in the reactor can be defined as <span class="math inline">\(t=0\)</span>. The molar amounts of A, B, X, Y, and Z, the reacting fluid temperature, and the exhhange fluid temperature at that moment are then the initial values. The solutions charged to the reactor did not contain X, Y, or Z, so their initial values are zero. The assignment provides the final value of <span class="math inline">\(t_f\)</span>, which I will use to define the stopping criterion.</p>
<p>The initial values of <span class="math inline">\(n_A\)</span> and <span class="math inline">\(n_B\)</span> can be calculated directly from their known initial concentrations and the fluid volume, using the defining equation for concentration in a closed system, <a href="section_1_rxns_reactors.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>2.7</span></a>. The initial value of <span class="math inline">\(T\)</span> is not known and cannot be calculated directly, but a second final value, that of <span class="math inline">\(n_A\)</span>, can, by using its known conversion.</p>
<p>This makes the design equations DAEs because the initial value of one dependent variable is unknown, but two final values are known. As described in <a href="apndx_mathematics.html#sec-apndx_solve_daes" class="quarto-xref">Appendix&nbsp;<span>F.5.3</span></a>, that means I also need to write an implicit ATE relating the known final value of <span class="math inline">\(n_A\)</span> to the unknown initial temperature. Since the ATE will be solved numerically, I will write it in the form of a residual expression.</p>
</div>
</div>
</div>
<p><strong>Intial Values and Stopping Criterion</strong></p>
<div id="tbl-example_9_6_2_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_9_6_2_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.2: Initial values and stopping criterion for solving design equations, (5) through (11).
</figcaption>
<div aria-describedby="tbl-example_9_6_2_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"><span class="math inline">\(t_f\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{A,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_B\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{B,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_X\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_Y\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(T_{ex,out}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{ex,out,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Supporting Equations for Calculating the Initial and Final Values</strong></p>
<p><span class="math display">\[
n_{A,0} = C_{A,0}V \tag{12}
\]</span></p>
<p><span class="math display">\[
n_{B,0} = C_{B,0}V \tag{13}
\]</span></p>
<p><span class="math display">\[
n_{A,f} = n_{A,0} \left( 1 - f_{A,f} \right) \tag{14}
\]</span></p>
<p><strong>Implicit ATE Relating <span class="math inline">\(T_0\)</span> to <span class="math inline">\(n_{A,f}\)</span></strong></p>
<p><span class="math display">\[
T_0 \, : \, n_A\big\vert_{t = t_f} = n_{A,f} \qquad \Rightarrow \qquad \epsilon_{T_0} = n_A\big\vert_{t = t_f} - n_{A,f}\tag{15}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To solve the DAEs numerically, I’ll need to write a derivatives function and a residuals function. The residuals function will be passed a guess for <span class="math inline">\(T_0\)</span> as an argument, and it must return the residual <span class="math inline">\(\epsilon_{T_0}\)</span>. To do so, it must define the initial values and stopping criterion as already described. Then it will call an IVODE solver to solve the BSTR design equations, and use the final value of <span class="math inline">\(n_A\)</span> that the solver returns to evaluate the residual, equation (15).</p>
<p>The derivatives function will be passed values of the independent and dependent variables, <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_X\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span>, at the start of an integration step as arguments. It must return the derivatives of the dependent variables, calculated using equations (5) through (11). Before it can do that, it will need to calculate any additional unknowns that appear in the derivatives expressions. Upon examination of equations (5) through (11), I see that <span class="math inline">\(r_1\)</span>, <span class="math inline">\(r_2\)</span>, and <span class="math inline">\(\dot{Q}\)</span> are additional unknowns.</p>
<p>The two rates, <span class="math inline">\(r_1\)</span> and <span class="math inline">\(r_2\)</span>, can be calculated using the rate expressions, equation (3) and (4). The rate expressions contain four additional variables that will need to be calculated, <span class="math inline">\(k_1\)</span>, <span class="math inline">\(k_2\)</span>, <span class="math inline">\(C_A\)</span> and <span class="math inline">\(C_B\)</span>. The rate coefficients can be calculated using the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>. The concentrations can be calculated using the defining equation for concentration in a closed system, <a href="section_1_rxns_reactors.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>2.7</span></a>.</p>
<p>The rate of heat exchange, <span class="math inline">\(\dot{Q}\)</span>, can be calculated using the given heat transfer coefficient, <span class="math inline">\(U\)</span>, and heat transfer area, <span class="math inline">\(A\)</span>, using <a href="apndx_derivations.html#eq-heat-trans-rate" class="quarto-xref">Equation&nbsp;<span>E.4</span></a>.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Derivatives</strong></p>
<p><span class="math display">\[
k_1 = k_{0,1}\exp{\left( \frac{-E_1}{RT} \right) } \tag{16}
\]</span></p>
<p><span class="math display">\[
k_2 = k_{0,2}\exp{\left( \frac{-E_2}{RT} \right) } \tag{17}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{18}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{n_B}{V} \tag{19}
\]</span></p>
<p><span class="math display">\[
\dot{Q} = UA\left(T_{ex,out} - T \right) \tag{20}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point the DAEs, equations (5) through (11) and (15), can be solved numerically. Doing so will yield <span class="math inline">\(T_0\)</span> along with corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_X\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span> that span the range from their initial to their final values. <span class="math inline">\(T_0\)</span> and the final values of <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span> are quantities of interest. The other quantity of interest, the final selectivity for X relative to Z, can be calculated using the defining equation for selectivity, <a href="section_1_reaction_progress.html#eq-selectivity_def_closed" class="quarto-xref">Equation&nbsp;<span>3.17</span></a>.</p>
</div>
</div>
</div>
</section>
<section id="calculating-the-quantities-of-interest-1" class="level4" data-number="9.6.2.3">
<h4 data-number="9.6.2.3" class="anchored" data-anchor-id="calculating-the-quantities-of-interest-1"><span class="header-section-number">9.6.2.3</span> Calculating the Quantities of Interest</h4>
<p>With the information given above, the DAEs, equations (5) through (11) and (15), can be solved numerically, yielding <span class="math inline">\(T_0\)</span> along with corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_X\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span> that span the range from their initial to their final values. <span class="math inline">\(T_0\)</span> is one of the quantities of interest. The final temperature, exchange fluid temperature and selectivity can be calculated using equations (21), (22), and (23).</p>
<p><span class="math display">\[
T_f = T\big\vert_{t=t_f} \tag{21}
\]</span></p>
<p><span class="math display">\[
T_{ex,out,f} = T_{ex,out}\big\vert_{t=t_f} \tag{22}
\]</span></p>
<p><span class="math display">\[
S_{X/Z,f} = \frac{n_X \Big\vert_{t=t_{rxn}}}{n_Z \Big\vert_{t=t_{rxn}}} \tag{23}
\]</span></p>
</section>
<section id="formulation-of-the-calculations-1" class="level4" data-number="9.6.2.4">
<h4 data-number="9.6.2.4" class="anchored" data-anchor-id="formulation-of-the-calculations-1"><span class="header-section-number">9.6.2.4</span> Formulation of the Calculations</h4>
<p>To complete the assignment the BSTR design equations are solved first, and then the quantities of interest are calculated. The BSTR design equations are DAEs, and they can be solved numerically as described in <a href="apndx_mathematics.html#sec-apndx_solve_daes" class="quarto-xref">Appendix&nbsp;<span>F.5.3</span></a> by writing a residuals function, a derivatives function, and a BSTR function. A deliverables function can be added to calculate the quantities of interest.</p>
<ul>
<li>The residuals function must receive a guess for the ATE variable, <span class="math inline">\(T_0\)</span>, and it must return the residual, <span class="math inline">\(\epsilon_{T_0}\)</span>. To do so it must define the initial values and stopping criterion for the ODEs, pass them to an IVODE solver along with the derivatives function, and use the results it returns to evaluate the residual.</li>
<li>The derivatives function must receive the independent and dependent variables at the start of an integration step as arguments, and it must return the derivatives of the dependent variables. To do so it must calculate the rate and the rate of heat transfer before it can evaluate the derivatives.</li>
<li>For this assignment, the BSTR function must receive an initial guess for the ATE variable and it must return the initial temperature, <span class="math inline">\(T_0\)</span>, and sets of corresponding values of the independent and dependent variables spanning the interval from their initial to their final values. To do so it must pass the guess for <span class="math inline">\(T_0\)</span> to an ATE solver along with the residuals function, use the value of <span class="math inline">\(T_0\)</span> returned by the solver to define the initial values and stopping criterion for the ODEs, and then pass them to an IVODE solver along with the derivatives function.</li>
<li>The deliverables function does not need any arguments, and it doesn’t return anything. It defines an initial guess for the ATE variable, calls the BSTR function and uses the results it returns to calculate the quantities of interest.</li>
</ul>
<p>Specifications can be written for each of these functions in preparation for writing them. The function specifications given here assume that the known constants are available wherever they are needed.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Residuals Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Residuals Function Specifications</strong>
</center>
<p><u>Argument</u>: <span class="math inline">\(T_0\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\epsilon_{T_0}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
t_{initial} = 0 \tag{24}
\]</span></p>
<p><span class="math display">\[
n_{A,initial} = n_{A,0} = C_{A,0}V \tag{12}
\]</span></p>
<p><span class="math display">\[
n_{B,initial} = n_{B,0} = C_{B,0}V \tag{13}
\]</span></p>
<p><span class="math display">\[
\begin{matrix}
n_{X,initial} = 0,\, n_{Y,initial} = 0,\, n_{Z,initial} = 0 \\
T_{initial} = T_0,\, T_{ex,out,initial} = T_{ex,out,0},\, t_{final} = t_f
\end{matrix} \tag{25}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
t_{initial}, n_{A,initial}, n_{B,initial}, n_{X,initial}, n_{Y,initial}, \\
n_{Z,initial}, T_{initial}, n_{A,final}, T_{ex,out,initial}, \\
\text{derivatives function}\\
\Downarrow \\
\text{IVODE solver} \\
\Downarrow \\
\underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_Y, \underline{n}_Z, \underline{T} ,\underline{T}_{ex,out}
\end{matrix} \tag{26}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
n_{A,f} = n_{A,0} \left( 1 - f_{A,f} \right) \tag{14}
\]</span></p>
<p><span class="math display">\[
\epsilon_{T_0} = n_A\big\vert_{t = t_f} - n_{A,f}\tag{15}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Derivatives Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Derivatives Function Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_X\)</span>, <span class="math inline">\(n_Y\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_B}{dt}\)</span>, <span class="math inline">\(\frac{dn_X}{dt}\)</span>, <span class="math inline">\(\frac{dn_Y}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, <span class="math inline">\(\frac{dT}{dt}\)</span>, and <span class="math inline">\(\frac{dT_{ex,out}}{dt}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
k_1 = k_{0,1}\exp{\left( \frac{-E_1}{RT} \right) } \tag{16}
\]</span></p>
<p><span class="math display">\[
k_2 = k_{0,2}\exp{\left( \frac{-E_2}{RT} \right) } \tag{17}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{18}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{n_B}{V} \tag{19}
\]</span></p>
<p><span class="math display">\[
\dot{Q} = UA\left(T_{ex,out} - T \right) \tag{20}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_AC_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_2C_A \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = \left(-r_1 -r_2 \right)V \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dn_B}{dt} = -r_1 V \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dn_X}{dt} = r_1 V \tag{7}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Y}{dt} = r_1 V \tag{8}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = r_2 V \tag{9}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt}  = \frac{\dot Q - V \left(r_1 \Delta H_1 +  r_2 \Delta H_2\right)}{\tilde{C}_p \rho V} \tag{10}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex,out}}{dt} = \frac{-\dot Q - \dot m_{ex} \tilde C_{p,ex}\left(T_{ex,out} - T_{ex,in}\right)}{\rho_{ex} V_{ex} \tilde C_{p,ex}} \tag{11}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the BSTR Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>BSTR Function Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(T_{0,guess}\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(T_0\)</span>, <span class="math inline">\(\underline{t}\)</span>, <span class="math inline">\(\underline{n}_A\)</span>, <span class="math inline">\(\underline{n}_B\)</span>, <span class="math inline">\(\underline{n}_Y\)</span>, <span class="math inline">\(\underline{n}_Z\)</span>, <span class="math inline">\(\underline{T}\)</span> ,<span class="math inline">\(\underline{T}_{ex,out}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
\begin{matrix}
T_{0,guess},\, \text{residuals function}\\
\Downarrow \\
\text{ATE solver} \\
\Downarrow \\
T_0
\end{matrix}\tag{27}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
t_{initial} = 0 \tag{24}
\]</span></p>
<p><span class="math display">\[
n_{A,initial} = n_{A,0} = C_{A,0}V \tag{12}
\]</span></p>
<p><span class="math display">\[
n_{B,initial} = n_{B,0} = C_{B,0}V \tag{13}
\]</span></p>
<p><span class="math display">\[
\begin{matrix}
n_{X,initial} = 0,\, n_{Y,initial} = 0,\, n_{Z,initial} = 0 \\
T_{initial} = T_0,\, T_{ex,out,initial} = T_{ex,out,0},\, t_{final} = t_f
\end{matrix} \tag{25}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
t_{initial}, n_{A,initial}, n_{B,initial}, n_{X,initial}, n_{Y,initial}, \\
n_{Z,initial}, T_{initial}, n_{A,final}, T_{ex,out,initial}, \\
\text{derivatives function}\\
\Downarrow \\
\text{IVODE solver} \\
\Downarrow \\
\underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_Y, \underline{n}_Z, \underline{T} ,\underline{T}_{ex,out}
\end{matrix} \tag{26}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Deliverables Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The deliverables function must define an initial guess for <span class="math inline">\(T_0\)</span> to pass as an argument to the BSTR function. The only temperatures I know are the inlet exchange fluid temperature and its initial outlet temperature, and they are both equal to 40 °C. So I’ll guess that the initial reacting fluid temperature is also 40 °C, recognizing that if the ATE solver fails to converge, I’ll need to repeat the calculations using a different initial guess.</p>
<center>
<strong>Deliverables Function Specifications</strong>
</center>
<p><u>Arguments</u>: none</p>
<p><u>Returns</u>: nothing</p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
T_{0,guess} = \text{40 °C} \tag{28}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
T_{0,guess}\\
\Downarrow \\
\text{BSTR function} \\
\Downarrow \\
T_0, \underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_Y, \underline{n}_Z, \underline{T} ,\underline{T}_{ex,out}
\end{matrix} \tag{29}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
T_f = T\big\vert_{t=t_f} \tag{21}
\]</span></p>
<p><span class="math display">\[
T_{ex,out,f} = T_{ex,out}\big\vert_{t=t_f} \tag{22}
\]</span></p>
<p><span class="math display">\[
S_{X/Z,f} = \frac{n_X \Big\vert_{t=t_{rxn}}}{n_Z \Big\vert_{t=t_{rxn}}} \tag{23}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
T_{0}, T_f, T_{ex,out,f}, S_{X/Z,f}\\
\Downarrow \\
\text{functions to display and save} \\
\end{matrix} \tag{30}
\]</span></p>
</div>
</div>
</div>
</section>
<section id="implementation-and-execution-of-the-calculations-1" class="level4" data-number="9.6.2.5">
<h4 data-number="9.6.2.5" class="anchored" data-anchor-id="implementation-and-execution-of-the-calculations-1"><span class="header-section-number">9.6.2.5</span> Implementation and Execution of the Calculations</h4>
<p>The residuals, derivatives, BSTR, and deliverables functions were written as specified above using an appropriate mathematics software package. The calculations were performed by calling the deliverables function. Upon doing so, the ATE solver converged, so it was not necessary to repeat the calculations using a different initial guess for the ATE variable, <span class="math inline">\(T_0\)</span>.</p>
</section>
<section id="results-and-discussion-1" class="level4" data-number="9.6.2.6">
<h4 data-number="9.6.2.6" class="anchored" data-anchor-id="results-and-discussion-1"><span class="header-section-number">9.6.2.6</span> Results and Discussion</h4>
<p>The initial temperature must be 65 °C for the conversion to equal 45% after 30 min of reaction. At that time, the temperature of the reacting fluid will be 92.4 °C, the exit temperature of the exchange fluid will be 68.2 °C, and the selectivity will equal 4.21 mol X per mol Z.</p>
<p>Solving the reactor design equations using an initial temperature of 65 °C also yields the final molar amount of <span class="math inline">\(n_A\)</span>. One way to check the results is to use that value to calculate the conversion and make sure that it is equal to 45%. Indeed, when the design equations were solved using an initial temperature of 65 °C, the resulting conversion of A was 45%.</p>
<p>When two reactions are taking place, it is quite common for the product of one reaction to be desired and the product of the other reaction to be undesired. That raises the question, “what can a reaction engineer do to change the selectivity?” There isn’t a single, universal answer to that question. However, for parallel reactions it is often useful to write an expression for the instantaneous selectivity using <a href="section_2_rates_and_expressions.html#eq-def_inst_select" class="quarto-xref">Equation&nbsp;<span>4.5</span></a>. In this system, the instantaneous selectivity for X over Z is given by the net rate of generation of X divided by the net rate of generation of Z as shown in equation (31).</p>
<p><span class="math display">\[
\begin{align}
S_{X/Z,inst} &amp;= \frac{\displaystyle \sum _j r_{X,j}}{\displaystyle \sum _j r_{Z,j}} = \frac{r_1}{r_2} = \frac{k_1C_AC_B}{k_2C_A} = \frac{k_{0,1}\exp{\left(\frac{-E_1}{RT}\right)}}{k_{0,2}\exp{\left(\frac{-E_2}{RT}\right)}}C_B \\ S_{X/Z,inst} &amp;= \frac{k_{0,1}}{k_{0,2}}\exp{\left(\frac{E_2 - E_1}{RT}\right)}C_B
\end{align} \tag{31}
\]</span></p>
<p>The final selectivity will equal the integral of the instantaneous selectivity from <span class="math inline">\(t_0\)</span> to <span class="math inline">\(t_f\)</span>. Noting that <span class="math inline">\(E_2\)</span> is greater than <span class="math inline">\(E_1\)</span>, equation (31) suggests two ways to increase the instantantous selectivity for X over Z. The first is to maintain a high concentration of B. The second is to decrease the mean temperature during the reaction. In a batch reactor, the only way to increase the average concentration of B is to increase the initial amount. The average temperature could be decreased by using a lower initial temperature or by changing the exchange fluid flow rate or inlet temperature. One point to bear in mind is that decreasing the mean temperature will decrease both reaction rates, not just the undesired rate. As a consequence, to keep the conversion the same, a longer reaction time would be necessary.</p>
<p>To test these predictions, a simulation was performed where the initial temperature was reduced to 55 °C, keeping the conversion the same at 45%. The results showed that the selectivity will increase to 5.51 mol X per mol Z, but the reaction time will increase to 87.3 min. Given economic data and other operating constraints, an engineer could optimize the performance of this reactor through simulation of this kind.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>This example specified two final values: the reaction time and the fractional conversion. In the solution presented above, the reaction time was used as the stopping criterion when solving the IVODEs and the fractional conversion was used in the implicit equation for <span class="math inline">\(T_0\)</span>.</p>
<p>The roles of the reaction time and conversion could have been reversed. The specified conversion could have been used to calculate the corresponding final moles of A, which then could have been used as the stopping criterion. Then the reaction time would have been used in the implicit equation for <span class="math inline">\(T_0\)</span>. The results would be the same.</p>
</div>
</div>
</div>
</section>
</section>
<section id="sec-example_9_6_3" class="level3" data-number="9.6.3">
<h3 data-number="9.6.3" class="anchored" data-anchor-id="sec-example_9_6_3"><span class="header-section-number">9.6.3</span> Maximum Intermediate Yield in Series Reactions</h3>
<p>A BSTR will be charged with 1 atm of A and 2 atm of B at 25 °C. The reactor volume is 2 L, and it has a jacket with an area of 600 cm<sup>2</sup> and an overall heat transfer coefficient of 0.6 cal cm<sup>-2</sup> min<sup>-1</sup> K<sup>-1</sup>. The temperature of the coolant in the perfectly-mixed jacket is maintained at 30°C by a temperature controller. Gas phase reactions (1) and (2) take place within the reactor; the corresponding rate expressions are given in equations (3) and (4). The rate coefficients display Arrhenius temperature dependence with pre-exponental factors of 3.34 x 10<sup>9</sup> and 1.47 x 10<sup>10</sup> mol cm<sup>-3</sup> min<sup>-1</sup> atm<sup>-2</sup> for reactions (1) and (2), respectively, and activation energies of 20.5 and 21.8 kcal mol<sup>-1</sup>. The heat of reaction (1) is constant and equal to -6,300 cal mol<sup>-1</sup>; that of reaction (2) is constant and equal to -6,900 cal mol<sup>-1</sup>. The heat capacities of A, B, D, Z and U are constant and equal to 7.4, 8.6, 10.7, 5.2 and 10.3 cal mol<sup>-1</sup> K<sup>-1</sup>, respectively.</p>
<p>What reaction time will maximize the yield (moles of D per initial mole of A), and what will the yield and the conversion of A equal at that reaction time?</p>
<p><span class="math display">\[
A + B \rightarrow D + Z \tag{1}
\]</span></p>
<p><span class="math display">\[
D + B \rightarrow U + Z \tag{2}
\]</span></p>
<p><span class="math display">\[
r_1 = k_{0,1} \exp{\left(\frac{-E_1}{RT}\right)}P_AP_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_{0,2} \exp{\left(\frac{-E_2}{RT}\right)}P_DP_B \tag{4}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment describes a single BSTR and no other equipment. It describes the reactor, its operation, and the reactions taking place, including the rate expressions. It asks me to find a reaction time to maximize yield. From these characteristics, I know that this is an isolated reactor modeling assignment. I’ll begin by summarizing the assignment. I’ll use appropriate variable symbols to represent the given quantities and the quantities of interest. A cooled, batch reactor is being used, so I’ll use a subscripted “0” to denote initial values and a subscripted “f” to denote final values. I’ll let <span class="math inline">\(t_{opt}\)</span> denote the reaction time that maximizes the yield. The exchange fluid temperature is constant and known, but no information is provided about the inlet temperature or flow rate of the heat exchange fluid, so there’s no need for subscripts denoting “in” and “out.”</p>
</div>
</div>
</div>
<section id="assignment-summary-2" class="level4" data-number="9.6.3.1">
<h4 data-number="9.6.3.1" class="anchored" data-anchor-id="assignment-summary-2"><span class="header-section-number">9.6.3.1</span> Assignment Summary</h4>
<p><strong>Reactions</strong>:</p>
<p><span class="math display">\[
A + B \rightarrow D + Z \tag{1}
\]</span></p>
<p><span class="math display">\[
D + B \rightarrow U + Z \tag{2}
\]</span></p>
<p><strong>Rate Expressions</strong>:</p>
<p><span class="math display">\[
r_1 = k_{0,1} \exp{\left(\frac{-E_1}{RT}\right)}P_AP_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_{0,2} \exp{\left(\frac{-E_2}{RT}\right)}P_DP_B \tag{4}
\]</span></p>
<p><strong>Reactor System</strong>: BSTR with heat transfer</p>
<p><strong>Reactor Schematic</strong>:</p>
<div id="fig-closed_stirred_tank_reactor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Graphics/bstr_non_adiabatic_constant_Tex.png" class="img-fluid figure-img" style="width:30.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.8: A closed (batch), non-adiabatic stirred tank reactor with a constant exchange fluid temperature.
</figcaption>
</figure>
</div>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(t_{opt} = \underset{t}{\arg\max} \left(Y_{D/A}\right)\)</span>, <span class="math inline">\(Y_{D/A}\Big\vert_{t_{opt}}\)</span>, and <span class="math inline">\(f_A\Big\vert_{t_{opt}}\)</span>.</p>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(P_{A,0}\)</span> = 1 atm, <span class="math inline">\(P_{B,0}\)</span> = 2 atm, <span class="math inline">\(T_0\)</span> = 25 °C, <span class="math inline">\(V\)</span> = 2 L, <span class="math inline">\(A\)</span> = 600 cm<sup>2</sup>, <span class="math inline">\(U\)</span> = 0.6 cal cm<sup>-2</sup> min<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(T_{ex}\)</span> = 30 °C, <span class="math inline">\(k_{0,1}\)</span> = 3.34 x 10<sup>9</sup> mol cm<sup>-3</sup> min<sup>-1</sup> atm<sup>-2</sup>, <span class="math inline">\(k_{0,2}\)</span> = 1.47 x 10<sup>10</sup> mol cm<sup>-3</sup> min<sup>-1</sup> atm<sup>-2</sup>, <span class="math inline">\(E_1\)</span> = 20.5 kcal mol<sup>-1</sup>, <span class="math inline">\(E_2\)</span> = 21.8 kcal mol<sup>-1</sup>, <span class="math inline">\(\Delta H_1\)</span> = -6,300 cal mol<sup>-1</sup>, <span class="math inline">\(\Delta H_2\)</span> = -6,900 cal mol<sup>-1</sup>, <span class="math inline">\(\hat C_{p,A}\)</span> = 7.4 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat C_{p,B}\)</span> = 8.6 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat C_{p,D}\)</span> = 10.7 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat C_{p,Z}\)</span> = 5.2 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat C_{p,U}\)</span> = 10.3 cal mol<sup>-1</sup> K<sup>-1</sup>, and <span class="math inline">\(R\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup> = 82.057 cm<sup>3</sup> atm mol<sup>-1</sup> K<sup>-1</sup>.</p>
</section>
<section id="generation-of-the-model-equations-2" class="level4" data-number="9.6.3.2">
<h4 data-number="9.6.3.2" class="anchored" data-anchor-id="generation-of-the-model-equations-2"><span class="header-section-number">9.6.3.2</span> Generation of the Model Equations</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Mole balances are always included in the reactor design equations. The general BSTR mole balance is given in <a href="section_3_react_eng_models.html#eq-bstr_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.8</span></a>. I will use this equation to write mole balances for every reagent in the system. That is, I’ll write the mole balance for <span class="math inline">\(i\)</span> = A, B, D, Z, and U. There are two reactions taking place, so the sum will expand to two terms in each mole balance.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \sum_j \nu_{i,j}r_j = \left( \nu_{i,1}r_1 + \nu_{i,2}r_2 \right)V
\]</span></p>
<p>This reactor is not isothermal, so I will need to include a BSTR reacting fluid energy balance among the reactor design equations. The BSTR energy balance is given in <a href="section_3_react_eng_models.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>. This reactor has rigid walls and no moving boundaries, so it’s volume is constant. If the volume is constant, the time-derivative of the volume is equal to zero. Being a gas phase system with a constant volume, the pressure is expected to change because the temperature will change. Therefore I <em>cannot</em> set the time-derivative of the pressure equal to zero. With no moving boundaries, the only work is that of the agitator, which is assumed to be negligible. The summation over <span class="math inline">\(i\)</span> includes every reagent, and as above, the summation over <span class="math inline">\(j\)</span> expands to two terms.</p>
<p><span class="math display">\[
\left(\sum_i n_i \hat C_{p,i} \right) \frac{dT}{dt} - V\frac{dP}{dt}  - P  \cancelto{0}{\frac{dV}{dt}}  = \dot Q - \cancelto{0}{\dot W} - V \cancelto{\left( r_1 \Delta H_1 + r_2 \Delta H_2\right)}{\sum_j \left(r_j \Delta H_j \right)}
\]</span></p>
<p><span class="math display">\[
\left( n_A \hat C_{p,A} + n_B \hat C_{p,B} + n_D \hat C_{p,D} + n_Z \hat C_{p,Z} + n_U \hat C_{p,U}  \right) \frac{dT}{dt} - V\frac{dP}{dt}  = \dot Q - \left( r_1 \Delta H_1 + r_2 \Delta H_2\right)V
\]</span></p>
<p>An exchange fluid is present in this reactor, but the assignment states that its temperature is constant at 30 °C. Knowing the exchange fluid temperature, the other reactor design equations can be solved independently of an energy balance on the exchange fluid, and because the assignment does not ask anything about the exchange fluid, I do not need to include an energy balance on the exchange fluid among the reactor design equations.</p>
</div>
</div>
</div>
<p><strong>BSTR Design Equations</strong></p>
<p>Mole balances of each of the reagents are presented in equations (5) through (9), and an energy balance on the reacting fluid is presented in equation (10).</p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -r_1V \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dn_B}{dt} = \left( -r_1 - r_2 \right)V \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dn_D}{dt} = \left( r_1 - r_2 \right)V \tag{7}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = \left( r_1 + r_2 \right)V \tag{8}
\]</span></p>
<p><span class="math display">\[
\frac{dn_U}{dt} = r_2V \tag{9}
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
- V\frac{dP}{dt} + &amp;\left( n_A \hat C_{p,A} + n_B \hat C_{p,B} + n_D \hat C_{p,D} + n_Z \hat C_{p,Z} + n_U \hat C_{p,U}  \right) \frac{dT}{dt} \\&amp;= \dot Q  - \left( r_1 \Delta H_1 + r_2 \Delta H_2\right)V
\end{aligned} \tag{10}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point I have 6 initial value ordinary differential equations that contain 7 dependent variables (<span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_D\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_U\)</span>, <span class="math inline">\(P\)</span>, and <span class="math inline">\(T\)</span>). I either need to eliminate a dependent variable or add an ODE before I can solve the reactor design equations.</p>
<p>Noting that V is constant, I’m going to take the time-derivative of the ideal gas law and use it as an additional ODE.</p>
<p><span class="math display">\[
PV - \left(n_A + n_B + n_D + n_Z + n_U \right)RT =0
\]</span></p>
<p><span class="math display">\[
\begin{aligned}
V\frac{dP}{dt} &amp;- RT\left(\frac{dn_A}{dt} + \frac{n_B}{dt} + \frac{n_D}{dt} + \frac{n_Z}{dt} + \frac{n_U}{dt} \right) \\&amp;- R\left(n_A + n_B + n_D + n_Z + n_U \right)\frac{dT}{dt} = 0
\end{aligned}
\]</span></p>
</div>
</div>
</div>
<p>Taking the derivative of the ideal gas law yields equation (11).</p>
<p><span class="math display">\[
\begin{aligned}
- &amp;RT\left(\frac{dn_A}{dt} + \frac{n_B}{dt} + \frac{n_D}{dt} + \frac{n_Z}{dt} + \frac{n_U}{dt} \right) + V\frac{dP}{dt} \\&amp;- R\left(n_A + n_B + n_D + n_Z + n_U \right)\frac{dT}{dt} = 0
\end{aligned}\tag{11}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The reactor design equations are either IVODEs or DAEs, so initial values and a stopping criterion are needed in order to solve them. I can define <span class="math inline">\(t=0\)</span> to be instant that the A and B are added to the reactor. The other initial values are then the molar amounts of each reagent, the temperature, and the pressure at that time. The assignment states that the BSTR is charged with only A and B, so the initial molar amounts of D, Z, and U are zero.</p>
<p>The initial molar amounts of A and B can be calculated directly using their known initial partial pressures and the ideal gas law. The initial total pressure is simply the sum of the initial partial pressures.</p>
<p>I need to find the value of <span class="math inline">\(t_f\)</span> that maximizes the yield of D. To do that, I’ll choose a large value for the final time, <span class="math inline">\(t_f\)</span>. Upon doing so, all of the initial values and one final value will be known or can be calculated directly, so the BSTR design equations in this assignment are IVODEs. As long as the final value I choose is large enough, the yield will reach its maximum before the final time is reached. The time when it reaches its maximum is the optimum time requested in the assignment narrative.</p>
</div>
</div>
</div>
<p><strong>Initial Values and Stopping Criterion</strong></p>
<div id="tbl-example_9_6_3_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_9_6_3_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.3: Initial values and stopping criterion for solving the design equations, (5) through (11).
</figcaption>
<div aria-describedby="tbl-example_9_6_3_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"><span class="math inline">\(t_f\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{A,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(n_B\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{B,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n_D\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n_U\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P\)</span></td>
<td style="text-align: center;"><span class="math inline">\(P_0\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Supporting Equations for Calculating the Initial and Final Values</strong></p>
<p><span class="math display">\[
n_{A,0} = \frac{P_{A,0}V}{RT_0} \tag{12}
\]</span></p>
<p><span class="math display">\[
n_{B,0} = \frac{P_{B,0}V}{RT_0} \tag{13}
\]</span></p>
<p><span class="math display">\[
P_0 = P_{A,0} + P_{B,0} \tag{14}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I now have 7 IVODEs with 7 dependent variables. In order to solve the IVODEs numerically I’ll need to calculate the values of the derivatives at the start of each integration step. To begin, I need to write the IVODEs in the form of derivative expressions. I’ll use the procedure described in <a href="apndx_mathematics.html#sec-apndx_derivative_expressions" class="quarto-xref">Appendix&nbsp;<span>F.4.2</span></a>. It involves writing the IVODEs in the form of a matrix equation.</p>
<p><span class="math display">\[
\boldsymbol{M}\frac{d}{dt} \begin{bmatrix} n_A \\ n_B \\ n_D \\ n_Z \\ n_U \\ T \\ P \end{bmatrix} = \underline{g}
\]</span></p>
<p>In other words, I’ll need to define the elements of the mass matrix, <span class="math inline">\(\boldsymbol{M}\)</span>, and the vector, <span class="math inline">\(\underline{g}\)</span>. If anything other than known constants, the independent variable, and the dependent variables appear in the elements of <span class="math inline">\(\boldsymbol{M}\)</span> and <span class="math inline">\(\underline{g}\)</span> I’ll need to calculate them before I can evaluate the derivatives. Looking at the design equations, I see that I will need to calculate <span class="math inline">\(r_1\)</span>, <span class="math inline">\(r_2\)</span>, and <span class="math inline">\(\dot{Q}\)</span>.</p>
<p>The rate expressions, equations (3) and (4), can be used to calculate the rates, but those equations introduce the additional variables, <span class="math inline">\(P_A\)</span>, <span class="math inline">\(P_B\)</span>, and <span class="math inline">\(P_D\)</span>. Those partial pressures can be calculated using the ideal gas law.</p>
<p>The rate of heat transfer, <span class="math inline">\(\dot{Q}\)</span>, can be calculated using the known heat transfer coefficient and heat transfer area.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Derivatives</strong></p>
<p>The IVODEs, equations (1) through (7) can be written as the matrix equation, (15), with the mass matrix defined as shown in equation (16) and with the vector, <span class="math inline">\(\underline{g}\)</span>, defined as shown in equation (17). The IVODEs can then be written as derivative expressions, equation (18).</p>
<p><span class="math display">\[
\boldsymbol{M}\frac{d}{dt} \begin{bmatrix} n_A \\ n_B \\ n_D \\ n_Z \\ n_U \\ T \\ P \end{bmatrix} = \underline{g}\tag{15}
\]</span></p>
<p><span class="math display">\[
\boldsymbol{M} = \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \displaystyle\sum_i\left(n_i \hat{C}_{p,i} \right) &amp; -V \\ RT &amp; RT &amp; RT &amp; RT &amp; RT &amp; R\displaystyle\sum_i n_i &amp; -V  \end{bmatrix} \tag{16}
\]</span></p>
<p><span class="math display">\[
\underline{g} = \begin{bmatrix} -r_1V \\ \left(-r_1 - r_2\right)V \\ \left(r_1 - r_2\right)V \\ \left(r_1 + r_2\right)V \\ r_2V \\ \dot{Q} -\left(r_1\Delta H_1 + r_2 \Delta H_2\right)V \\ 0 \end{bmatrix}\tag{17}
\]</span></p>
<p><span class="math display">\[
\begin{bmatrix} \frac{dn_A}{dt} \\ \frac{n_B}{dt} \\ \frac{n_D}{dt} \\ \frac{n_Z}{dt} \\ \frac{dn_U}{dt} \\ \frac{dT}{dt} \\ \frac{dP}{dt} \end{bmatrix} = \boldsymbol{M}^{-1} \underline{g} \tag{18}
\]</span></p>
<p>The rates, <span class="math inline">\(r_1\)</span> and <span class="math inline">\(r_2\)</span>, can be calculated using equations (3) and (4). The partial pressures appearing in the rate expressions can be calculated using equations (19) through (21), and the rate of heat exchange can be calculted using equation (22)</p>
<p><span class="math display">\[
P_A = \frac{n_ART}{V} \tag{19}
\]</span></p>
<p><span class="math display">\[
P_B = \frac{n_BRT}{V} \tag{20}
\]</span></p>
<p><span class="math display">\[
P_D = \frac{n_DRT}{V} \tag{21}
\]</span></p>
<p><span class="math display">\[
\dot Q = UA\left( T_{ex} - T \right) \tag{22}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-25-contents" aria-controls="callout-25" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-25-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point the BSTR design equations can be solved for sets of values of <span class="math inline">\(\underline{t}\)</span>, <span class="math inline">\(\underline{n}_A\)</span>, <span class="math inline">\(\underline{n}_B\)</span>, <span class="math inline">\(\underline{n}_D\)</span>, <span class="math inline">\(\underline{n}_Z\)</span>, <span class="math inline">\(\underline{n}_U\)</span>, <span class="math inline">\(\underline{T}\)</span>, and <span class="math inline">\(\underline{P}\)</span> spanning the range from <span class="math inline">\(t_0\)</span> to the chosen final time, <span class="math inline">\(t_f\)</span>. At each time the yield can be calculated using <a href="section_1_reaction_progress.html#eq-yield_def_closed" class="quarto-xref">Equation&nbsp;<span>3.13</span></a>, and the conversion can be calculated using the defining equation for conversion in a closed system, <a href="section_1_reaction_progress.html#eq-conversion_def_closed" class="quarto-xref">Equation&nbsp;<span>3.4</span></a>.</p>
<p>The resulting set of yields can then be examined to find the maximum value and the time, <span class="math inline">\(t_{opt}\)</span>, when it occurred. If the yield does not pass through a maximum, the calculations must be repeated using a larger chosen final time.</p>
</div>
</div>
</div>
</section>
<section id="calculating-the-quantities-of-interest-2" class="level4" data-number="9.6.3.3">
<h4 data-number="9.6.3.3" class="anchored" data-anchor-id="calculating-the-quantities-of-interest-2"><span class="header-section-number">9.6.3.3</span> Calculating the Quantities of Interest</h4>
<p>The BSTR design equations, (5) through (11), can be solved numerically to obtain corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_D\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_U\)</span>, <span class="math inline">\(P\)</span>, and <span class="math inline">\(T\)</span> that span the range from <span class="math inline">\(t_0\)</span> to <span class="math inline">\(t_f\)</span>. At each time, <span class="math inline">\(t_i\)</span>, the corresponding yield of D, <span class="math inline">\(Y_{D/A,i}\)</span>, and conversion of A, <span class="math inline">\(f_{A,i}\)</span>, can be calculated using equations (23) and (24). The maximum yield, the time at which it occurs, and the corresponding conversion of A can then be identified, equations (25) through (28). If the yield does not pass through a maximum, the calculations must be repeated using a larger chosen final time.</p>
<p><span class="math display">\[
Y_{D/A,i} = \frac{n_{D,i}}{n_{A,0}} \tag{23}
\]</span></p>
<p><span class="math display">\[
f_{A,i} = \frac{n_{A,0} - n_{A,i}}{n_{A,0}} \tag{24}
\]</span></p>
<p><span class="math display">\[
i_{opt} = \underset{i}{\arg\max} \left(Y_{D/A,i}\right) \tag{25}
\]</span></p>
<p><span class="math display">\[
Y_{D/A}\big\vert_{t_{opt}} = Y_{D/A,i_{opt}} \tag{26}
\]</span></p>
<p><span class="math display">\[
t_{opt} = t_{f,i_{opt}}\tag{27}
\]</span></p>
<p><span class="math display">\[
f_A\big\vert_{t_{opt}} = f_{A,i_{opt}} \tag{28}
\]</span></p>
</section>
<section id="formulation-of-the-calculations-2" class="level4" data-number="9.6.3.4">
<h4 data-number="9.6.3.4" class="anchored" data-anchor-id="formulation-of-the-calculations-2"><span class="header-section-number">9.6.3.4</span> Formulation of the Calculations</h4>
<p>To complete the assignment, the BSTR design equations are solved first, and then the quantities of interest are calculated. The BSTR design equations are IVODEs, and they can be solved numerically as described in <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref">Appendix&nbsp;<span>F.5.2</span></a> by writing a derivatives function and a BSTR function. A deliverables function can be added to calculate the quantities of interest.</p>
<ul>
<li><p>The derivatives function must be passed the independent and dependent variables at the start of an integration step, and it must return the derivatives of the dependent variables. To do so the algorithm must calculate the rates, <span class="math inline">\(r_1\)</span> and <span class="math inline">\(r_2\)</span>, and the rate of heat transfer <span class="math inline">\(\dot{Q}\)</span>, form the mass matrix, <span class="math inline">\(\boldsymbol{M}\)</span> and the vector <span class="math inline">\(g\)</span>, and evaluate the derivatives.</p></li>
<li><p>The BSTR function will be passed a final time as an argument, and return corresponding sets of the independent and dependent variables spanning the range from their initial to their final values. The algorithm will simply define the initial values and stopping criterion and then call an IVODE solver.</p></li>
<li><p>The deliverables function will take no arguments and return nothing. It will define a large final time, call the BSTR function, use the results to calculate the quantities of interest, display, and save them to a file.</p></li>
</ul>
<p>Specifications can be written for each of these functions in preparation for writing them. The function specifications given here assume that the known constants are available wherever they are needed.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Derivatives Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Derivatives Function Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_D\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_U\)</span>, <span class="math inline">\(P\)</span>, and <span class="math inline">\(T\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_B}{dt}\)</span>, <span class="math inline">\(\frac{dn_D}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, <span class="math inline">\(\frac{dn_U}{dt}\)</span>, <span class="math inline">\(\frac{dP}{dt}\)</span>, and <span class="math inline">\(\frac{dT}{dt}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
P_A = \frac{n_ART}{V} \tag{19}
\]</span></p>
<p><span class="math display">\[
P_B = \frac{n_BRT}{V} \tag{20}
\]</span></p>
<p><span class="math display">\[
P_D = \frac{n_DRT}{V} \tag{21}
\]</span></p>
<p><span class="math display">\[
r_1 = k_{0,1} \exp{\left(\frac{-E_1}{RT}\right)}P_AP_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_{0,2} \exp{\left(\frac{-E_2}{RT}\right)}P_DP_B \tag{4}
\]</span></p>
<p><span class="math display">\[
\dot Q = UA\left( T_{ex} - T \right) \tag{22}
\]</span></p>
<p><span class="math display">\[
\boldsymbol{M} = \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; \displaystyle\sum_i\left(n_i \hat{C}_{p,i} \right) &amp; -V \\ RT &amp; RT &amp; RT &amp; RT &amp; RT &amp; R\displaystyle\sum_i n_i &amp; -V  \end{bmatrix} \tag{16}
\]</span></p>
<p><span class="math display">\[
\underline{g} = \begin{bmatrix} -r_1V \\ \left(-r_1 - r_2\right)V \\ \left(r_1 - r_2\right)V \\ \left(r_1 + r_2\right)V \\ r_2V \\ \dot{Q} -\left(r_1\Delta H_1 + r_2 \Delta H_2\right)V \\ 0 \end{bmatrix}\tag{17}
\]</span></p>
<p><span class="math display">\[
\begin{bmatrix} \frac{dn_A}{dt} \\ \frac{n_B}{dt} \\ \frac{n_D}{dt} \\ \frac{n_Z}{dt} \\ \frac{dn_U}{dt} \\ \frac{T}{dt} \\ \frac{P}{dt} \end{bmatrix} = \boldsymbol{M}^{-1} \underline{g} \tag{18}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-27-contents" aria-controls="callout-27" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the BSTR Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-27" class="callout-27-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>BSTR Function Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(t_f\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\underline{t}\)</span>, <span class="math inline">\(\underline{n}_A\)</span>, <span class="math inline">\(\underline{n}_B\)</span>, <span class="math inline">\(\underline{n}_D\)</span>, <span class="math inline">\(\underline{n}_Z\)</span>, <span class="math inline">\(\underline{n}_U\)</span>, <span class="math inline">\(\underline{T}\)</span>,and <span class="math inline">\(\underline{P}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
t_{initial} = 0 \tag{33}
\]</span></p>
<p><span class="math display">\[
n_{A,initial} = n_{A,0} = \frac{P_{A,0}V}{RT} \tag{12}
\]</span></p>
<p><span class="math display">\[
n_{B,initial} = n_{B,0} = \frac{P_{B,0}V}{RT} \tag{13}
\]</span></p>
<p><span class="math display">\[
n_{D,initial} = 0,\, n_{Z,initial} = 0,\, n_{U,initial} = 0,\, T_{initial} = T_0 \tag{34}
\]</span></p>
<p><span class="math display">\[
P_{initial} = P_0 = P_{A,0} + P_{B,0} \tag{14}
\]</span></p>
<p><span class="math display">\[
t_{final} = t_f \tag{35}
\]</span></p>
<p><span class="math display">\[
\begin{matrix}t_{initial}, n_{A,initial}, n_{B,initial}, n_{D,initial}, \\
n_{Z,initial}, n_{U,initial}, n_{A,initial}, T_{initial},\\
P_{initial}, t_{final}, \text{ derivatives function}\\
\Downarrow\\
\text{IVODE solver}\\
\Downarrow\\
\underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_D, \underline{n}_Z, \underline{n}_U, \underline{T},\underline{P}\\
\end{matrix} \tag{36}
\]</span></p>
<p>&nbsp;</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Deliverables Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The deliverables function must define a final time that is greater than the time when the yield reaches its maximum, but I don’t know what that time is. So here I’ll set the final time to be 20 minutes. If it takes longer for the yield to reach its maximum, I’ll need to increase the final time and repeat the calculations.</p>
<center>
<strong>Deliverables Function Specifications</strong>
</center>
<p><u>Arguments</u>: none</p>
<p><u>Returns</u>: nothing</p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
t_f = 20 \tag{37}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}t_f\\
\Downarrow\\
\text{BSTR function}\\
\Downarrow\\
\underline{t}, \underline{n}_A, \underline{n}_B, \underline{n}_D, \underline{n}_Z, \underline{n}_U, \underline{T},\underline{P}
\end{matrix} \tag{38}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\forall\, i \quad Y_{D/A,i} = \frac{n_{D,i}}{n_{A,0}} \tag{23}
\]</span></p>
<p><span class="math display">\[
\forall\, i \quad f_{A,i} = \frac{n_{A,0} - n_{A,i}}{n_{A,0}} \tag{24}
\]</span></p>
<p><span class="math display">\[
i_{opt} = \underset{i}{\arg\max} \left(Y_{D/A,i}\right) \tag{25}
\]</span></p>
<p><span class="math display">\[
Y_{D/A}\big\vert_{t_{opt}} = Y_{D/A,i_{opt}} \tag{26}
\]</span></p>
<p><span class="math display">\[
t_{opt} = t_{f,i_{opt}}\tag{27}
\]</span></p>
<p><span class="math display">\[
f_A\big\vert_{t_{opt}} = f_{A,i_{opt}} \tag{28}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
t_{opt},\, Y_{D/A}\big\vert_{t_{opt}},\, f_A\big\vert_{t_{opt}}\\
\Downarrow\\
\text{functions to display and save}
\end{matrix} \tag{33}
\]</span></p>
</div>
</div>
</div>
</section>
<section id="implementation-and-execution-of-the-calculations-2" class="level4" data-number="9.6.3.5">
<h4 data-number="9.6.3.5" class="anchored" data-anchor-id="implementation-and-execution-of-the-calculations-2"><span class="header-section-number">9.6.3.5</span> Implementation and Execution of the Calculations</h4>
<p>The derivatives, BSTR, and deliverables functions were written as specified above using an appropriate mathematics software package. Upon attempting to perform the calculations by calling the deliverables function, the code ran for a long time, and the results were not realistic. This suggested that the IVODEs might be stiff, so the calculations were repeated after setting the code to use a stiff IVODE solver. The code then ran successfully. The yield of D did pass through a maximum, so it was not necessary to change the chosen value of <span class="math inline">\(t_f\)</span> and repeat the calculations.</p>
</section>
<section id="results-and-discussion-2" class="level4" data-number="9.6.3.6">
<h4 data-number="9.6.3.6" class="anchored" data-anchor-id="results-and-discussion-2"><span class="header-section-number">9.6.3.6</span> Results and Discussion</h4>
<p><a href="#fig-example_9_6_3_yield_plot" class="quarto-xref">Figure&nbsp;<span>9.9</span></a> shows the variation of the yield as a function of the reaction time. The maximum yield, 0.495 mol D per initial mol A, occurs at a reaction time of 7.1 min. The conversion of A at that reaction time is 74.7 %.</p>
<div id="fig-example_9_6_3_yield_plot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_3_yield_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_3/yield_vs_t.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_3_yield_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.9: Yield of D as the reaction time varies.
</figcaption>
</figure>
</div>
<p>Reactions (1) and (2) constitute a series-parallel reaction network. The desired product, D, is an intermediate product. It is produced in reaction (1) and consumed in reaction (2). The yield of an intermediate product is expected to pass through a maximum as the reaction time increases as seen in <a href="#fig-example_9_6_3_yield_plot" class="quarto-xref">Figure&nbsp;<span>9.9</span></a>. This can be predicted qualitatively as long as the effect of temperature is comparable for the two reactions.</p>
<p>At the start of the reaction, the concentrations of A and B will be large and those of D, U, and Z will be zero. The rate of reaction (1) will be positive while that for reaction (2) will be zero. Consequently, during a very brief interval at the start of the reactive process, the concentrations of A and B will decrease and the concentrations of D and Z will increase.</p>
<p>During the next brief interval in time, the rate of reaction (1) will be smaller because the concentrations of A and B will be smaller, and the rate of reaction (2) no longer will equal zero because a small amount D will be present leading to a positive rate. The concentrations of A and B will again decrease and the concentration of Z will again increase. It can be expected that the rate of reaction (1) will be greater than the rate of reaction (2) because only a small concentration of D will be present, so the concentration of D, and its yield, will again increase, as can be seen in <a href="#fig-example_9_6_3_yield_plot" class="quarto-xref">Figure&nbsp;<span>9.9</span></a>.</p>
<p>For as long as the rate of reaction (2) remains smaller than the rate of reaction (1), the amount of D will be increasing, but its rate of increase will get smaller and smaller. The reason for this is that the concentrations of A and B will be decreasing, and hence the rate of generation of D by reaction (1) will be decreasing. At the same time, the rate of consumption of D by reaction (2) will be increasing as the concentration of D builds. This can be seen in <a href="#fig-example_9_6_3_yield_plot" class="quarto-xref">Figure&nbsp;<span>9.9</span></a> where the curvature of the yield plot is initially concave downward,</p>
<p>Eventually, the rate of reaction (2) will become equal to the rate of reaction (1). For that instant in time, the yield of D will not be changing. This corresponds to the maximum in <a href="#fig-example_9_6_3_yield_plot" class="quarto-xref">Figure&nbsp;<span>9.9</span></a>. At times beyond the maximum the rate of reaction (1) is less than the rate of reaction (2), so the concentration of D decreases. As the concentrations of both reactants, A and D, continue to decrease, both reactions (1) and (2) become slower and slower. This can be seen at larger reaction times in <a href="#fig-example_9_6_3_yield_plot" class="quarto-xref">Figure&nbsp;<span>9.9</span></a> where the curve is concave upward. Eventually, at very large reaction time, the rates will equal zero and all of the D will have been consumed.</p>
<p>In this example series-parallel reactions are occurring where the desired product is produced in one reaction and consumed by another. This assignment shows that the reaction time has a significant effect upon the amount of the desired product. Other process parameters such as the initial composition or temperature will also affect the results, but for series and series-parallel reactions their effect on the selectivity is often weaker. Temperature can be an effective parameter for adjusting the selectivity of multiple reactions if the activation energies of the reactions differ significantly. That was the case in <a href="#sec-example_9_6_2" class="quarto-xref">Example&nbsp;<span>9.6.2</span></a>, and indeed, the discussion following that example showed that changing the temperature did have a significant effect.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-29-contents" aria-controls="callout-29" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Notes
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-29" class="callout-29-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<ol type="1">
<li><p>In the solution above, the mass matrix was used to write the IVODEs in the form of seven derivatives expressions. An equivalent approach is to generate the 7 derivative expressions by algebraic manipulation of equations (5) through (11).</p></li>
<li><p>Yet another approach is to solve equation (11) for <span class="math inline">\(\frac{dP}{dt}\)</span> and substitute the result into equation (10). This reduces the IVODEs to a set of six equations containing six dependent variables: <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_D\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_U\)</span>, and <span class="math inline">\(T\)</span>. Those six IVODEs can then be written as derivative expressions either by algebraic manipulation or using a mass matrix.</p></li>
<li><p>Finally, in this assignment the yield was optimized with respect to an IVODE variable (the reaction time). When that is the case the reactor design equations only need to be solved once, so long as the interval the variables span includes the optimum value of the variable being optimized. When a reactor response is optimized with respect to something other than an independent or dependent ODE variable, the design equations typically need to be solved multiple times. For example, if the yield in this assignment had been optimized with respect to the heat transfer area, the design equations would need to be solved for many different values of the heat transfer area in order to find one that maximizes the yield.</p></li>
</ol>
</div>
</div>
</div>
</section>
</section>
<section id="sec-example_9_6_4" class="level3" data-number="9.6.4">
<h3 data-number="9.6.4" class="anchored" data-anchor-id="sec-example_9_6_4"><span class="header-section-number">9.6.4</span> Optimization of Net Production Rate</h3>
<p>The rate expression for liquid-phase reaction (1) is given in equation (2). The rate coefficient displays Arrhenius temperature dependence with a pre-exponential factor of 2.59 x 10<sup>9</sup> min<sup>-1</sup> and an activation energy of 16.5 kcal mol<sup>-1</sup>. The heat of reaction (1) may be taken to be constant and equal to -22,200 cal mol<sup>-1</sup>. A solution containing only A at a concentration of 2 M and a temperature of 23 °C is going to be processed in a BSTR. The heat capacity of the solution is approximately constant and equal to 440 cal L<sup>-1</sup> K<sup>-1</sup>, and its density is constant.</p>
<p><span class="math display">\[
A \rightarrow Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_A \tag{2}
\]</span></p>
<p>The 4.0 L BSTR has a perfectly mixed jacket with a volume of 0.5 L, a heat transfer area of 0.6 ft<sup>2</sup>, and a heat transfer coefficient of 1.13 x 10<sup>4</sup> cal ft<sup>-2</sup> h<sup>-1</sup> K<sup>-1</sup>. Cooling water at 20 °C can be fed to the jacket. The water may be taken to have a constant density of 1 g cm<sup>-3</sup> and a constant heat capacity of 1 cal g<sup>-1</sup> K<sup>-1</sup>. A heating coil with a heat transfer coefficient of 3.8 x 10<sup>4</sup> cal ft<sup>-2</sup> h<sup>-1</sup> K<sup>-1</sup> and a heat transfer area of 0.23 ft<sup>2</sup> can be submerged in and extracted from the reacting solution. Saturated steam at 120 °C can admitted to the coil.</p>
<p>The BSTR is charged with 4 L of a 2 M solution of A at 23 °C. Initially there is no flow to the jacket, but it is filled with water, also at 23 °C. To start the batch process, the steam is admitted to the coil, and the coil is immersed in the solution. When the reacting fluid reaches 50 °C, the coil is extracted from the reacting fluid and cooling water flow to the jacket is started. When the reacting fluid reaches a temperature of 25 °C the cooling water flow is stopped, the reactor is drained and preparations for processing the next batch begin. The BSTR pressure is constant throughout all stages of processing. If the turnaround time for the reactor is 25 min, what coolant flow rate will maximize the net rate of production of Z? Plot the conversion of A and the reacting fluid temperature <em>vs</em>. reaction time corresponding to the coolant flow rate that maximizes the net rate and comment on the results.</p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-30-contents" aria-controls="callout-30" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-30" class="callout-30-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This is an isolated reactor analysis problem: the reactor is the only equipment involved, the reactions and rate expressions are known, and the questions are about reactor inputs and outputs. To summarize the assignment, I’ll assign appropriate variable symbols to every quantity mentioned in the assignment. This is a batch reactor with 2-stage operating protocol. I’ll use a subscripted “0” to denote initial conditions, a subscripted “1” to denote values at the end of the first stage in the protocol and a subscripted “f” to denote final values. Since there is only one reaction, I won’t use subscripts to index reactions.</p>
<p>This reactor has both a coil for heating and a jacket for cooling. I’ll use a subscripted “ex” to denote properties associated with the cooling jacket and a sub-scripted “coil” to denote properties associated with the heating coil.</p>
</div>
</div>
</div>
<section id="assignment-summary-3" class="level4" data-number="9.6.4.1">
<h4 data-number="9.6.4.1" class="anchored" data-anchor-id="assignment-summary-3"><span class="header-section-number">9.6.4.1</span> Assignment Summary</h4>
<p><strong>Reaction:</strong></p>
<p><span class="math display">\[
A \rightarrow Z \tag{1}
\]</span></p>
<p><strong>Rate Expression:</strong></p>
<p><span class="math display">\[
r = kC_A \tag{2}
\]</span></p>
<p><strong>Reactor System:</strong> BSTR with stage 1 heating and stage 2 cooling.</p>
<p><strong>Reactor Schematic:</strong></p>
<div id="fig-closed_stirred_tank_reactor" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Graphics/bstr_example_9_6_4.png" class="img-fluid figure-img" style="width:30.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-closed_stirred_tank_reactor-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.10: Schematic representation of a closed (batch), stirred tank reactor with a heating coil (yellow) and a cooling jacket (green).
</figcaption>
</figure>
</div>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(\dot{m}_{ex,opt} = \underset{\dot{m}_{ex}}{\arg\max} \left(r_{Z,net}\right)\)</span>, <span class="math inline">\(\underline{f}_A\big\vert_{\dot{m}_{ex,opt}}\)</span> <em>vs.</em> <span class="math inline">\(\underline{t}\)</span>, and <span class="math inline">\(\underline{T}\big\vert_{\dot{m}_{ex,opt}}\)</span> <em>vs.</em> <span class="math inline">\(\underline{t}\)</span> as graphs.</p>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(k_0\)</span> = 2.59 x 10<sup>9</sup> min<sup>-1</sup>, <span class="math inline">\(E\)</span> = 16.5 kcal mol<sup>-1</sup>, <span class="math inline">\(\Delta H\)</span> = -22,200 cal mol<sup>-1</sup>, <span class="math inline">\(C_{A,0}\)</span> = 2 M, <span class="math inline">\(T_0\)</span> = 23 °C, <span class="math inline">\(\breve{C}_p\)</span> = 440 cal L<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(V\)</span> = 4.0 L, <span class="math inline">\(V_{ex}\)</span> = 0.5 L, <span class="math inline">\(A_{ex}\)</span> = 0.6 ft<sup>2</sup>, <span class="math inline">\(U_{ex}\)</span> = 1.13 x 10<sup>4</sup> cal ft<sup>-2</sup> h<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(T_{ex,in}\)</span> = 20 °C, <span class="math inline">\(\rho_{ex}\)</span> = 1 g cm<sup>-3</sup>, <span class="math inline">\(\tilde{C}_{p,ex}\)</span> = 1 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(U_{coil}\)</span> = 3.8 x 10<sup>4</sup> cal ft<sup>-2</sup> h<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(A_{coil}\)</span> = 0.23 ft<sup>2</sup>, <span class="math inline">\(T_{coil}\)</span> = 120 °C, <span class="math inline">\(T_{ex,out,0}\)</span> = 23 °C, <span class="math inline">\(T_1\)</span> = 50 °C, <span class="math inline">\(T_f\)</span> = 25 °C, <span class="math inline">\(t_{turn}\)</span> = 25 min, and <span class="math inline">\(R\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup>.</p>
</section>
<section id="generation-of-the-model-equations-3" class="level4" data-number="9.6.4.2">
<h4 data-number="9.6.4.2" class="anchored" data-anchor-id="generation-of-the-model-equations-3"><span class="header-section-number">9.6.4.2</span> Generation of the Model Equations</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-31-contents" aria-controls="callout-31" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-31" class="callout-31-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The first thing I need to do is to generate the reactor design equations. The operational protocol for this reactor has two stages, so I need to write and simplify the reactor design equations needed to model each stage. The reactor design equations always include at least one mole balance. The general BSTR mole balance is given in <a href="section_3_react_eng_models.html#eq-bstr_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.8</span></a>. I’ll write a mole balance for both of the reagents in this system, noting that the sum reduces to a single term since only one reaction is taking place.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \cancelto{\nu_{i,1}r_1}{\sum_j \nu_{i,j}r_j}
\]</span></p>
<p>The BSTR is not isothermal, so I must include an energy balance on the reacting fluid among the design equations. The general BSTR mole balance is given in <a href="section_3_react_eng_models.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>. Assuming the liquid to be incompressible and the reactor walls to be rigid, both the pressure and volume will be constant, so their time-derivatives will equal zero. The work associated with mixing the reactor can also be assumed to be negligible. There is only one reaction occurring, so the final sum will reduce to a single term. In addition, the assignment provides the volumetric heat capacity of the entire solution, so the sensible heat term can be written in terms of that heat capacity, <a href="section_3_react_eng_models.html#eq-bstr_equivalent_sens_heat_terms" class="quarto-xref">Equation&nbsp;<span>6.10</span></a>. During the first stage of the operating protocol, heat is exchanged with both the cooling water and the steam, so the rate of heat exchange must be split into two terms. During the second stage the coil is not present.</p>
<p><span class="math display">\[
\cancelto{V \breve{C}_p}{\left(\sum_i n_i \hat C_{p,i} \right)} \frac{dT}{dt} - V\cancelto{0}{\frac{dP}{dt}}  - P  \cancelto{0}{\frac{dV}{dt}}  = \cancelto{\dot{Q}_{ex} + \dot{Q}_{coil}}{\dot Q} - \cancelto{0}{\dot W} - V \cancelto{r_1 \Delta H_1}{\sum_j \left(r_j \Delta H_j \right)}
\]</span></p>
<p><span class="math display">\[
V \breve{C}_p \frac{dT}{dt} = \dot{Q}_{ex} + \dot{Q}_{coil} - V r_1 \Delta H_1
\]</span></p>
<p>There are two heat exchange fluids in this system. The cooling water in the jacket exchanges sensible heat so the energy balance on it is given by <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_sensible" class="quarto-xref">Equation&nbsp;<span>6.2</span></a>. During the first stage of the operating protocol, the coolant is not flowing, so <span class="math inline">\(\dot{m}_{ex} = 0\)</span>. During the second stage, the cooling water is flowing. Noting that the heat capacity is constant, the integral is easily evaluated for the second stage.</p>
<p><span class="math display">\[
\rho_{ex} V_{ex} \tilde C_{p,ex}\frac{dT_{ex}}{dt} = -\dot{Q}_{ex} - \dot m_{ex} \int_{T_{ex,in}}^{T_{ex}} \tilde C_{p,ex}dT
\]</span></p>
<p><span class="math display">\[
\rho_{ex} V_{ex} \tilde C_{p,ex}\frac{dT_{ex,out}}{dt} = -\dot{Q}_{ex} - \dot m_{ex}\tilde C_{p,ex} \left(T_{ex,out}-T_{ex,in}\right)
\]</span></p>
<p>The steam in the coil exchanges latent heat, so its temperature is known and constant. As a consequence, the mole balances, energy balance on the reacting fluid and energy balance on the cooling water can be solved independently of the energy balance on the steam. The problem does not ask any questions about the steam flow rate or how much of it condenses, so an energy balance on the steam is not needed.</p>
<p>Momentum balances are not used for stirred tank reactors, so the full set of reactor design equations consists of mole balances on A and Z, an energy balance on the reacting fluid and an energy balance on the cooling water. The mole balances are the same for both stages of operation, but both energy balances change from one stage to the other. For each stage there are four IVODEs and four dependent variables, so it is not necessary to add an IVODE or eliminate a dependent variable.</p>
</div>
</div>
</div>
<p><strong>BSTR Design Equations</strong></p>
<p>Mole balances on A and Z, equations (3) and (4) are the same in heating stage of the protocol and in the cooling stage. An energy balance on the reacting fluid and an energy balance on the coolant in the shell during the heating stage are shown in equations (5) and (6). During the cooling stage of the operating protocol, an energy balance on the reacting fluid and an energy balance on the coolant take the forms shown in equations (7) and (8).</p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -Vr \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = Vr \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{\dot{Q}_{ex} + \dot{Q}_{coil}  - Vr \Delta H}{V \breve C_p} \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex}}{dt} = -\left(\frac{\dot{Q}_{ex}}{\rho_{ex} V_{ex} \tilde C_{p,ex}}\right) \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{\dot{Q}_{ex}  - Vr \Delta H}{V \breve C_p} \tag{7}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex,out}}{dt} = -\left(\frac{\dot{Q}_{ex} + \dot m_{ex} \tilde{C}_{p,ex} \left(T_{ex,out} - T_{ex,in}\right)}{\rho_{ex} V_{ex} \tilde C_{p,ex}}\right) \tag{8}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-32-contents" aria-controls="callout-32" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-32" class="callout-32-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The BSTR design equations are ODEs, so initial values and a stopping criterion are needed to solve them. For this system, two sets of initial values and stopping criteria will be needed because the ODEs need to be solved for each of the two operational stages.</p>
<p>The instant the solution is added to the reactor can be defined as <span class="math inline">\(t=0\)</span>. This marks the start of the heating phase. The molar amount of A, <span class="math inline">\(n_{A,0}\)</span>, can be calculated directly using its known initial concentration and the fluid volume. Only A is present initially, so the initial amount of Z is zero. The reacting fluid temperature, <span class="math inline">\(T_0\)</span>, and the cooling water temperature, <span class="math inline">\(T_{ex,0}\)</span>, at that time are also known. The heating stage ends when the reacting fluid reaches <span class="math inline">\(T_1\)</span>, which is also known. All of the initial values for the first stage are known or can be calculated directly, and only one final value is known, so the BSTR design equations for the first stage are IVODEs.</p>
<p>The cooling phase begins the instant the heating phase ends, so the initial values for the cooling phase are the final values from the heating phase. Assuming that the BSTR design equations for the first stage will be solved before those for the second stage, the initial values for the second stage are all known. The cooling phase ends when the reacting fluid cools down to <span class="math inline">\(T_f\)</span>, so that is the stopping criterion for the cooling phase. Again, the BSTR design equations for the second stage are IVODEs.</p>
</div>
</div>
</div>
<p><strong>Initial Values and Stopping Criteria</strong></p>
<div id="tbl-example_9_6_4_heating_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_9_6_4_heating_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.4: Initial values and stopping criterion for solving the design equations, (3) through (6), for the heating stage of the operating protocol.
</figcaption>
<div aria-describedby="tbl-example_9_6_4_heating_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{A,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;">0</td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_0\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_1\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_{ex}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{ex,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p>&nbsp;</p>
<div id="tbl-example_9_6_4_cooling_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_9_6_4_cooling_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;9.5: Initial values and stopping criterion for solving the design equations, (3), (4), (7) and (8), for the cooling stage of the operating protocol.
</figcaption>
<div aria-describedby="tbl-example_9_6_4_cooling_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: left;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(t_1\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{A,1}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(n_{Z,1}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_1\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_f\)</span></td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_{ex,out}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{ex,1}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Supporting Equations for Calculating the Initial Values</strong></p>
<p><span class="math display">\[
n_{A,0} = C_{A,0}V \tag{9}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-33-contents" aria-controls="callout-33" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-33" class="callout-33-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In order to solve the IVODEs numerically I’ll need write a derivatives function for each of the two operational stages. Each derivatives function will receive <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span> at the start of an integrations step. For the heating stage, it must use equations (3) through (6) to evaluate the derivatives, and then return them. Before the derivatives can be evaluated, any additional unknowns appearing in those equations must be calculated. Examination of equations (3) through (6) shows that for the heating stage, <span class="math inline">\(r\)</span>, <span class="math inline">\(\dot{Q}_{ex}\)</span>, and <span class="math inline">\(\dot{Q}_{coil}\)</span> are additional unknowns that must be calculated.</p>
<p>The heat exchange rates can be calculated using the known heat transfer coefficients and heat transfer areas, <a href="apndx_derivations.html#eq-heat-trans-rate" class="quarto-xref">Equation&nbsp;<span>E.4</span></a>. The reaction rate can be calculated using the given rate expression, but doing so introduces two more unknowns, <span class="math inline">\(k\)</span> and <span class="math inline">\(C_A\)</span>. The rate coefficient can be calculated using the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>, since the pre-expoenetial factor and activation energy are known. The concentration of reagent A can be calculated using the defining equation for concentration in a closed system, <a href="section_1_rxns_reactors.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>2.7</span></a>.</p>
<p>For the cooling stage equations (3), (4), (7), and (8) will be used to evaluate the derivatives. Examination of those equations shows that in addition to <span class="math inline">\(r\)</span> and <span class="math inline">\(\dot{Q}_{coil}\)</span>, the coolant flow rate, <span class="math inline">\(\dot{m}_{ex}\)</span>, also is an unknown. The reaction rate and the rate of heat transfer to the coil can be calculated as before, but <span class="math inline">\(\dot{m}_{ex}\)</span> cannot be calculated directly. As discussed in <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref">Appendix&nbsp;<span>F.5.2</span></a>, it will need to be made available to the derivatives function by some means other than passing it as an argument.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Derivatives</strong></p>
<p>During both stages of the operational protocol, the reaction rate can be calculated using the rate expression, equation (2). The rate coefficient and concentration of A appearing in the rate expression can be calculated using equations (10) and (11). The rate of heat transfer to the jacket for both stages can be calculated using equation (12). (Note that Equation (12) uses <span class="math inline">\(T_{ex,out}\)</span> for the temperature in the jacket, but during the heating stage the coolant is not flowing, and the “out” can be omitted as was done in equation (6) and Tables <a href="#tbl-example_9_6_4_heating_initial_values" class="quarto-xref"><span>9.4</span></a> and <a href="#tbl-example_9_6_4_cooling_initial_values" class="quarto-xref"><span>9.5</span></a>.) The coil is only used during the heating stage, and its rate of heat transfer can be calculated using equation (13).</p>
<p><span class="math display">\[
k_1 = k_{0,1}\exp{\left( \frac{-E_1}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{Q}_{ex} = U_{ex} A_{ex} \left(T_{ex,out} - T\right) \tag{12}
\]</span></p>
<p><span class="math display">\[
\dot{Q}_{coil} = U_{coil} A_{coil} \left(T_{coil} - T\right) \tag{13}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-34-contents" aria-controls="callout-34" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-34" class="callout-34-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point, the design equations for the first stage can be solved to find corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span> that span the range from their first-stage initial values to their first-stage final values. Then, given a value of <span class="math inline">\(\dot{m}_{ex}\)</span>, the design equations for the second stage can be solved to find corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span> that span the range from their second-stage initial values to their second-stage final values. Using the final molar amount of Z, the net rate of production of Z can then be calculated from its definition, <a href="section_2_rates_and_expressions.html#eq-def_net_gen_rate" class="quarto-xref">Equation&nbsp;<span>4.2</span></a>. Similarly, using the molar amount of A, the conversion can be calculated at each time using its definition, <a href="section_1_reaction_progress.html#eq-conversion_def_closed" class="quarto-xref">Equation&nbsp;<span>3.4</span></a>. If the calculations are repeated using a range of values of <span class="math inline">\(\dot{m}_{ex}\)</span> that is sufficiently wide that <span class="math inline">\(r_{Z,net}\)</span> passes through a maximum, the maximum net rate and the optimum coolant flow rate can be identified.</p>
</div>
</div>
</div>
</section>
<section id="calculating-the-quantities-of-interest-3" class="level4" data-number="9.6.4.3">
<h4 data-number="9.6.4.3" class="anchored" data-anchor-id="calculating-the-quantities-of-interest-3"><span class="header-section-number">9.6.4.3</span> Calculating the Quantities of Interest</h4>
<p>The coolant flow rate that maximizes the net rate of production of Z is one of the quantities of interest. To identify that optimum coolant flow rate, a set of 100 values of <span class="math inline">\(\dot{m}_{ex}\)</span> between 100 and 250 g min<sup>-1</sup> can be created, equations (14) and (15).</p>
<p><span class="math display">\[
N=100 \tag{14}
\]</span></p>
<p><span class="math display">\[
\underline{\dot{m}}_{ex} = \left[\dot{m}_{ex,1},\cdots,\dot{m}_{ex,N}\right]:\,\dot{m}_{ex,1}=100, \dot{m}_{ex,i} \lt \dot{m}_{ex,i+1} \text{ and } \dot{m}_{ex,N} = 250 \tag{15}
\]</span></p>
<p>For each coolant flow rate the design equations for the heating stage can be solved numerically, and the final values of the independent and dependent variables can the be used to define the initial values for the cooling stage. The design equations for the cooling stage can then be solved to get corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span> during the second, cooling stage. Using the final values, corresponding values of the net rate and the conversion can be calculated using equation (16).</p>
<p><span class="math display">\[
\forall \, \dot{m}_{ex,i} \quad \begin{pmatrix}\displaystyle r_{Z,net,i} = \frac{n_{Z,f,i}}{t_{f,i} + t_{turn}}\\
\\
\displaystyle f_{A,i} = \frac{n_{A,0} - n_{A,f,i}}{n_{A,0}}
\end{pmatrix} \tag{16}
\]</span></p>
<p>The resulting set of values for the net rate can be used to identify the coolant flow rate that maximizes the net rate, along with the maximum net rate, equations (17), (18), and (19).</p>
<p><span class="math display">\[
i_{opt} = \underset{i}{\arg\max} \left(r_{Z,net,i}\right) \tag{17}
\]</span></p>
<p><span class="math display">\[
\dot{m}_{ex,opt} = \dot{m}_{ex,i_{opt}} \tag{18}
\]</span></p>
<p><span class="math display">\[
r_{Z,net,max} = r_{Z,net,i_{opt}} \tag{19}
\]</span></p>
<p>If the net rate is maximized at a coolant flow rate of 100 g min<sup>-1</sup>, the calculations must be repeated using a range of smaller flow rates, and if it is maximized at a coolant flow rate of 250 g min<sup>-1</sup> they must be repeated using a range of larger flow rates. Otherwise, the BSTR design equations for both stages can be solved using the optimum coolant flow rate, and the results can be combined to generate corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span> that span both stages of operation. The corresponding conversion can be calculated using equation (20), and plots of <span class="math inline">\(\underline{f}_A\big\vert_{\dot{m}_{ex,opt}}\)</span> <em>vs.</em> <span class="math inline">\(\underline{t}\)</span>, and <span class="math inline">\(\underline{T}\big\vert_{\dot{m}_{ex,opt}}\)</span> <em>vs.</em> <span class="math inline">\(\underline{t}\)</span> can be generated.</p>
<p><span class="math display">\[
f_{A,i} = \frac{n_{A,0} - n_{A,f,i}}{n_{A,0}} \tag{20}
\]</span></p>
</section>
<section id="formulation-of-the-calculations-3" class="level4" data-number="9.6.4.4">
<h4 data-number="9.6.4.4" class="anchored" data-anchor-id="formulation-of-the-calculations-3"><span class="header-section-number">9.6.4.4</span> Formulation of the Calculations</h4>
<p>The BSTR design equations for this assignment are IVODEs, and they can be solved numerically as described in <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref">Appendix&nbsp;<span>F.5.2</span></a>. To complete the assignment as described in the Calculating the Quantities of Interest section, five computer functions can be written.</p>
<ul>
<li><p>The derivatives function for the heating stage must be passed the independent and dependent variables at the start of an integration step, and it must return the derivatives calculated using equations (3) through (6). To do so, the algorithm must calculate the rate, <span class="math inline">\(r\)</span>, and the two heat transfer rates, <span class="math inline">\(\dot{Q}_{ex}\)</span> and <span class="math inline">\(\dot{Q}_{coil}\)</span> and then evaluate the derivatives.</p></li>
<li><p>The derivatives function for the cooling stage must also be must be passed the independent and dependent variables at the start of an integration step and must return the derivatives, but it must calculate them using equations (3), (4), (7), and (8). To do so, the coolant flow rate must be available and the algorithm must calculate the rate, <span class="math inline">\(r\)</span>, and the heat transfer rate, <span class="math inline">\(\dot{Q}_{ex}\)</span>, before evaluating the derivatives.</p></li>
<li><p>The BSTR function for the heating stage does not need to be passed any arguments, and it returns corresponding sets of values of the independent and dependent variables spanning the duration of that stage. To do so the algorithm must define the initial values and stopping criterion for the first stage and then call an IVODE solver.</p></li>
<li><p>The BSTR function for the cooling stage must be passed the final values of the independent and dependent variables in the first (heating) stage and the coolant flow rate as arguments, and it returns corresponding sets of values of the independent and dependent variables spanning the duration of the cooling stage. To do so the algorithm must make the coolant flow rate available to the second stage derivatives function, define the initial values and stopping criterion, and call an IVODE solver.</p></li>
<li><p>The deliverables function will take no arguments, and it will not return anything. It must then calculate the quantities of interest as described above.</p></li>
</ul>
<p>Specifications can be written for each of these functions in preparation for writing them. The function specifications given here assume that the known constants are available wherever they are needed.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-35-contents" aria-controls="callout-35" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Derivatives Function for the Heating Stage Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-35" class="callout-35-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Derivatives Function for the Heating Stage Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, <span class="math inline">\(\frac{dT}{dt}\)</span>, and <span class="math inline">\(\frac{dT_{ex,out}}{dt}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
k_1 = k_{0,1}\exp{\left( \frac{-E_1}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{Q}_{ex} = U_{ex} A_{ex} \left(T_{ex,out} - T\right) \tag{12}
\]</span></p>
<p><span class="math display">\[
\dot{Q}_{coil} = U_{coil} A_{coil} \left(T_{coil} - T\right) \tag{13}
\]</span></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -Vr \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = Vr \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{\dot{Q}_{ex} + \dot{Q}_{coil}  - Vr \Delta H}{V \breve C_p} \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex}}{dt} = -\left(\frac{\dot{Q}_{ex}}{\rho_{ex} V_{ex} \tilde C_{p,ex}}\right) \tag{6}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-36-contents" aria-controls="callout-36" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Derivatives Function for the Cooling Stage Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-36" class="callout-36-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Derivatives Function for the Cooling Stage Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex,out}\)</span></p>
<p><u>Must be Available</u>: <span class="math inline">\(\dot{m}_{ex}\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, <span class="math inline">\(\frac{dT}{dt}\)</span>, and <span class="math inline">\(\frac{dT_{ex,out}}{dt}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
k_1 = k_{0,1}\exp{\left( \frac{-E_1}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{Q}_{ex} = U_{ex} A_{ex} \left(T_{ex,out} - T\right) \tag{12}
\]</span></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -Vr \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = Vr \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{\dot{Q}_{ex}  - Vr \Delta H}{V \breve C_p} \tag{7}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex,out}}{dt} = -\left(\frac{\dot{Q}_{ex} + \dot m_{ex} \tilde{C}_{p,ex} \left(T_{ex,out} - T_{ex,in}\right)}{\rho_{ex} V_{ex} \tilde C_{p,ex}}\right) \tag{8}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-37-contents" aria-controls="callout-37" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the BSTR Function for the Heating Stage Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-37" class="callout-37-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>BSTR Function for the Heating Stage Specifications</strong>
</center>
<p><u>Arguments</u>: none.</p>
<p><u>Returns</u>: <span class="math inline">\(\underline{t}\)</span>, <span class="math inline">\(\underline{n}_A\)</span>, <span class="math inline">\(\underline{n}_Z\)</span>, <span class="math inline">\(\underline{T}\)</span>, and <span class="math inline">\(\underline{T}_{ex}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
t_{initial} = 0 \tag{20}
\]</span></p>
<p><span class="math display">\[
n_{A,initial} = n_{A,0} = C_{A,0}V \tag{9}
\]</span></p>
<p><span class="math display">\[
n_{Z,initial} = 0,\, T_{initial} = T_0,\, T_{ex,initial} = T_{ex,0},\, T_{final} = T_1\tag{21}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}t_{initial}, n_{A,initial}, n_{Z,initial},\\
T_{initial}, T_{ex,initial}, T_{final},\\
\text{ derivatives function for the heating stage}\\
\Downarrow\\
\text{IVODE solver}\\
\Downarrow\\
\underline{t}, \underline{n}_A, \underline{n}_Z, \underline{T}, \underline{T}_{ex}\\
\end{matrix} \tag{22}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-38-contents" aria-controls="callout-38" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the BSTR Function for the Cooling Stage Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-38" class="callout-38-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Derivatives Function for the Cooling Stage Specifications</strong>
</center>
<p><u>Arguments</u>: <span class="math inline">\(\dot{m}_{ex}\)</span>, <span class="math inline">\(t_{initial}\)</span>, <span class="math inline">\(n_{A,initial}\)</span>, <span class="math inline">\(n_{Z,initial}\)</span>, <span class="math inline">\(T_{initial}\)</span>, and <span class="math inline">\(T_{ex,out,initial}\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\underline{t}\)</span>, <span class="math inline">\(\underline{n}_A\)</span>, <span class="math inline">\(\underline{n}_Z\)</span>, <span class="math inline">\(\underline{T}\)</span>, and <span class="math inline">\(\underline{T}_{ex,out}\)</span></p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
\dot{m}_{ex} \, \Rightarrow \, \text{available to the derivatives function for the cooling stage}\tag{23}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}t_{initial}, n_{A,initial}, n_{Z,initial},\\
T_{initial}, T_{ex,out,initial}, T_{final},\\
\text{ derivatives function for the cooling stage}\\
\Downarrow\\
\text{IVODE solver}\\
\Downarrow\\
\underline{t}, \underline{n}_A, \underline{n}_Z, \underline{T}, \underline{T}_{ex}\\
\end{matrix} \tag{24}
\]</span></p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-39-contents" aria-controls="callout-39" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See the Deliverables Function Specifications
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-39" class="callout-39-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<center>
<strong>Deliverables Function Specifications</strong>
</center>
<p><u>Arguments</u>: none</p>
<p><u>Returns</u>: nothing</p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
\begin{matrix}
\text{BSTR function for the Heating Stage}\\
\Downarrow\\
\underline{t}_{heating}, \underline{n}_{A,heating}, \underline{n}_{Z,heating}, \underline{T}_{heating}, \underline{T}_{ex,heating}
\end{matrix} \tag{25}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
N=100 \tag{14}
\]</span></p>
<p><span class="math display">\[
\underline{\dot{m}}_{ex} = \left[\dot{m}_{ex,1},\cdots,\dot{m}_{ex,N}\right]:\,\dot{m}_{ex,1}=100, \dot{m}_{ex,i} \lt \dot{m}_{ex,i+1} \text{ and } \dot{m}_{ex,N} = 250 \tag{15}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix} t_{initial} = \underline{t}_{heating}\big\vert_{T_1},\, n_{A,initial} = \underline{n}_{A,heating}\big\vert_{T_1},\, n_{Z,initial} = \underline{n}_{Z,heating}\big\vert_{T_1} \\
T_{initial} = \underline{T}_{heating}\big\vert_{T_1},\, T_{ex,out,initial} = \underline{T}_{ex,heating}\big\vert_{T_1},\, T_{final} = T_f \end{matrix}\tag{26}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\forall \, \dot{m}_{ex,i} \quad
\begin{pmatrix}
\begin{matrix}
\dot{m}_{ex,i},\, t_{initial},\, n_{A,initial},\, n_{Z,initial},\\
T_{initial},\, T_{ex,out,initial},\, T_{final} \\
\Downarrow\\
\text{BSTR function for the Cooling Stage}\\
\Downarrow\\
\underline{t}, \underline{n}_A, \underline{n}_Z, \underline{T}, \underline{T}_{ex}
\end{matrix}\\
\\
\displaystyle r_{Z,net,i} = \frac{n_{Z,f,i}}{t_{f,i} + t_{turn}}
\end{pmatrix} \tag{16}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
i_{opt} = \underset{i}{\arg\max} \left(r_{Z,net,i}\right) \tag{17}
\]</span></p>
<p><span class="math display">\[
\dot{m}_{ex,opt} = \dot{m}_{ex,i_{opt}} \tag{18}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
\dot{m}_{ex,opt},\, r_{Z,net,i_{opt}}\\
\Downarrow\\
\text{functions to display and save}
\end{matrix} \tag{27}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
\dot{m}_{ex,opt},\, t_{initial},\, n_{A,initial},\, n_{Z,initial},\\
T_{initial},\, T_{ex,out,initial},\, T_{final} \\
\Downarrow\\
\text{BSTR function for the Cooling Stage}\\
\Downarrow\\
\underline{t}_{cooling}, \underline{n}_{A,cooling}, \underline{n}_{Z,cooling}, \underline{T}_{cooling}, \underline{T}_{ex,out,cooling}
\end{matrix} \tag{28}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\underline{t} = \left[ \underline{t}_{heating}, \underline{t}_{cooling}\right] \tag{29}
\]</span></p>
<p><span class="math display">\[
\underline{n}_A = \left[ \underline{n}_{A,heating}, \underline{n}_{A,cooling}\right] \tag{30}
\]</span></p>
<p><span class="math display">\[
\underline{f}_A = \frac{n_{A,0} - \underline{n}_A}{n_{A,0}} \tag{31}
\]</span></p>
<p><span class="math display">\[
\underline{T} = \left[ \underline{T}_{heating}, \underline{T}_{cooling}\right] \tag{32}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
\underline{t},\, \underline{f}_A,\, \underline{T}\\
\Downarrow\\
\text{plotting functions}\\
\Downarrow\\
\text{requested graphs}
\end{matrix} \tag{33}
\]</span></p>
</div>
</div>
</div>
</section>
<section id="implementation-and-execution-of-the-calculations-3" class="level4" data-number="9.6.4.5">
<h4 data-number="9.6.4.5" class="anchored" data-anchor-id="implementation-and-execution-of-the-calculations-3"><span class="header-section-number">9.6.4.5</span> Implementation and Execution of the Calculations</h4>
<p>The five functions above were written as specified using an appropriate mathematics software package. The calculations were performed by calling the deliverables function. The optimum coolant flow rate was between 100 and 250 g min<sup>-1</sup>, so it was not necessary to repeat the calculations using a different range of coolant flow rates.</p>
</section>
<section id="results-and-discussion-3" class="level4" data-number="9.6.4.6">
<h4 data-number="9.6.4.6" class="anchored" data-anchor-id="results-and-discussion-3"><span class="header-section-number">9.6.4.6</span> Results and Discussion</h4>
<p>The net rate of production of Z is plotted as a function of the cooling water flow rate in <a href="#fig-example_9_6_4_net_rate_plot" class="quarto-xref">Figure&nbsp;<span>9.11</span></a>. The maximum net rate, 0.063 mol min<sup>-1</sup>, occurs at a coolant flow rate of 183 g min<sup>-1</sup>. The conversion and reacting fluid temperature profiles at that coolant flow rate are shown in <a href="#fig-example_9_6_4_conversion_profile" class="quarto-xref">Figure&nbsp;<span>9.12</span></a> and <a href="#fig-example_9_6_4_temperature_profile" class="quarto-xref">Figure&nbsp;<span>9.13</span></a>. Knowing the initial concentration of A and the Arrhenius parameters, the conversion and temperature profiles were used to calculate the instantaneous reaction rate profile shown in <a href="#fig-example_9_6_4_rate_profile" class="quarto-xref">Figure&nbsp;<span>9.14</span></a>. It shows that the rate is close to zero when the reactant is charged to the BSTR.</p>
<div id="fig-example_9_6_4_net_rate_plot" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_4_net_rate_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_4/net_rate_vs_coolant_flow.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_4_net_rate_plot-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.11: Net rate of production of Z as cooling water flow rate varies.
</figcaption>
</figure>
</div>
<div id="fig-example_9_6_4_conversion_profile" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_4_conversion_profile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_4/conversion_profile.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_4_conversion_profile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.12: Conversion profile during processing with the optimum coolant flow rate.
</figcaption>
</figure>
</div>
<div id="fig-example_9_6_4_temperature_profile" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_4_temperature_profile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_4/temperature_profile.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_4_temperature_profile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.13: Temperature profile during processing with the optimum coolant flow rate.
</figcaption>
</figure>
</div>
<div id="fig-example_9_6_4_rate_profile" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_9_6_4_rate_profile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Calculations/example_9_6_4/inst_rate_profile.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_9_6_4_rate_profile-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;9.14: Instantaneous reaction rate profile during processing with the optimum coolant flow rate.
</figcaption>
</figure>
</div>
<p>Four interesting features of Figures <a href="#fig-example_9_6_4_conversion_profile" class="quarto-xref"><span>9.12</span></a> through <a href="#fig-example_9_6_4_rate_profile" class="quarto-xref"><span>9.14</span></a> can be rationalized quatitatively. First, <a href="#fig-example_9_6_4_temperature_profile" class="quarto-xref">Figure&nbsp;<span>9.13</span></a> shows a kink at approximately 2.5 min. The temperature at that point is 50 °C, and that is the point where the heating stage ends and the cooling stage begins. Just prior to the kink, the temperature was rising rapidly and nearly linearly. That indicates that the temperature rise was primarily due to the heat from the coil. After the kink, the temperature continues to rise, but not as rapidly, because the rate has become large enough that heat is being released by reaction faster than it is being removed by the coolant. The kink in <a href="#fig-example_9_6_4_rate_profile" class="quarto-xref">Figure&nbsp;<span>9.14</span></a> occurs for the same reason.</p>
<p>The second interesting observation is that the instantaneous rate (<a href="#fig-example_9_6_4_rate_profile" class="quarto-xref">Figure&nbsp;<span>9.14</span></a>) reaches a maximum before the temperature (<a href="#fig-example_9_6_4_temperature_profile" class="quarto-xref">Figure&nbsp;<span>9.13</span></a>) does. The reason for the maximum in the instantaneous rate is similar to <a href="#sec-example_9_6_1" class="quarto-xref">Example&nbsp;<span>9.6.1</span></a>. Before the maximum rate is attained, two opposing factors are affecting the change in the reaction rate. The reactant concentrations are decreasing, which tends to decrease the rate, while the temperature is increasing, which tends to increase the rate. Before the maximum is reached, the temperature effect is greater than the concentration effect. When the two effects become equal, the maximum rate occurs.</p>
<p>In <a href="#sec-example_9_6_1" class="quarto-xref">Example&nbsp;<span>9.6.1</span></a> the temperature rose continually because the reactor was adiabatic, but here <a href="#fig-example_9_6_4_temperature_profile" class="quarto-xref">Figure&nbsp;<span>9.13</span></a> shows that the temperature does eventually reach a maximum and then decrease. This is due to heat removal by the cooling jacket. The third interesting feature of the graphs is that the temperature continues to rise for a short period of time after the rate has reached its maximum value. Even though the rate has begun to decrease due to depletion of the reactants, the reaction is still releasing heat faster than the cooling fluid can remove it. When the temperature maximum is reached, the release of heat by reaction has become equal to the removal of heat by the coolant. After the maximum, the coolant removes heat faster than it is generated, so that after ca. 100 min the temperature reaches 25 °C and processing ends.</p>
<p>The conversion at this point is over 99%, but the fourth interesting feature is that the conversion is well over 90% after approximately 30 min. Put differently approximately 90% conversion occurs in the first 30 minutes, but it only increases 9% in the final 70 minutes. This suggests that it might be possible to optimize the system further.</p>
<p>In this assignment, the net rate was maximized with respect to the coolant flow rate. The net rate will also be affected by the duration of the heating stage, or equivalently the temperature at which the coil is removed from the reacting fluid and the coolant flow starts. If the temperatures of the cooling water or the steam could be varied, they, too, would be expected to affect the net rate. In a more realistic optimization, it would not be the net rate that would be optimized. Instead, the rate of financial profit would be maximized. The rate of financial profit would depend on the net rate of the reaction, but it would also depend on the selling price of the product, the costs of the reactant, steam, and cooling water, and a number of other factors. That type of multidimensional optimization is beyond the scope of this book, but at its core, it is similar to the simple optimization illustrated in this assignment.</p>
</section>
</section>
</section>
<section id="symbols-used-in-sec-4_bstr_analysis" class="level2" data-number="9.7">
<h2 data-number="9.7" class="anchored" data-anchor-id="symbols-used-in-sec-4_bstr_analysis"><span class="header-section-number">9.7</span> Symbols Used in <a href="#sec-4_bstr_analysis" class="quarto-xref"><span>Chapter 9</span></a></h2>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Symbol</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(i\)</span></td>
<td style="text-align: left;">index denoting a reagent.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot{m}_{ex}\)</span></td>
<td style="text-align: left;">mass flow rate of the heat exchange fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(n_i\)</span></td>
<td style="text-align: left;">molar amount of reagent <span class="math inline">\(i\)</span>, an additional subscripted 0 denotes the initial molar amount.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(r_{i,net}\)</span></td>
<td style="text-align: left;">net rate of generation of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(r_j\)</span></td>
<td style="text-align: left;">rate of reaction <span class="math inline">\(j\)</span> per volume of reacting fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(t\)</span></td>
<td style="text-align: left;">time.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(t_{rxn}\)</span></td>
<td style="text-align: left;">length of time during which reaction occurs.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(t_{turn}\)</span></td>
<td style="text-align: left;">turnaround time.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(A\)</span></td>
<td style="text-align: left;">heat transfer area.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(C_i\)</span></td>
<td style="text-align: left;">concentration of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\hat{C}_{p,i}\)</span></td>
<td style="text-align: left;">molar, constant-pressure heat capacity of reagent <span class="math inline">\(i\)</span></td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\tilde{C}_{p,ex}\)</span></td>
<td style="text-align: left;">mass-specific, constant-pressure heat capacity of the heat exchange fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\breve{C}_p\)</span></td>
<td style="text-align: left;">volume-specific, constant-pressure heat capacity of the reacting fluid, additional subscripts denote fluids other than the reacting fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(M_{ex}\)</span></td>
<td style="text-align: left;">molecular weight of the heat exchange fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P\)</span></td>
<td style="text-align: left;">pressure of the reacting fluid, a subscripted <span class="math inline">\(i\)</span> denotes the partial pressure of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot{Q}\)</span></td>
<td style="text-align: left;">rate of heat transfer <em>to</em> the reacting fluid, additional subscripts distinguish between different sources of the heat.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(R\)</span></td>
<td style="text-align: left;">ideal gas constant.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: left;">temperature, no subscript denotes the reacting fluid, a subscripted <span class="math inline">\(ex\)</span> denotes the heat exchange fluid, an additional subscripted <span class="math inline">\(0\)</span> denotes an initial temperature, <span class="math inline">\(in\)</span> an inlet temperature and <span class="math inline">\(f\)</span> a final temperature.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(U\)</span></td>
<td style="text-align: left;">heat transfer coefficient.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(V\)</span></td>
<td style="text-align: left;">reacting fluid volume, a subscripted <span class="math inline">\(ex\)</span> denotes the heat exchange fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot{W}\)</span></td>
<td style="text-align: left;">rate at which the reacting fluid performs work on its surroundings.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\gamma\)</span></td>
<td style="text-align: left;">fraction of the heat exchange fluid that undergoes phase change.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\nu_{i,j}\)</span></td>
<td style="text-align: left;">stoichiometric coefficient of reagent <span class="math inline">\(i\)</span> in reaction <span class="math inline">\(j\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\rho\)</span></td>
<td style="text-align: left;">density, no subscript denotes the reacting fluid, a subscripted <span class="math inline">\(ex\)</span> denotes the heat exchange fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\Delta H_j\)</span></td>
<td style="text-align: left;">heat of reaction <span class="math inline">\(j\)</span>.</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./section_3_formulating_calcs.html" class="pagination-link" aria-label="Completing Reaction Engineering Tasks">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Completing Reaction Engineering Tasks</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./section_4_sbstr_analysis.html" class="pagination-link" aria-label="SBSTR Analysis">
        <span class="nav-page-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">SBSTR Analysis</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>