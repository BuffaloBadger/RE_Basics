<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>Appendix I — Solving Algebraic/Transcendental Equations – Reaction Engineering Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./apndx_solve_ivodes.html" rel="next">
<link href="./apndx_axial_dispersion_model.html" rel="prev">
<link href="./Graphics/BuffaloBadger_16_16.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-626149efe8f5d16e1d391ba177679bf0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="http://buffalobadger.github.io" class="navbar-brand navbar-brand-logo">
    <img src="./Graphics/Banner.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/RE_Basics"> 
<span class="menu-text">Reaction Engineering Basics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/SCoRE"> 
<span class="menu-text">SCoRE</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/ToTaL_Engineering"> 
<span class="menu-text">ToTaL Engineering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/The_Sett"> 
<span class="menu-text">The Sett</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./apndx_prereq_knowledge.html">Appendices</a></li><li class="breadcrumb-item"><a href="./apndx_solve_ates.html"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Solving Algebraic/Transcendental Equations</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_1_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Information</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_intro_and_defs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Reactions, Reactors, and Reaction Engineering</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_safety_and_ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reaction Engineering Ethics and Safety</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_reaction_progress.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Measures of Reaction Progress</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_2_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rate Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_rates_and_expressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reaction Rates and Rate Expressions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_mechanisms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reaction Mechanisms and Mechanistic Rate Expressions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_3_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Formulating Reactor Models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_design_equations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reactor Design Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_reactor_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Ideal Reactor Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_4_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Isolated Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_reaction_engineering_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Response, Optimization and Design of Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_bstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_sbstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">SBSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_non_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Design of Non-Continuous Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_cstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_pfr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">PFR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Design of Continuous Reactors</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_5_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Ideal Reactor Systems</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_reactor_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Reactor Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_thermally_backmixed_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Thermally Back-Mixed PFRs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_recycle_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Recycle PFRs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_6_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kinetics Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_data_generation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Generation and Analysis of Kinetics Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_bstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a BSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_cstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a CSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_pfr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a PFR</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_7_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Non-Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_age_function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">The Age Distribution Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_segregated_flow_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_axial_dispersion_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Steady-State Axial Dispersion Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_zoned_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Zoned Reactor Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_prereq_knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Prerequisite Knowledge</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_nomenclature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Acronyms, Notation, Sign Conventions, and Computing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_reaction_thermo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Reaction Thermodynamics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_collision_theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Collision Theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_transition_state_theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Transition State Theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_heat_exchange.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Reactor Heat Exchange</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_ideal_reactor_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Ideal Reactor Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_axial_dispersion_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">Axial Dispersion Reactor Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_ates.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Solving Algebraic/Transcendental Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_ivodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">J</span>&nbsp; <span class="chapter-title">Solving Initial-Value ODEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_cvodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">K</span>&nbsp; <span class="chapter-title">Solving Coupled-Value ODEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_estimate_parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">L</span>&nbsp; <span class="chapter-title">Parameter Estimation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_bvodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">M</span>&nbsp; <span class="chapter-title">Solving Boundary-Value ODEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_useful_eqns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">N</span>&nbsp; <span class="chapter-title">Frequently Used Equations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#identifying-ates-and-preparing-to-solve-them-numerically" id="toc-identifying-ates-and-preparing-to-solve-them-numerically" class="nav-link active" data-scroll-target="#identifying-ates-and-preparing-to-solve-them-numerically"><span class="header-section-number">I.1</span> Identifying ATEs and Preparing to Solve Them Numerically</a></li>
  <li><a href="#ate-solvers" id="toc-ate-solvers" class="nav-link" data-scroll-target="#ate-solvers"><span class="header-section-number">I.2</span> ATE Solvers</a>
  <ul class="collapse">
  <li><a href="#the-initial-guess-for-the-unknowns" id="toc-the-initial-guess-for-the-unknowns" class="nav-link" data-scroll-target="#the-initial-guess-for-the-unknowns"><span class="header-section-number">I.2.1</span> The Initial Guess for the Unknowns</a></li>
  <li><a href="#sec-apndx_residuals_fcn" id="toc-sec-apndx_residuals_fcn" class="nav-link" data-scroll-target="#sec-apndx_residuals_fcn"><span class="header-section-number">I.2.2</span> The Residuals Function</a></li>
  <li><a href="#sec-ate_solver_issues" id="toc-sec-ate_solver_issues" class="nav-link" data-scroll-target="#sec-ate_solver_issues"><span class="header-section-number">I.2.3</span> Convergence and Solver Issues</a></li>
  </ul></li>
  <li><a href="#sec-apndx_math_formulation_ates" id="toc-sec-apndx_math_formulation_ates" class="nav-link" data-scroll-target="#sec-apndx_math_formulation_ates"><span class="header-section-number">I.3</span> Mathematical Formulation of the Numerical Solution of a Set of ATEs</a></li>
  <li><a href="#example" id="toc-example" class="nav-link" data-scroll-target="#example"><span class="header-section-number">I.4</span> Example</a>
  <ul class="collapse">
  <li><a href="#sec-example_I_3_1" id="toc-sec-example_I_3_1" class="nav-link" data-scroll-target="#sec-example_I_3_1"><span class="header-section-number">I.4.1</span> Solution of a Set of ATEs</a></li>
  </ul></li>
  <li><a href="#sec-apndx_symbols_soln_of_ates" id="toc-sec-apndx_symbols_soln_of_ates" class="nav-link" data-scroll-target="#sec-apndx_symbols_soln_of_ates"><span class="header-section-number">I.5</span> Symbols Used in <span>Appendix I</span></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./apndx_prereq_knowledge.html">Appendices</a></li><li class="breadcrumb-item"><a href="./apndx_solve_ates.html"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Solving Algebraic/Transcendental Equations</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-apndx_solve_ates" class="quarto-section-identifier">Appendix I — Solving Algebraic/Transcendental Equations</span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>This appendix examines the numerical solution of sets of algebraic/transcendental equations (ATEs). There are numerous software packages that include an ATE solver (function that solves a set of ATEs numerically). While the details differ from one software package to another, the vast majority of ATE solvers require the same input, use it the same way, and return equivalent results. The information provided here should be sufficient to understand the examples presented in <em>Reaction Engineering Basics</em> and to solve sets of ATEs using software of one’s choosing. Readers seeking a more complete understanding should consult a numerical methods reference book or take a course on numerical methods.</p>
<section id="identifying-ates-and-preparing-to-solve-them-numerically" class="level2" data-number="I.1">
<h2 data-number="I.1" class="anchored" data-anchor-id="identifying-ates-and-preparing-to-solve-them-numerically"><span class="header-section-number">I.1</span> Identifying ATEs and Preparing to Solve Them Numerically</h2>
<p>In <em>Reaction Engineering Basics</em>, almost any equation that does not contain an ordinary derivative or a partial derivative is likely an ATE. Slightly more specifically, a set of ATEs is a group of 1 or more mathematical equations that may involve or contain math operations (addition, subtraction, multiplication, and division), quantities raised to powers, and transcendental functions. Exponential functions are the most common transcendental functions appearing in the ATEs found in <em>Reaction Engineering Basics</em>. They arise any time an equation includes a rate coefficient that displays Arrhenius temperature dependence, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>.</p>
<p>The quantities that may appear in a set of <span class="math inline">\(N\)</span> ATEs can be classified as (a) known constants, (b) the ATE unknowns, and (c) other unknowns. If there are <span class="math inline">\(N\)</span> ATEs in the set, then there must be <span class="math inline">\(N\)</span> ATE unknowns. The ATE unknowns are the quantities that are found by solving the ATEs. In reaction engineering analyses, it often happens that unknowns other than the ATE unknowns also appear in a set of ATEs. Before the set of ATEs can be solved numerically, the values of these other unknowns must be calculated or provided as will be described subsequently.</p>
<p>In preparation for numerically solving a set of ATEs, an ATE residual must be defined for each equation in the set. This is done by first rearranging the ATE so that there is a zero on one side of the equation. The non-zero side of the equation may contain fractions with ATE unknowns in their denominator. This can cause problems during numerical solution. Therefore, the entire equation next should be multiplied by each denominator. Multiplying the zero on one side of the equations by a denominaor still leaves a zero, but multiplying the non-zero side by the denominator results in the denominator canceling out. When all denomnators containing ATE unknowns that can be removed, have been removed, the ATE residual is equal to the non-zero side of the equation.</p>
<p>In general each residual can be a function of all of the ATE unknowns. A set of ATE unknowns that solves the ATEs will cause all of the residuals to evaluate to zero. It should be noted that the ATEs may have multiple solutions.</p>
</section>
<section id="ate-solvers" class="level2" data-number="I.2">
<h2 data-number="I.2" class="anchored" data-anchor-id="ate-solvers"><span class="header-section-number">I.2</span> ATE Solvers</h2>
<p>An ATE solver is a computer function that solves a set of ATEs numerically. Typically, an ATE solver must be provided with two inputs. The first is an initial guess for the ATE unknowns. The second is a residuals function. The residuals function receives a guess for the ATE unknowns and uses them to evaluate and return the corresponding values of the ATE residuals.</p>
<p>Effectively, the ATE solver uses the initial guess and residuals function to find a solution by trial and error.</p>
<ul>
<li>It tests the initial guess by calling the residuals function and determining whether all of the ATE residuals equal zero.</li>
<li>If the initial guess does not solve the ATEs, the ATE solver generates an improved guess and tests that.
<ul>
<li>The improved guess will not be an exact solution (unless the ATEs are linear equations), but usually it will be closer to the solution than the previous guess.</li>
</ul></li>
<li>The ATE solver keeps generating improved guesses and testing them until no further improvement is possible.</li>
<li>It then returns the final, most-improved guess as a solution of the ATEs.</li>
</ul>
<section id="the-initial-guess-for-the-unknowns" class="level3" data-number="I.2.1">
<h3 data-number="I.2.1" class="anchored" data-anchor-id="the-initial-guess-for-the-unknowns"><span class="header-section-number">I.2.1</span> The Initial Guess for the Unknowns</h3>
<p>When an ATE solver is first called, it must be provided with an initial guess for the ATE unknowns. Providing an acceptable guess is not usually difficult. In reaction engineering analyses, the ATE unknowns have a physical meaning. That, together with a qualitative understanding of how the equipment being modeled functions, provides guidance for making an initial guess.</p>
<p>As an example, the reactor design equations for a steady-state CSTR are a set of ATEs. Most often the ATE unknowns include the outlet molar flow rates of the reagents, the outlet temperature of the reacting fluid, and sometimes, the outlet temperature of a heat exchange fluid. Knowing that the reaction will cause the amounts of reactants to decrease, one strategy is to guess that the outlet molar flow rate of each reactant is slightly smaller than its inlet molar flow rate. In many cases, the guess for the outlet molar flow rates of products can simply be guessed to equal zero. If the reaction taking place is exothermic the temperature will likely rise, so a temperature a few degrees above the inlet temperature can be guessed. If the reaction is endothermic, the guess would be a few degrees below the inlet temperature. Similarly, if the external fluid is heating the reactor, an outlet temperature a few degrees below the exchange fluid inlet temperature can be used (and vice versa if the external fluid is cooling the reactor). Because of the exponential temperature dependence in the Arrhenius expression, the residuals are often more sensitive to the temperature guesses.</p>
</section>
<section id="sec-apndx_residuals_fcn" class="level3" data-number="I.2.2">
<h3 data-number="I.2.2" class="anchored" data-anchor-id="sec-apndx_residuals_fcn"><span class="header-section-number">I.2.2</span> The Residuals Function</h3>
<p>The purpose of the residuals function is to evaluate the residuals, given a guess for the ATE unknowns. The engineer solving the ATEs must write the residuals function, but because it will be called by the ATE solver, the arguments to it, the values it returns and their formats are all specified by the ATE solver (or the mathematics software package that provides the solver). While the arguments to the response function always include an initial guess for the ATE unknowns and the return value always include the corresponding values of the ATE residuals, the mathematics software package specifies the details (e. g. are the guesses for the ATE unknowns passed as individual arguments or are they combined into a vector, etc.). The engineer calling the ATE solver must write the residuals function so it conforms to those specifications.</p>
<p>The calculations performed within the residuals function are straightforward. Recall that the residuals expressions can contain known constants, the ATE unknowns, and other unknowns. Values for the ATE unknowns are passed to the residuals function, and known constants are available. Therefore the only thing that the residuals function needs to do before it can evaluate the residuals is to calculate the other unknowns. Very often the other unknowns can be calculated using the information available within the residuals function. However if it is not possible to calculate the other unknows within the residuals function, they must be provided to it.</p>
<p>Providing unknown constants to the residuals function forces a computer programming choice that won’t be discussed here. Because the other unknowns cannot be passed to the residuals function as arguments, they need to be provided to the residuals function by other means. The documentation for the mathematics software package may suggest a preferred way to do this such as by using a global variable or by using a pass-through function. Once the other constants are calculated or made available, all that remains to be done within the residuals function is to evaluate the ATE residuals and return them.</p>
</section>
<section id="sec-ate_solver_issues" class="level3" data-number="I.2.3">
<h3 data-number="I.2.3" class="anchored" data-anchor-id="sec-ate_solver_issues"><span class="header-section-number">I.2.3</span> Convergence and Solver Issues</h3>
<p>The numerical solution of a set of ATEs is an iterative process as described at the start of this section. Ideally, the ATE residuals should get closer and closer to zero with each iteration. This is called convergence to a solution. Typically, the solution returned by the solver will not be exact, but it will be “very close” to the exact solution. Put differently, when a converged solution is found, the difference between the solution returned by the solver and the exact solution is negligible.</p>
<p>Sometimes the solver is unable to converge to the point where the residuals are “very close” to zero. In this situation, the solver eventually has to quit without finding a converged solution. Typically it will print an error message or return a flag variable, and that variable will indicate whether or not a converged solution was obtained.</p>
<p>When the ATE solver is not able to converge to a solution, it is often because the guess provided to the solver wasn’t close enough to a solution. The remedy then, is to make a different initial guess and try again to solve the ATEs. Examining the ATE residuals can sometimes help in making a new initial guess. For example, if all of the residuals are large negative numbers, that may suggest how to change the initial guess so that the ATE residuals become less negative (or even slightly positive) and closer to zero.</p>
<p>A singularity in one or more of the residuals could also prevent the ATE solver from converging. One type of singularity can arise if one or more residual function has a denominator that contains an ATE unknown. As the solver iterates, it may generate an improved guess that causes the denominator to approach zero. Of course this then causes the residual to approach infinity. So, if denominators that contain ATE unknowns were not removed when the residuals were originally defined, the residuals should be manipulated to remove terms that can cause a singularity before trying again to solve the equations.</p>
<p>Finally, as already noted, sets of ATEs can have more than one solution. For example, a quadratic polynomial has two solutions. If a set of ATEs has multiple solutions, most ATE solvers will only find one of them. To find other solutions, the solver should be re-started using a different initial guess.</p>
</section>
</section>
<section id="sec-apndx_math_formulation_ates" class="level2" data-number="I.3">
<h2 data-number="I.3" class="anchored" data-anchor-id="sec-apndx_math_formulation_ates"><span class="header-section-number">I.3</span> Mathematical Formulation of the Numerical Solution of a Set of ATEs</h2>
<p>Once the ATEs and the ATE unknowns have been identified, the numerical solution can be formulated. The solver requires an initial guess for the solution and a residuals function, so the formulation will begin with those two things. Guessing the solution has already been discussed. The formulation should include equations that can be used to calculate the initial guess. Typically these equations will be assignment statements or very simple calculations.</p>
<p>The formulation should also include the specification of an ATE residuals function. The ATE residuals function specification should list the arguments to be passed to it (values of the ATE unknowns), the quantities it will return (the corresponding ATE residuals), and any other unknowns that must be provided to it. It should also include the algorithm, i. e. the sequence of calculations needed to evaluate the residuals, assuming the given and known constants, arguments, and additional required input are available.</p>
<p>The remainder of the formulation entails specifying a function for solving the ATEs. Very often this is a reactor function. The specification should include arguments passed to the function, values returned by it, and the algorithm for calculating the return values. The engineer can choose whatever arguments are needed for this function, so it won’t be necessary to make other unknowns available to it. Typically this function will return a set of values of the ATE unknowns that solve the ATEs. As noted, there might be other sets of ATE unknowns that also solve the ATEs.</p>
<p>The algorithm begins with the calculation of an initial guess for the values of the ATE unknowns. If quantities that can’t be passed as arguments need be provided to the residuals function, making those quantities available to the residuals function should be the next step in the algorithm. Once that has been accomplished, all that remains is to call the solver. The arguments passed to it will be the name of the ATE residuals function and the guess for the ATE unknowns. The values that will be returned by the solver should be identified. Typically they are then returned by the reactor function. While not necessarily part of the mathematical formulation, the actual computer code should next check that the solver did converge and print some kind of warning if it did not.</p>
</section>
<section id="example" class="level2" data-number="I.4">
<h2 data-number="I.4" class="anchored" data-anchor-id="example"><span class="header-section-number">I.4</span> Example</h2>
<p>The following example describes the mathematical formulation of a set of ATEs in considerable detail. Elsewhere in <em>Reaction Engineering Basics</em> the formulation of the solution of a set of ATEs will be more succinct. A condensed version of the discussion presented here will be made available in the form of callouts that say “Click Here to See What an Expert Might be Thinking at this Point”. Clicking on that text will expand the callout making the discussion visible.</p>
<section id="sec-example_I_3_1" class="level3" data-number="I.4.1">
<h3 data-number="I.4.1" class="anchored" data-anchor-id="sec-example_I_3_1"><span class="header-section-number">I.4.1</span> Solution of a Set of ATEs</h3>
<p>A reaction engineer is simulating an ideal, steady-state CSTR. The reactor design equations have been simplified as shown in equations (1) through (5). In those equations, the rate, <span class="math inline">\(r\)</span>, is given by equation (6), wherein <span class="math inline">\(k\)</span>, <span class="math inline">\(C_A\)</span>, and <span class="math inline">\(C_B\)</span> can be calculated using equations (7) through (9). <span class="math inline">\(\dot{V}\)</span>, <span class="math inline">\(C_{A,0}\)</span>, <span class="math inline">\(V\)</span>, <span class="math inline">\(C_{B,0}\)</span>, <span class="math inline">\(\rho\)</span>, <span class="math inline">\(\tilde{C}_p\)</span>, <span class="math inline">\(T_0\)</span>, <span class="math inline">\(\Delta H\)</span>, <span class="math inline">\(k_0\)</span>, and <span class="math inline">\(E\)</span> are known constants. Formulate a CSTR model to solve the design equations for <span class="math inline">\(\dot{n}_{A,1}\)</span>, <span class="math inline">\(\dot{n}_{B,1}\)</span>, <span class="math inline">\(\dot{n}_{Y,1}\)</span>, <span class="math inline">\(\dot{n}_{Z,1}\)</span>, and <span class="math inline">\(T_1\)</span>.</p>
<p><span class="math display">\[
0 = \dot{V}C_{A,0} - \dot{n}_{A,1} - rV \tag{1}
\]</span></p>
<p><span class="math display">\[
0 = \dot{V}C_{B,0} - \dot{n}_{B,1} - rV \tag{2}
\]</span></p>
<p><span class="math display">\[
0 = - \dot{n}_{Y,1} + rV \tag{3}
\]</span></p>
<p><span class="math display">\[
0 = - \dot{n}_{Z,1} + rV \tag{4}
\]</span></p>
<p><span class="math display">\[
0 = \rho\dot{V}\tilde{C}_p\left(T_1 - T_0\right) + rV\Delta H \tag{5}
\]</span></p>
<p><span class="math display">\[
r = kC_AC_B \tag{6}
\]</span></p>
<p><span class="math display">\[
k = k_0 \exp{\left(\frac{-E}{RT_1}\right)} \tag{7}
\]</span></p>
<p><span class="math display">\[
C_A = \left(\frac{\dot{n}_{A,1}}{\dot{V}}\right) \tag{8}
\]</span></p>
<p><span class="math display">\[
C_B = \left(\frac{\dot{n}_{B,1}}{\dot{V}}\right) \tag{9}
\]</span></p>
<p><strong>Known Constants in Consistent Units:</strong> <span class="math inline">\(\dot{V}\)</span> = 75, <span class="math inline">\(C_{A,0}\)</span> = 1.0, <span class="math inline">\(V\)</span> = 50, <span class="math inline">\(C_{B,0}\)</span> = 1.2, <span class="math inline">\(\rho\)</span> = 1.0 x 10<sup>3</sup>, <span class="math inline">\(\tilde{C}_p\)</span> = 1.0, <span class="math inline">\(T_0\)</span> = 303, <span class="math inline">\(\Delta H\)</span> = -10,700, <span class="math inline">\(k_0\)</span> = 8.72 x 10<sup>5</sup>, <span class="math inline">\(E\)</span> = 7,200, <span class="math inline">\(\Delta H\)</span>, and <span class="math inline">\(R\)</span> = 1.987.</p>
<hr>
<p>The reactor design equations have already been formulated, so the next thing that needs to be done is to identify what type of equations they are. Equations (1) through (5) do not contain ordinary or partial derivatives. They only contain simple mathematical operations. The rate, <span class="math inline">\(r\)</span>, appearing in the equations contains a rate coefficient which includes a transcendental function, specifically an expoenential function, but not none of the equations contain derivatives. This identifies the design equations as ATEs.</p>
<p>When the design equations are a set of ATEs, the reactor model will have four components: the design equations, a guess for the solution, a residuals function, and a reactor function. Hence, the formulation of the CSTR model begins with a listing of the reactor design equations. They should be written in the form of residual expressions.</p>
<p>In this assignment it wasn’t necessary to generate the design equations, they were presented in the assignment narrative, and they had already been written with a zero on one side of the equals sign. There are no fractions that contain ATE unknowns in their denominators, so no additional algebraic manipulation is required to put them in the form of residual expressions. The non-zero side of each equation simply can be used to define a residual for that equation.</p>
<p><span class="math display">\[
0 = \epsilon_1 = \dot{V}C_{A,0} - \dot{n}_{A,1} - rV \tag{1}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_2 = \dot{V}C_{B,0} - \dot{n}_{B,1} - rV \tag{2}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_3 = - \dot{n}_{Y,1} + rV \tag{3}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_4 = - \dot{n}_{Z,1} + rV \tag{4}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_5 = \rho\dot{V}\tilde{C}_p\left(T_1 - T_0\right) + rV\Delta H \tag{5}
\]</span></p>
<p>Often times the number of unknowns in the ATEs is greater than the number of ATEs, and the reaction engineer must decide which of the unknowns will be found by solving the ATEs. The present assignment narrative has already done that, indicating that the ATE unknowns should be <span class="math inline">\(\dot{n}_{A,1}\)</span>, <span class="math inline">\(\dot{n}_{B,1}\)</span>, <span class="math inline">\(\dot{n}_{Y,1}\)</span>, <span class="math inline">\(\dot{n}_{Z,1}\)</span>, and <span class="math inline">\(T_1\)</span>.</p>
<p>The reactor design equations will be solved numerically using an ATE solver. The solver must be provided with a guess for the solution and a residuals function. Thus, the second component of this CSTR model will be guesses for the ATE unknowns. Generating an initial guess for the solution is not difficult.</p>
<p>The design equations presented in this assignment were taken out of context and without describing the notation being used. The reaction engineer that formulated them used a subscripted “0” on a molar flow rate or temperature denotes the reactor inlet and a “1” denotes the reactor outlet. So the ATE unknowns are all reactor outlet quantities. The engineer would have determined that the inlet molar flow rates of A and B equal <span class="math inline">\(\dot{V}C_{A,0}\)</span> and <span class="math inline">\(\dot{V}C_{B,0}\)</span>, respectively, the inlet molar flow rates of Y and Z are zero, and the inlet temperature is <span class="math inline">\(T_0\)</span>. Using the guessing strategy described in this appendix, the engineer might guess that 90% of the A and B remain at the reactor outlet, equations (10) and (11), that there isn’t any Y or Z at the outlet, equations (12) and (13), and (because the reaction is exothermic) that the outlet temperature is 5 K greater than the inlet, equation (14).</p>
<p><span class="math display">\[
\dot{n}_{A,1,guess} = 0.9\dot{V}C_{A,0} \tag{10}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,1,guess} = 0.9\dot{V}C_{B,0} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Y,1,guess} = 0.0 \tag{12}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,1,guess} = 0.0 \tag{13}
\]</span></p>
<p><span class="math display">\[
T_{1,guess} = T_0 + 5.0 \tag{14}
\]</span></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>The critical aspect of the guesses is that they must be “good enough” for the solver to converge to the solution. One strategy is to guess that not much reaction occurs in the reactor, as the engineer did here. A different reaction engineer might have used different guesses. It is worth mentioning that the guesses do not need to be stoichiometrically consistent. That is the case here. If 10% of the A reacted, then there would be some Y and Z at the outlet, but the guess here was no Y or Z at the outlet. If the solver converges, the solution it finds will be stoichiometrically consistent, but if the solver does not converge, the guess will need to be improved.</p>
</div>
</div>
</div>
<p>As noted above, if the design equations are going to be solved using an ATE solver, the solver must also be provided with a residuals function. Thus, the third component of the CSTR model is a specification of the residuals function. The purpose of the residuals function is to take a set of ATE unknowns and use them to evaluate the design equation residuals. In <em>Reaction Engineering Basics,</em> it is always assumed that all of the constants provided in the assignment narrative are available to all functions, including the residuals function.</p>
<p>The residuals function specification should indicate the arguments passed to it, the quantities it returns, any additional quantities that must be made available to it, and the sequence of calculations it must perform to calculate the return values (i. e. the design equation residuals).</p>
<p>The arguments to the residuals function are always a set of values for the ATE unknowns, and the return values are always the corresponding set of design equation residuals. If any additional inputs are needed, other than the constants given in the assignment narrative, the residuals function specification should indicate that those additional inputs need to be made available to it since they can’t be provided as arguments.</p>
<p>In the present assignment, the residuals expressions contain the reaction rate which is neither a given constant nor one of the arguments to the residuals function. The reaction rate can be calculated from those quantities, however. Specifically, the rate coefficient and concentrations of A and B can be calculated using equations (7) through (9), after which the rate can be calculated using equation (6). After that is done, the residuals can be evaluated, so no other quantities need to be made available to the residuals function.</p>
<p>Indeed, for the present assignment, the residuals function specification should conclude by listing that sequence of equations for calculating the design equation residuals. In <em>Reaction Engineering Basics,</em> a sequence of equations used sequentially to perform calculations is referred to as an algorithm. The residuals function algorithm is included in the CSTR model formulation below.</p>
<p>That completes the first three components of the reactor model: the design equations, the initial guess and specification of the residuals function. The final model component is a reactor function. It is the reactor function that actually calls the ATE solver. The specification of the reactor function is similar to the specification of the residuals function, except there won’t ever be a need to provide values by means other than as arguments.</p>
<p>The engineer must write the CSTR function, and when doing so, the engineer can decide what arguments it should accept. If everything needed for solving the design equations has been provided as a given constant in the problem narrative, the reactor function does not need to accept any arguments. The purpose of the CSTR function is to calculate the ATE unknowns, so those are the quantities it should return.</p>
<p>The algorithm is straightforward. To start, the guess is calculated. If any quantities needed to be made available to the residuals function, that would be taken care of next. In this assignment nothing needs to be made available to the residuals function. The ATE solver can then be called to get a set of ATE unknowns that solve the design equations, and those results can be returned by the CSTR function.</p>
<p>A succinct formulation of the CSTR model follows. It assumes that the given and known constants identified in the assignment summary are available at any point in the analysis.</p>
<center>
<strong><em>CSTR Model</em></strong>
</center>
<p><strong>Design Equations</strong></p>
<p><span class="math display">\[
0 = \epsilon_1 = \dot{V}C_{A,0} - \dot{n}_{A,1} - rV \tag{1}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_2 = \dot{V}C_{B,0} - \dot{n}_{B,1} - rV \tag{2}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_3 = - \dot{n}_{Y,1} + rV \tag{3}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_4 = - \dot{n}_{Z,1} + rV \tag{4}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon_5 = \rho\dot{V}\tilde{C}_p\left(T_1 - T_0\right) + rV\Delta H \tag{5}
\]</span></p>
<p><strong>Initial Guess for <span class="math inline">\(\dot{n}_{A,1}\)</span>, <span class="math inline">\(\dot{n}_{B,1}\)</span>, <span class="math inline">\(\dot{n}_{Y,1}\)</span>, <span class="math inline">\(\dot{n}_{Z,1}\)</span>, and ,<span class="math inline">\(T_1\)</span>:</strong></p>
<p><span class="math display">\[
\dot{n}_{A,1,guess} = 0.9 \dot{V}C_{A,0} \tag{10}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,1,guess} = 0.9 \dot{V}C_{B,0} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{T,1,guess} = 0.0 \tag{12}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,1,guess} = 0.0 \tag{13}
\]</span></p>
<p><span class="math display">\[
T_{1,guess} = T_0 + 5.0 \tag{14}
\]</span></p>
<p><strong>Residuals Function:</strong></p>
<p><u>Arguments:</u> <span class="math inline">\(\dot{n}_{A,1}\)</span>, <span class="math inline">\(\dot{n}_{B,1}\)</span>, <span class="math inline">\(\dot{n}_{Y,1}\)</span>, <span class="math inline">\(\dot{n}_{Z,1}\)</span>, and ,<span class="math inline">\(T_1\)</span>.</p>
<p><u>Returns:</u> <span class="math inline">\(\epsilon_1\)</span>, <span class="math inline">\(\epsilon_2\)</span>, <span class="math inline">\(\epsilon_3\)</span>, <span class="math inline">\(\epsilon_4\)</span>, and <span class="math inline">\(\epsilon_5\)</span></p>
<p><u>Algorithm:</u></p>
<p><span class="math display">\[
k = k_0 \exp{\left(\frac{-E}{RT_1}\right)} \tag{7}
\]</span></p>
<p><span class="math display">\[
C_A = \left(\frac{\dot{n}_{A,1}}{\dot{V}}\right) \tag{8}
\]</span></p>
<p><span class="math display">\[
C_B = \left(\frac{\dot{n}_{B,1}}{\dot{V}}\right) \tag{9}
\]</span></p>
<p><span class="math display">\[
r = kC_AC_B \tag{6}
\]</span></p>
<p><span class="math display">\[
\epsilon_1 = \dot{V}C_{A,0} - \dot{n}_{A,1} - rV \tag{1}
\]</span></p>
<p><span class="math display">\[
\epsilon_2 = \dot{V}C_{B,0} - \dot{n}_{B,1} - rV \tag{2}
\]</span></p>
<p><span class="math display">\[
\epsilon_3 = - \dot{n}_{Y,1} + rV \tag{3}
\]</span></p>
<p><span class="math display">\[
\epsilon_4 = - \dot{n}_{Z,1} + rV \tag{4}
\]</span></p>
<p><span class="math display">\[
\epsilon_5 = \rho\dot{V}\tilde{C}_p\left(T_1 - T_0\right) + rV\Delta H \tag{5}
\]</span></p>
<p><strong>CSTR Function:</strong></p>
<p><u>Arguments:</u> none.</p>
<p><u>Returns:</u> <span class="math inline">\(\dot{n}_{A,1}\)</span>, <span class="math inline">\(\dot{n}_{B,1}\)</span>, <span class="math inline">\(\dot{n}_{Y,1}\)</span>, <span class="math inline">\(\dot{n}_{Z,1}\)</span>, and ,<span class="math inline">\(T_1\)</span>.</p>
<p><u>Algorithm:</u></p>
<p><span class="math display">\[
\dot{n}_{A,1,guess} = \dot{V}C_{A,0} \tag{10}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,1,guess} = \dot{V}C_{B,0} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{T,1,guess} = 0.0 \tag{12}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,1,guess} = 0.0 \tag{13}
\]</span></p>
<p><span class="math display">\[
T_{1,guess} = T_0 + 5.0 \tag{14}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
\begin{matrix}
\dot{n}_{A,1,guess}, \dot{n}_{B,1,guess}, \dot{n}_{Y,1,guess}, \dot{n}_{Z,1,guess}, T_{1,guess}, \text{Residuals Function} \\
\Downarrow \\
\text{ATE Solver} \\
\Downarrow \\
\dot{n}_{A,1}, \dot{n}_{B,1}, \dot{n}_{Y,1}, \dot{n}_{Z,1}, T_1
\end{matrix} \tag{15}
\]</span></p>
<section id="results-analysis-and-discussion" class="level4" data-number="I.4.1.1">
<h4 data-number="I.4.1.1" class="anchored" data-anchor-id="results-analysis-and-discussion"><span class="header-section-number">I.4.1.1</span> Results, Analysis and Discussion</h4>
<p>A computer code was written to implement the CSTR model as formulated above, Specifically the residuals function and the CSTR function were created using a mathematics software package that included an ATE solver. The residuals function arguments and their formatting were implemented according to the specifications of that software package, as were the values it returns.</p>
<p>Additional code was written to call the CSTR function, display the results, and save the results to a file. The results were as follows: <span class="math inline">\(\dot{n}_{A,1}\)</span> = 21.8, <span class="math inline">\(\dot{n}_{B,1}\)</span> = 36.8, <span class="math inline">\(\dot{n}_{Y,1}\)</span> = 53.2, <span class="math inline">\(\dot{n}_{Z,1}\)</span> = 53.2, and <span class="math inline">\(T_1\)</span> = 310.6. Knowing that there might be other solutions, the code was re-run using different guesses, but it always converged to this solution. That doesn’t mean additional solutions don’t exist, but if these results make sense physically, the engineer could have some confidence in accepting them.</p>
</section>
</section>
</section>
<section id="sec-apndx_symbols_soln_of_ates" class="level2" data-number="I.5">
<h2 data-number="I.5" class="anchored" data-anchor-id="sec-apndx_symbols_soln_of_ates"><span class="header-section-number">I.5</span> Symbols Used in <a href="#sec-apndx_solve_ates" class="quarto-xref"><span>Appendix I</span></a></h2>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Symbol</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(k\)</span></td>
<td style="text-align: left;">Rate coefficient.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(k_0\)</span></td>
<td style="text-align: left;">Arrhenius pre-exponential factor.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot n_i\)</span></td>
<td style="text-align: left;">Molar flow rate of reagent <span class="math inline">\(i\)</span>; an additional subscripted <span class="math inline">\(0\)</span> denotes the inlet molar flow rate or a subscripted <span class="math inline">\(1\)</span>, the outlet molar flow rate.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(r\)</span></td>
<td style="text-align: left;">Rate of reaction.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(C_i\)</span></td>
<td style="text-align: left;">Molar concentration of reagent <span class="math inline">\(i\)</span>, an additional subscripted 0 denotes the reactor inlet and 1 denotes the outlet.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\tilde{C}_p\)</span></td>
<td style="text-align: left;">Gravimetric heat capacity.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(E\)</span></td>
<td style="text-align: left;">Activation energy.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(N\)</span></td>
<td style="text-align: left;">Number of ATEs being solved and number of ATE unknowns being found.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: left;">Temperature, a subscripted 0 denotes the reactor inlet and 1 denotes the outlet.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(V\)</span></td>
<td style="text-align: left;">Volume of reacting fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot{V}\)</span></td>
<td style="text-align: left;">Volumetric flow rate.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\epsilon_i\)</span></td>
<td style="text-align: left;">Residual for the <span class="math inline">\(i^{th}\)</span> ATE.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\rho\)</span></td>
<td style="text-align: left;">Density.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\Delta H\)</span></td>
<td style="text-align: left;">Heat of reaction.</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./apndx_axial_dispersion_model.html" class="pagination-link" aria-label="Axial Dispersion Reactor Models">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">Axial Dispersion Reactor Models</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./apndx_solve_ivodes.html" class="pagination-link" aria-label="Solving Initial-Value ODEs">
        <span class="nav-page-text"><span class="chapter-number">J</span>&nbsp; <span class="chapter-title">Solving Initial-Value ODEs</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>