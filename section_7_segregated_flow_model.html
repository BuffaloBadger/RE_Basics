<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>23&nbsp; A Segregated Flow Reactor Model – Reaction Engineering Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./section_7_axial_dispersion_model.html" rel="next">
<link href="./section_7_age_function.html" rel="prev">
<link href="./Graphics/BuffaloBadger_16_16.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-626149efe8f5d16e1d391ba177679bf0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="http://buffalobadger.github.io" class="navbar-brand navbar-brand-logo">
    <img src="./Graphics/Banner.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/RE_Basics"> 
<span class="menu-text">Reaction Engineering Basics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/SCoRE"> 
<span class="menu-text">SCoRE</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/ToTaL_Engineering"> 
<span class="menu-text">ToTaL Engineering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/The_Sett"> 
<span class="menu-text">The Sett</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section_7_intro.html">Modeling Non-Ideal Reactors</a></li><li class="breadcrumb-item"><a href="./section_7_segregated_flow_model.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_1_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Basic Information</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_intro_and_defs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Reactions, Reactors, and Reaction Engineering</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_safety_and_ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reaction Engineering Ethics and Safety</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_reaction_progress.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Measures of Reaction Progress</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_2_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Rate Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_rates_and_expressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reaction Rates and Rate Expressions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_mechanisms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reaction Mechanisms and Mechanistic Rate Expressions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_3_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Formulating Reactor Models</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_design_equations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reactor Design Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_reactor_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Ideal Reactor Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_4_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Isolated Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_reaction_engineering_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Response, Optimization and Design of Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_bstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_sbstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">SBSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_non_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Design of Non-Continuous Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_cstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_pfr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">PFR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Design of Continuous Reactors</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_5_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Ideal Reactor Systems</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_reactor_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Reactor Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_thermally_backmixed_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Thermally Back-Mixed PFRs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_recycle_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Recycle PFRs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_6_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Kinetics Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_data_generation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Generation and Analysis of Kinetics Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_bstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a BSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_cstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a CSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_pfr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a PFR</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="./section_7_intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Modeling Non-Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_age_function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">The Age Distribution Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_segregated_flow_model.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_axial_dispersion_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Steady-State Axial Dispersion Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_zoned_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Zoned Reactor Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_prereq_knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Prerequisite Knowledge</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_nomenclature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Acronyms, Notation, Sign Conventions, and Computing</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_reaction_thermo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Reaction Thermodynamics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_collision_theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Collision Theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_transition_state_theory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Transition State Theory</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_heat_exchange.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Reactor Heat Exchange</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_ideal_reactor_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Ideal Reactor Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_axial_dispersion_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">H</span>&nbsp; <span class="chapter-title">Axial Dispersion Reactor Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_ates.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">I</span>&nbsp; <span class="chapter-title">Solving Algebraic/Transcendental Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_ivodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">J</span>&nbsp; <span class="chapter-title">Solving Initial-Value ODEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_cvodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">K</span>&nbsp; <span class="chapter-title">Solving Coupled-Value ODEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_estimate_parameters.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">L</span>&nbsp; <span class="chapter-title">Parameter Estimation</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_solve_bvodes.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">M</span>&nbsp; <span class="chapter-title">Solving Boundary-Value ODEs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_useful_eqns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">N</span>&nbsp; <span class="chapter-title">Frequently Used Equations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#sfr-model-assumptions" id="toc-sfr-model-assumptions" class="nav-link active" data-scroll-target="#sfr-model-assumptions"><span class="header-section-number">23.1</span> SFR Model Assumptions</a></li>
  <li><a href="#fluid-elements-as-bstrs" id="toc-fluid-elements-as-bstrs" class="nav-link" data-scroll-target="#fluid-elements-as-bstrs"><span class="header-section-number">23.2</span> Fluid Elements as BSTRs</a></li>
  <li><a href="#the-segregated-flow-reactor-model" id="toc-the-segregated-flow-reactor-model" class="nav-link" data-scroll-target="#the-segregated-flow-reactor-model"><span class="header-section-number">23.3</span> The Segregated Flow Reactor Model</a></li>
  <li><a href="#tabular-age-distribution-functions-and-numerical-integration" id="toc-tabular-age-distribution-functions-and-numerical-integration" class="nav-link" data-scroll-target="#tabular-age-distribution-functions-and-numerical-integration"><span class="header-section-number">23.4</span> Tabular Age Distribution Functions and Numerical Integration</a>
  <ul class="collapse">
  <li><a href="#the-tabular-form-of-the-cumulative-age-distribution-function" id="toc-the-tabular-form-of-the-cumulative-age-distribution-function" class="nav-link" data-scroll-target="#the-tabular-form-of-the-cumulative-age-distribution-function"><span class="header-section-number">23.4.1</span> The Tabular Form of the Cumulative Age Distribution Function</a></li>
  <li><a href="#the-tabular-form-of-the-differential-age-distribution-function" id="toc-the-tabular-form-of-the-differential-age-distribution-function" class="nav-link" data-scroll-target="#the-tabular-form-of-the-differential-age-distribution-function"><span class="header-section-number">23.4.2</span> The Tabular Form of the Differential Age Distribution Function</a></li>
  <li><a href="#numerical-integration" id="toc-numerical-integration" class="nav-link" data-scroll-target="#numerical-integration"><span class="header-section-number">23.4.3</span> Numerical Integration</a></li>
  </ul></li>
  <li><a href="#numerical-implementation-of-the-sfr-model" id="toc-numerical-implementation-of-the-sfr-model" class="nav-link" data-scroll-target="#numerical-implementation-of-the-sfr-model"><span class="header-section-number">23.5</span> Numerical Implementation of the SFR Model</a>
  <ul class="collapse">
  <li><a href="#the-fluid-element-model" id="toc-the-fluid-element-model" class="nav-link" data-scroll-target="#the-fluid-element-model"><span class="header-section-number">23.5.1</span> The Fluid Element Model</a></li>
  <li><a href="#the-sfr-model" id="toc-the-sfr-model" class="nav-link" data-scroll-target="#the-sfr-model"><span class="header-section-number">23.5.2</span> The SFR Model</a></li>
  </ul></li>
  <li><a href="#advantages-and-disadvantages-of-sfr-models" id="toc-advantages-and-disadvantages-of-sfr-models" class="nav-link" data-scroll-target="#advantages-and-disadvantages-of-sfr-models"><span class="header-section-number">23.6</span> Advantages and Disadvantages of SFR Models</a></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">23.7</span> Examples</a>
  <ul class="collapse">
  <li><a href="#sec-example_23_7_1" id="toc-sec-example_23_7_1" class="nav-link" data-scroll-target="#sec-example_23_7_1"><span class="header-section-number">23.7.1</span> An SFR Model with a Liquid-Phase Reaction</a></li>
  <li><a href="#sec-example_23_7_2" id="toc-sec-example_23_7_2" class="nav-link" data-scroll-target="#sec-example_23_7_2"><span class="header-section-number">23.7.2</span> An SFR Model with a Gas-Phase Reaction</a></li>
  </ul></li>
  <li><a href="#symbols-used-in-sec-7_seg_flow_models" id="toc-symbols-used-in-sec-7_seg_flow_models" class="nav-link" data-scroll-target="#symbols-used-in-sec-7_seg_flow_models"><span class="header-section-number">23.8</span> Symbols Used in <span>Chapter 23</span></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section_7_intro.html">Modeling Non-Ideal Reactors</a></li><li class="breadcrumb-item"><a href="./section_7_segregated_flow_model.html"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-7_seg_flow_models" class="quarto-section-identifier"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p><a href="section_7_age_function.html" class="quarto-xref"><span>Chapter 22</span></a> introduced the cumulative and differential age distribution functions. It showed how to measure the cumulative age distribution function, <span class="math inline">\(F\)</span>, and how it is related to the differential age distribution function, <span class="math inline">\(dF\)</span>. It also mentioned that the age distribution functions can be used to construct models for non-ideal reactors. This chapter describes one way to model a non-ideal flow reactor using its cumulative age distribution function. It is one variant of a group of segregated flow reactor (SFR) models. Only steady-state non-ideal reactors that operate at constant pressure and either adiabatically or isothermally are considered. This is not as limiting as it might first seem. Typically stirred tanks operate at constant pressure, and some tubular reactors operate with negligible pressure drop.</p>
<section id="sfr-model-assumptions" class="level2" data-number="23.1">
<h2 data-number="23.1" class="anchored" data-anchor-id="sfr-model-assumptions"><span class="header-section-number">23.1</span> SFR Model Assumptions</h2>
<p>The SFR model makes use of the concept of fluid elements that was first introduced in <a href="section_7_age_function.html" class="quarto-xref"><span>Chapter 22</span></a>. The fluid entering the reactor is assumed to be segregated into many, many small volumes called fluid elements. Fluid elements aren’t real, observable things; they are hypothetical constructs. As such, the volume of a fluid element is not known, beyond that it is very small. However, because fluid elements are formed by splitting the non-ideal reactor feed into small parcels, the initial concentrations of the reagents and the initial temperature are known. They are equal to the concentrations and temperature of the feed to the non-ideal reactor.</p>
<p>The SFR model assumes that while the fluid elements are within the reactor, they remain perfectly mixed internally, but they do not mix with any other fluid elements. The mixing within fluid elements is sometimes called micro-mixing while mixing between different fluid elemnts is macro-mixing.</p>
<p>The SFR model makes three additional assumptions. The first is that the fluid elements have different residence times. They do not all spend the same amount of time within the reactor. The second additional assumption is that the residence times of the fluid elements are assigned according to the age distribution function for the non-ideal reactor. The final assumption is that the fluid elements become perfectly macro-mixed when they leave the reactor.</p>
</section>
<section id="fluid-elements-as-bstrs" class="level2" data-number="23.2">
<h2 data-number="23.2" class="anchored" data-anchor-id="fluid-elements-as-bstrs"><span class="header-section-number">23.2</span> Fluid Elements as BSTRs</h2>
<p>Each fluid element is a very small BSTR. It is perfectly mixed and no mass enters or leaves because it doesn’t mix with other fluid elements. By choosing the volume of a fluid element as a basis, the ideal BSTR reactor design equations can be solved to determine the composition, temperature, and pressure within a fluid element as a function of its residence time (age). As previously noted, in this chapter the pressure in the reactor is assumed to be constant.</p>
<p>If the non-ideal reactor being modeled operates isothermally and the reacting fluid is an incompressible, ideal liquid mixture, the only BSTR design equations that are needed to model a fluid element are the BSTR mole balances. If the reacting fluid is an ideal gas, a differential form of the ideal gas law may need to be added to the design equations to account for expansion or contraction. If the non-ideal reactor operates adiabatically, an energy balance on the reacting fluid will also be needed.</p>
<p>The analysis of a fluid element using the BSTR design equations is identical to the analysis of actual BSTRs as described in <a href="section_4_bstr_analysis.html" class="quarto-xref"><span>Chapter 9</span></a>. The design equations will be IVODEs. Having chosen the fluid element volume as a basis, the initial molar amounts of the reagents can be calculated since the initial concentrations and temperature are known. Depending on the whether the reacting fluid is a liquid or a gas and whether the reactor is isothermal or adiabatic, the molar amounts of the reagents, the temperature, and the fluid volume may all change as a function of reaction time. The molar amounts and volume that are found by solving the BSTR design equations are extensive quantities, so they only apply for the chosen basis. However, if they are converted to intensive quantities, they can be used irrespective of the actual size of a fluid element. Hence the molar amounts and volume found by solving the BSTR design equations are typically used to calculate the concentrations of the reagents. Simlarly, if the reacting fluid volume changes as a function of reaction time or age, <span class="math inline">\(t_r\)</span>, it is converted to a relative volume, <span class="math inline">\(\gamma\)</span>, as shown in <a href="#eq-relative_volume" class="quarto-xref">Equation&nbsp;<span>23.1</span></a>.</p>
<p><span id="eq-relative_volume"><span class="math display">\[
\gamma = \frac{V\big\vert_{t_r}}{V_{basis}}
\tag{23.1}\]</span></span></p>
<p>To summarize, even though the volume of a fluid element is not known, the reagent concentrations in it, its temperature, and its relative volume can all be calculated as a function of reaction time, or equivalently, fluid age, by solving the ideal BSTR design equations.</p>
</section>
<section id="the-segregated-flow-reactor-model" class="level2" data-number="23.3">
<h2 data-number="23.3" class="anchored" data-anchor-id="the-segregated-flow-reactor-model"><span class="header-section-number">23.3</span> The Segregated Flow Reactor Model</h2>
<p>If <span class="math inline">\(\dot{V}_{in}\)</span> is the volumetric flow rate into the non-ideal reactor, then <span class="math inline">\(\dot{V}_{in} dF\big\vert_{\lambda}\)</span> is the inlet volumetric flow rate of fluid that will remain in the reactor for a reaction time between <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(\lambda + d\lambda\)</span>. The corresponding outlet volumetric flow rate of fluid that was in the reactor for a reaction time between <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(\lambda + d\lambda\)</span> is then <span class="math inline">\(\dot{V}_{feed} \gamma \big\vert_{\lambda} dF\big\vert_{\lambda}\)</span>. The total outlet volumetric flow rate is then the sum of the flow rate for all possible reaction times or fluid ages. Since the fluid age intervals are differential, the sum takes the form of an integral, leading to <a href="#eq-prod_vol_flow_sfr" class="quarto-xref">Equation&nbsp;<span>23.2</span></a> for the total volumetric flow rate at the outlet from the non-ideal reactor. (The second form of the equations results from substituting <a href="section_7_age_function.html#eq-diff_age_dist_fcn" class="quarto-xref">Equation&nbsp;<span>22.1</span></a> into the first form.) Note that for an incompressible liquid, <span class="math inline">\(\gamma\)</span> would be constant and equal to 1, and because <span class="math inline">\(\int_0^\infty dF = 1\)</span> (see <a href="section_7_age_function.html" class="quarto-xref"><span>Chapter 22</span></a>), <span class="math inline">\(\dot{V}_{out} = \dot{V}_{in}\)</span>, as expected.</p>
<p><span id="eq-prod_vol_flow_sfr"><span class="math display">\[
\dot{V}_{out} = \dot{V}_{in} \int_0^\infty \gamma dF = \dot{V}_{in} \int_0^\infty \gamma \frac{dF}{d\lambda} d\lambda
\tag{23.2}\]</span></span></p>
<p>In a similar manner, the outlet molar flow rate of reagent <span class="math inline">\(i\)</span> can be found by multiplying the outlet volumetric flow rate by the concentration of <span class="math inline">\(i\)</span> as shown in <a href="#eq-prod_molar_flow_sfr" class="quarto-xref">Equation&nbsp;<span>23.3</span></a>.</p>
<p><span id="eq-prod_molar_flow_sfr"><span class="math display">\[
\dot{n}_{i,out} = \dot{V}_{in} \int_0^\infty \gamma C_i dF = \dot{V}_{in} \int_0^\infty \gamma C_i  \frac{dF}{d\lambda} d\lambda
\tag{23.3}\]</span></span></p>
<p>If the non-ideal reactor operates isothermally, the outlet temperature is equal to the inlet temperature. However if the non-ideal reactor is adiabatic, the outlet temperature must be calculated. From above, the outlet molar flow rate of reagent <span class="math inline">\(i\)</span> with an age between <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(\lambda + d\lambda\)</span> is equal to <span class="math inline">\(\dot{V}_{in} \gamma \big\vert_{\lambda} C_i \big\vert_{\lambda} \frac{dF}{d\lambda}\bigg\vert_{\lambda} d\lambda\)</span>, and it will be at a temperature, <span class="math inline">\(T\big\vert_{\lambda}\)</span>. When the fluid elements macro-mix as they leave the reactor, each of these molar flows must gain or lose sensible heat to bring it to the final temperature, <span class="math inline">\(T_{out}\)</span>, of the fluid leaving the non-ideal reactor. If the macro-mixing is adiabatic, the sum of the sensible heats is equal to zero, <a href="#eq-adiab_macro_mix" class="quarto-xref">Equation&nbsp;<span>23.4</span></a>.</p>
<p><span id="eq-adiab_macro_mix"><span class="math display">\[
\sum_i \dot{V}_{in} \int_0^\infty \gamma C_i \frac{dF}{d\lambda} \left(\int_T^{T_{out}} \hat{C}_{p,i}dT \right) d\lambda = 0
\tag{23.4}\]</span></span></p>
<p>In terms of molar heat capacities, this serves as implicit equation for <span class="math inline">\(T_{out}\)</span> shown in <a href="#eq-early_mix_final_T_molar" class="quarto-xref">Equation&nbsp;<span>23.5</span></a>. For liquid systems, the volumetric heat capacity of the fluid is sometimes used, leading to the implicit equation for <span class="math inline">\(T_{out}\)</span> shown in <a href="#eq-early_mix_final_T_vol" class="quarto-xref">Equation&nbsp;<span>23.6</span></a>.</p>
<p><span id="eq-early_mix_final_T_molar"><span class="math display">\[
T_{out} : \, \dot{V}_{in} \int_0^\infty \gamma \frac{dF}{d\lambda} \left( \sum_i  C_i \int_T^{T_{out}} \hat{C}_{p,i} dT \right)d\lambda = 0
\tag{23.5}\]</span></span></p>
<p><span id="eq-early_mix_final_T_vol"><span class="math display">\[
T_f : \, \dot{V}_{in} \int_0^\infty \gamma \frac{dF}{d\lambda} \left(\int_T^{T_{out}} \breve{C}_pdT \right)d\lambda = 0
\tag{23.6}\]</span></span></p>
</section>
<section id="tabular-age-distribution-functions-and-numerical-integration" class="level2" data-number="23.4">
<h2 data-number="23.4" class="anchored" data-anchor-id="tabular-age-distribution-functions-and-numerical-integration"><span class="header-section-number">23.4</span> Tabular Age Distribution Functions and Numerical Integration</h2>
<p>The SFR model is based upon the cumulative age distribution function for the non-ideal reactor being modeled. When the cumulative age distribution function is available as an analytical function, evaluating <span class="math inline">\(F\)</span> and <span class="math inline">\(\frac{dF}{d \lambda}\)</span> at any value of <span class="math inline">\(\lambda\)</span> is straightforward. Often, however, the cumulative age distribution function is measured using stimulus-response experiments (see <a href="section_7_age_function.html" class="quarto-xref"><span>Chapter 22</span></a>). In that case, the cumulative age distribution function is typically available as a table with columns containing corresponding values of <span class="math inline">\(\lambda\)</span> and <span class="math inline">\(F\)</span>.</p>
<p>In this chapter this form of the cumulative age distribution function will be referred to as a table. It should be mentioned that it could also be described as a pair of corresponding vectors. In that case, “adding a column” to the tabular form of the cumulative age distribution function is the same as creating an additional vector that corresponds to the original pair of vectors.</p>
<p>When using a tabular cumulative age distribution function that was generated experimentally, it is important to ensure that it spans a sufficiently large range of ages so that <span class="math inline">\(F\)</span> ranges from zero to one. When using the SFR model, it is also necessary to add a third column to the table that contains the values of <span class="math inline">\(\frac{dF}{d\lambda}\)</span> corresponding to each of the ages.</p>
<section id="the-tabular-form-of-the-cumulative-age-distribution-function" class="level3" data-number="23.4.1">
<h3 data-number="23.4.1" class="anchored" data-anchor-id="the-tabular-form-of-the-cumulative-age-distribution-function"><span class="header-section-number">23.4.1</span> The Tabular Form of the Cumulative Age Distribution Function</h3>
<p>By definition, <span class="math inline">\(F\left(0\right) = 0\)</span>, so the first row in the tabular form of the cumulative age distribution always should be <span class="math inline">\(\lambda\)</span> = 0 and <span class="math inline">\(F\)</span> = 0. Eventually all of the fluid leaves the reactor, so <span class="math inline">\(F\)</span> should always equal 1 in the last row of the tabular age distribution. In principle, the age of the very last bit of fluid to leave could equal infinity, but since it is determined experimentally, the largest age in the tabular age function, <span class="math inline">\(\lambda_f\)</span>, will be finite.</p>
<p>That is, <span class="math inline">\(\lambda_f\)</span> will equal the elapsed time when the last measurement in the stimulus-response experiments was made. Two situations are possible. In one situation, the value of <span class="math inline">\(F\)</span> will have reached a value of 1 (within experimental error) by that time. By definition, <span class="math inline">\(F\)</span> increases monotonically as <span class="math inline">\(\lambda\)</span> increases, so once the maximum value of 1 has been reached, <span class="math inline">\(F\)</span> will hold constant (to within experimental error) at that value for all later experimental measurements.</p>
<p>However, if the stimulus-response experiments were not continued for a sufficient length of time, the final value of <span class="math inline">\(F\)</span> in the tabular form of the cumulative age distribution function will be less than 1. In order to use the SFR model, the cumulative age distribution function must range from <span class="math inline">\(F=0\)</span> to <span class="math inline">\(F=1\)</span>. So if the final value of <span class="math inline">\(F\)</span> is less than one, a row should be added to the end of the table. In the added row, <span class="math inline">\(F\)</span> should equal 1, but the proper corresponding value of <span class="math inline">\(\lambda\)</span> is unknown. One way to choose the value, <span class="math inline">\(\lambda_f\)</span>, to enter in that last row is to linearly extrapolate using the preceding two entries in the experimental cumulative age distribution table to find the value of <span class="math inline">\(\lambda\)</span> where <span class="math inline">\(F\)</span> equals 1, <a href="#eq-age_fcn_added_lambda" class="quarto-xref">Equation&nbsp;<span>23.7</span></a>.</p>
<p><span id="eq-age_fcn_added_lambda"><span class="math display">\[
\lambda_f = \left(1 - F\big\vert_{\lambda_{f-2}}\right)\frac{\lambda_{f-1} - \lambda_{f-2}}{F\big\vert_{\lambda_{f-1}} - F\big\vert_{\lambda_{f-2}}} + \lambda_{f-2}
\tag{23.7}\]</span></span></p>
<p>To summarize, the cumulative age distribution function will be a table with two columns. The first column should contain values of <span class="math inline">\(\lambda\)</span>, and the value in the first row of that column should be zero. The second column should contain corresponding values of <span class="math inline">\(F\)</span>. The value in the first row of the <span class="math inline">\(F\)</span> column should be zero, and the value in the last row of the <span class="math inline">\(F\)</span> column should equal 1 to within experimental uncertainty.</p>
</section>
<section id="the-tabular-form-of-the-differential-age-distribution-function" class="level3" data-number="23.4.2">
<h3 data-number="23.4.2" class="anchored" data-anchor-id="the-tabular-form-of-the-differential-age-distribution-function"><span class="header-section-number">23.4.2</span> The Tabular Form of the Differential Age Distribution Function</h3>
<p>The derivative of the age function, <span class="math inline">\(\frac{dF}{d\lambda}\)</span>, is needed when using the SFR model. A column representing <span class="math inline">\(\frac{dF}{d\lambda}\)</span> can be added to the tabular form of the cumulative age distribution function quite easily. For example if forward differences are used to approximate the derivative, <a href="#eq-d_F_d_lambda_forward" class="quarto-xref">Equation&nbsp;<span>23.8</span></a> is used to calculate <span class="math inline">\(\frac{dF}{d\lambda}\)</span> for all but the last row of the table. Since the age function has reached <span class="math inline">\(F=1\)</span> in the last row and will remain constant at that value, the derivative in the last row is equal to zero, <a href="#eq-d_age_fcn_at_lambda_f" class="quarto-xref">Equation&nbsp;<span>23.9</span></a></p>
<p><span id="eq-d_F_d_lambda_forward"><span class="math display">\[
\frac{dF}{d\lambda}\bigg\vert_{\lambda_k} = \frac{F_{k+1} - F_k}{\lambda_{k+1} - \lambda_k}
\tag{23.8}\]</span></span></p>
<p><span id="eq-d_age_fcn_at_lambda_f"><span class="math display">\[
\frac{dF}{d\lambda}\bigg\vert_{\lambda_f} = 0.0
\tag{23.9}\]</span></span></p>
</section>
<section id="numerical-integration" class="level3" data-number="23.4.3">
<h3 data-number="23.4.3" class="anchored" data-anchor-id="numerical-integration"><span class="header-section-number">23.4.3</span> Numerical Integration</h3>
<p>Using the SFR model equations, <a href="#eq-prod_vol_flow_sfr" class="quarto-xref"><span>23.2</span></a> through <a href="#eq-early_mix_final_T_vol" class="quarto-xref"><span>23.6</span></a>, requires the evaluation of an integral over all possible fluid element ages. The quantities in the integrands (<span class="math inline">\(\gamma\)</span>, <span class="math inline">\(dF\)</span>, <span class="math inline">\(\frac{dF}{d\lambda}\)</span>, <span class="math inline">\(C_i\)</span>, and <span class="math inline">\(T\)</span>) vary with fluid age. Even if the age distribution is avialable as an analytic function, numerical integration will likely be required. That is so because the fluid element design equations can only be solved analytically for a few, very simple systems. Hence, analytical expressions for <span class="math inline">\(\gamma\)</span>, <span class="math inline">\(C_i\)</span>, and <span class="math inline">\(T\)</span> as functions of fluid element age will not be available.</p>
<p>The integrals indicate infinity as the upper limit, but the critical factor is that <span class="math inline">\(F\)</span> should equal 1.0 at the upper limit of the integral. In other words, the integral must include all fluid elements. As already mentioned, if the age function was generated experimentally there will be a finite age, <span class="math inline">\(\lambda_f\)</span>, where <span class="math inline">\(F\)</span> becomes equal to 1.0 to within experimental error. If an analytical age function is available, the upper limit should be set to a finite value, <span class="math inline">\(\lambda_f\)</span>, where <span class="math inline">\(F\)</span> is essentially equal to 1.0. This is necessary because the finite element design equations will be solved numerically using the fluid element age as the stopping criterion. If the upper limit is left as infinity, the numerical solution of the design equations likely will fail. So, irrespective of whether an analytic or tabular cumulative age distribution is available, the upper limit of the integrals in Equations <a href="#eq-prod_vol_flow_sfr" class="quarto-xref"><span>23.2</span></a> through <a href="#eq-early_mix_final_T_vol" class="quarto-xref"><span>23.6</span></a> should be changed to <span class="math inline">\(\lambda_f\)</span>.</p>
<p>The trapezoid rule can be used to perform the integration numerically. Doing so requires that the integrand be evaluated at a number of points starting at <span class="math inline">\(\lambda = 0\)</span> and ending at <span class="math inline">\(\lambda = \lambda_f\)</span>. Here these will be called integrand evaluation points. If there are <span class="math inline">\(N_{\lambda}\)</span> integrand evaluation points, and if <span class="math inline">\(y_k\)</span> representes the value of the integrand at <span class="math inline">\(\lambda_k\)</span>, the value of the integral is given by <a href="#eq-trap_rule" class="quarto-xref">Equation&nbsp;<span>23.10</span></a>. (It can be noted that <span class="math inline">\(\lambda_f = \lambda_{N_\lambda}\)</span>).</p>
<p><span id="eq-trap_rule"><span class="math display">\[
\int_0^{\lambda_f} y d\lambda = 0.5 \sum_{k=2}^{N_\lambda} \left[ \left(y_k + y_{k-1}\right)\left(\lambda_k - \lambda_{k-1}\right) \right]
\tag{23.10}\]</span></span></p>
<p>It remains to choose the integrand evaluation points. If the age distribution is available as an analytical function, the engineer can decide how many integrand evaluation points to use. Generally, the greater the number of integrand evaluation points, the greater the accuracy. The integrand evaluation points do not need to be evenly spaced. If <span class="math inline">\(N_\lambda\)</span> integrand evaluation points are selected, it is good practice to repeat the analysis using <span class="math inline">\(2N_\lambda\)</span> integrand evaluation points and check that the result is not significantly affected.</p>
<p>If the age distribution is available in tabular form, it makes sense to use the ages in the table as the integrand evaluation points because <span class="math inline">\(\frac{dF}{d\lambda}\)</span> is known at those points. If different integrand evaluation points are chose, it will be necessary to interpolate within the table to find <span class="math inline">\(\frac{dF}{d\lambda}\)</span>.</p>
<p>In either case, once the integrand evaluation points have been selected, the finite element design equations will need to be solved to find <span class="math inline">\(C_i\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(\gamma\)</span> for fluid element ages equal to each <span class="math inline">\(\lambda_k\)</span>. These values will be needed, along with <span class="math inline">\(\frac{dF}{d\lambda}\)</span> at each <span class="math inline">\(\lambda_k\)</span>, to evaluate the integrals in the SFR model equations using the trapezoid rule.</p>
</section>
</section>
<section id="numerical-implementation-of-the-sfr-model" class="level2" data-number="23.5">
<h2 data-number="23.5" class="anchored" data-anchor-id="numerical-implementation-of-the-sfr-model"><span class="header-section-number">23.5</span> Numerical Implementation of the SFR Model</h2>
<p>Computer code to implement the SFR model numerically could be structured in a number of ways. The structure described here recognizes that in the SFR model, the “reactors” are actually fluid elements. As such, a fluid element model is first defined. This is effectively an ideal BSTR model like those introduced in <a href="section_4_bstr_analysis.html" class="quarto-xref"><span>Chapter 9</span></a>. An SFR model is then defined. It uses the results from the fliud element model to calculate the non-ideal reactor product molar flow rates and temperature.</p>
<section id="the-fluid-element-model" class="level3" data-number="23.5.1">
<h3 data-number="23.5.1" class="anchored" data-anchor-id="the-fluid-element-model"><span class="header-section-number">23.5.1</span> The Fluid Element Model</h3>
<p>The fluid elements are perfectly mixed internally and have no material inputs or outputs (such as from mixing with other fluid elements). That is, they are effectively BSTRs. Here they are assumed to be adiabatic and to operate at constant pressure. As such the fluid element model is virtually the same as those used to analyze actual BSTRs.</p>
<p>The initial concentrations of the reagents in the fluid element and the temperature are equal to those of the feed to the non-ideal flow reactor. Because fluid elements are hypothetical constructs and not real entities, their volume is not known other than it is very small. Thus, the fluid element model requires that a fluid element volume be assumed and used as a basis for the calculations.</p>
<p>Having chosen the volume, the initial molar amounts can be calculated from their concentrations. The BSTR design equations then need to be solved for each integrand evaluation point. That is the equations need to be solved using each <span class="math inline">\(\lambda_k\)</span> as the stopping criterion for the time.</p>
<p>For any one <span class="math inline">\(\lambda_k\)</span>, solving the BSTR design equations will yield corresponding sets of values of the reaction time, molar amount of each reagent, temperature, and, for gases, volume. The final values, where the time reaches <span class="math inline">\(\lambda_k\)</span> are of interest here. Because the initial fluid element volume was chosen as a basis, the final molar amounts and volume must be converted to intensive variables before they are returned. Typically they are converted to reagent concentrations and a relative volume.</p>
<p>Once the concentrations, temperature and relative volume have been calculated for every integrand evaluation point, they are returned by the fluid element function. If a tabular age distribution function is being used, the concentrations, temperatures and relative volumes can be added as additional table columns, if desired.</p>
<p>A fluid element function can be written to perfrom these calculations. Since the BSTR design equations are IVODEs and they are solved numerically within the fluid element model, the fluid element model will also include a derivatives function.</p>
</section>
<section id="the-sfr-model" class="level3" data-number="23.5.2">
<h3 data-number="23.5.2" class="anchored" data-anchor-id="the-sfr-model"><span class="header-section-number">23.5.2</span> The SFR Model</h3>
<p>The primary purpose of the SFR model is to use the results from the finite element model to calculate the outlet molar flow rates and temperature for the non-ideal reactor using <a href="#eq-prod_molar_flow_sfr" class="quarto-xref">Equation&nbsp;<span>23.3</span></a> and either <a href="#eq-early_mix_final_T_molar" class="quarto-xref">Equation&nbsp;<span>23.5</span></a> or <a href="#eq-early_mix_final_T_vol" class="quarto-xref">Equation&nbsp;<span>23.6</span></a>. Examination of those equations shows that before they can be used, the derivative, <span class="math inline">\(\frac{dF}{d\lambda}\)</span>, must be calculated for each integrand evaluation point. This can be accomplished using Equations <a href="#eq-d_F_d_lambda_forward" class="quarto-xref"><span>23.8</span></a> and <a href="#eq-d_age_fcn_at_lambda_f" class="quarto-xref"><span>23.9</span></a>.</p>
<p>The integrals in Equations <a href="#eq-prod_molar_flow_sfr" class="quarto-xref"><span>23.3</span></a>, <a href="#eq-early_mix_final_T_molar" class="quarto-xref"><span>23.5</span></a>, and <a href="#eq-early_mix_final_T_vol" class="quarto-xref"><span>23.6</span></a> then can be evaluated using the trapezoid rule. That is, the molar flow rates leaving the non-ideal reactor can be calculated using <a href="#eq-prod_molar_flow_sfr_trapz" class="quarto-xref">Equation&nbsp;<span>23.11</span></a> and the outlet temperature can be calculated using either <a href="#eq-early_mix_final_T_molar_trapz" class="quarto-xref">Equation&nbsp;<span>23.12</span></a> or <a href="#eq-early_mix_final_T_vol_trapz" class="quarto-xref">Equation&nbsp;<span>23.13</span></a>.</p>
<p><span id="eq-prod_molar_flow_sfr_trapz"><span class="math display">\[
\dot{n}_{i,out} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right]
\tag{23.11}\]</span></span></p>
<p><span id="eq-early_mix_final_T_molar_trapz"><span class="math display">\[
T_{out} \,: 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  C_i \int_T^{T_{out}} \hat{C}_{p,i} dT \right)\right)\bigg\vert_{\lambda_k} \\+ \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  C_i \int_T^{T_{out}} \hat{C}_{p,i} dT \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right) \left(\lambda_k - \lambda_{k-1}\right) \right] = 0
\tag{23.12}\]</span></span></p>
<p><span id="eq-early_mix_final_T_vol_trapz"><span class="math display">\[
T_{out} \,: 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left( \gamma \frac{dF}{d\lambda} \left(\int_T^{T_{out}} \breve{C}_pdT \right) \right)\bigg\vert_{\lambda_k} \\+ \left( \gamma \frac{dF}{d\lambda} \left(\int_T^{T_{out}} \breve{C}_pdT \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] = 0
\tag{23.13}\]</span></span></p>
<p>An SFR function can be written to perform these calculations. The equation for the outlet temperature, either <a href="#eq-early_mix_final_T_molar_trapz" class="quarto-xref">Equation&nbsp;<span>23.12</span></a> or <a href="#eq-early_mix_final_T_vol_trapz" class="quarto-xref">Equation&nbsp;<span>23.13</span></a> is implicit. It can be solved for <span class="math inline">\(T_{out}\)</span> using an ATE solver. Consequently the SFR model also will include a residuals function.</p>
</section>
</section>
<section id="advantages-and-disadvantages-of-sfr-models" class="level2" data-number="23.6">
<h2 data-number="23.6" class="anchored" data-anchor-id="advantages-and-disadvantages-of-sfr-models"><span class="header-section-number">23.6</span> Advantages and Disadvantages of SFR Models</h2>
<p>A significant advantage of the SFR model presented here is that it is based on the cumulative age distribution function for the non-ideal reactor. As seen in this chapter, when the non-ideal reactor operates adiabatically at constant pressure, this results in an SFR model that does not have any adjustable parameters that need to be estimated. The assumptions of adiabatic and constant pressure operation apply to many real, non-ideal reactors. Stirred tanks normally operate at constant pressure, and often for tubular reactors the pressure drop along the length of the reactor is negligible.</p>
<p>A significant disadvantage of the SFR model is that using it to model non-ideal reactors where the pressure drops or heat is exchanged is not straightforward. If the pressure in the steady-state, non-ideal reactor varies with position, an equation for the variation of the pressure with reaction time could be added to the SFR model above. For example, if the non-ideal reactor is tubular and the pressure drops along its length, the pressure <em>vs.</em> length relationship could be introduced to the SFR model as pressure <em>vs.</em> reaction time in the fluid element. The problem with that approach is that the fluid elements have different ages, and that means they will have different final pressures.</p>
<p>Adapting the SFR model to include heat exchange is not as obvious. One option would be to assume that the fluid element in the SFR model has the same heat transfer area to initial fluid element volume as the non-ideal reactor being modeled. There are problems with this approach, too. For example, the fluid element volume may change as the reaction proceeds. In <em>Reaction Engineering Basics</em> the SFR model is only used for isothermal or adiabatic non-ideal reactors that operate at steady-state and constant pressure.</p>
</section>
<section id="examples" class="level2" data-number="23.7">
<h2 data-number="23.7" class="anchored" data-anchor-id="examples"><span class="header-section-number">23.7</span> Examples</h2>
<p>The following two examples illustrate the use of SFR models to simulate non-ideal reactors. In Example <a href="#sec-example_23_7_1" class="quarto-xref"><span>23.7.1</span></a> the reacting fluid is an incompressible liquid and in Example <a href="#sec-example_23_7_2" class="quarto-xref"><span>23.7.2</span></a> it is an ideal gas. In both examples the cumulative age distribution is available in tabular form.</p>
<section id="sec-example_23_7_1" class="level3" data-number="23.7.1">
<h3 data-number="23.7.1" class="anchored" data-anchor-id="sec-example_23_7_1"><span class="header-section-number">23.7.1</span> An SFR Model with a Liquid-Phase Reaction</h3>
<p>Suppose the non-ideal reactor from Example <a href="section_7_age_function.html#sec-example_22_5_1" class="quarto-xref"><span>22.5.1</span></a> is going to be used to convert an aqueous solution of A to Z as indicated in equation (1). The feed rate to the 10 L reactor is 3 L min<sup>-1</sup>, and the cumulative age distribution found in that example, <a href="Calculations/example_22_5_1/cum_age_dist_fcn.csv">cum_age_dist_fcn.csv</a>, applies. The feed temperature is 300 K and it contains only reagent A at a concentration of 0.5 M.</p>
<p>The rate expression is given in equation (2) where the pre-exponential factor is equal to 5.29 x 10<sup>9</sup> L mol<sup>-1</sup> min<sup>-1</sup> and the activation energy is 12,100 cal mol<sup>-1</sup>. The heat of reaction (1) is -24,400 cal mol<sup>-1</sup>. The heat capacity of the reacting fluid may be taken to be constant at 1.0 cal ml<sup>-1</sup> K<sup>-1</sup>, and the density to be constant at 1.0 g ml<sup>-1</sup>.</p>
<p><span class="math display">\[
A \rightarrow Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r = kC_A^2 \tag{2}
\]</span></p>
<p>According to the segregated flow reactor model, what conversion of A and outlet temperature can be expected if the reactor operates adiabatically at a pressure of 1 atm? When these results are calculated using the SFR model, the volume of the non-ideal reactor is not used. Explain how this is possible.</p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The assignment narrative instructs me to use an SFR model. I’ll begin by summarizing the assignment. I’ll use subscripted “feed” and “prod” to indentify values for the non-ideal reactor feed and product streams, and I’ll use an overbar to indicate a set of values for a quantity. Looking ahead, I know that I will need to assume a fluid element volume as a basis, so I will include that in the summary, using a subscripted “fe” to indicate fluid element. While the volume of fluid elements is assumed to be very small, I can use any convenient value as a basis because I’m only going to calculate intensive quantities.</p>
</div>
</div>
</div>
<section id="assignment-summary" class="level4" data-number="23.7.1.1">
<h4 data-number="23.7.1.1" class="anchored" data-anchor-id="assignment-summary"><span class="header-section-number">23.7.1.1</span> Assignment Summary</h4>
<p><strong>Reaction:</strong></p>
<p><span class="math display">\[
A \rightarrow Z \tag{1}
\]</span></p>
<p><strong>Rate Expression:</strong></p>
<p><span class="math display">\[
r = kC_A^2 \tag{2}
\]</span></p>
<p><strong>Reactor System:</strong> Steady-state, adiabatic, constant pressure SFR.</p>
<p><strong>Quantities of Interest:</strong> <span class="math inline">\(f_{A,prod}\)</span> and <span class="math inline">\(T_{prod}\)</span>.</p>
<p><strong>Given and Known Constants:</strong> <span class="math inline">\(V_{non-ideal}\)</span> = 10 L, <span class="math inline">\(\dot{V}_{feed}\)</span> = 3 L min<sup>-1</sup>, <span class="math inline">\(T_{feed}\)</span> = 300 K, <span class="math inline">\(C_{A,feed}\)</span> = 0.5 mol L<sup>-1</sup>, <span class="math inline">\(C_{Z,feed}\)</span> = 0.0, <span class="math inline">\(P\)</span> = 1 atm, <span class="math inline">\(k_0\)</span> = 5.29 x 10<sup>9</sup> L mol<sup>-1</sup> min<sup>-1</sup>, <span class="math inline">\(E\)</span> = 12,100 cal mol<sup>-1</sup>, <span class="math inline">\(\Delta H\)</span> = -24,400 cal mol<sup>-1</sup>, <span class="math inline">\(\breve{C}_p\)</span> = 1.0 cal ml<sup>-1</sup>, K<sup>-1</sup>, <span class="math inline">\(\rho\)</span> = 1.0 g ml<sup>-1</sup>, and <span class="math inline">\(\overline{F}\)</span> <em>vs.</em> <span class="math inline">\(\overline{\lambda}\)</span>.</p>
<p><strong>Basis:</strong> <span class="math inline">\(V_{fe}\)</span> = 1.0 L</p>
</section>
<section id="mathematical-formulation-of-the-analysis" class="level4" data-number="23.7.1.2">
<h4 data-number="23.7.1.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-analysis"><span class="header-section-number">23.7.1.2</span> Mathematical Formulation of the Analysis</h4>
<p>The formulation presented here assumes that the given and known constants identified in the assignment summary, above, are available at any point in the analysis.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In the SFR model, the “reactor” is a fluid element. Fluid elements are effectively adiabatic, constant pressure BSTRs, so I’ll begin by generating a fluid element model. The general form of the BSTR mole balance is given in <a href="section_3_design_equations.html#eq-bstr_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.8</span></a>. In the present system, only one reaction is taking place, so the summation reduces to a single term and it isn’t necessary to index the reaction.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \sum_j \nu_{i,j}r_j = \nu_i rV
\]</span></p>
<p>The general BSTR energy balance is given in <a href="section_3_design_equations.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>. The volumetric heat capacity for the reacting fluid is known and can be used in place of the summation over the molar heat capacities. The pressure is constant, so its time-derivative is zero. Assuming the reacting liquid to be incompressible, the derivative of the volume with respect to time is also zero. There are no shafts or pistions, so the work done by the fluid element may be considered to be negligible, and since the reactor is adiabatic, the heat term equals zero. As above, there is only one reaction, so the final sum reduces to a single term where it is not necessary to index the reaction.</p>
<p><span class="math display">\[
\cancelto{V\breve{C}_p}{\left(\sum_i n_i \hat{C}_{p,i} \right)} \frac{dT}{dt} - V\cancelto{0}{\frac{dP}{dt}}  - P  \cancelto{0}{\frac{dV}{dt}}  = \cancelto{0}{\dot{Q}} - \cancelto{0}{\dot{W}} - V \cancelto{r\Delta H}{\sum_j \left(r_j \Delta H_j \right)}
\]</span></p>
<p>The design equations are IVODEs, and they will be solved numerically, so I’ll rearrange the energy balance in the form of a derivative expression.</p>
<p><span class="math display">\[
\frac{dT}{dt} = - \frac{r \Delta H}{\breve{C}_{p}}
\]</span></p>
</div>
</div>
</div>
<center>
<strong>Fluid Element Model</strong>
</center>
<p><strong>Design Equations</strong></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -V_{fe} r \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = V_{fe} r \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = - \frac{r \Delta H}{\breve{C}_{p}} \tag{5}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The design equations are IVODEs, and I’ll solve them using an IVODE solver. To do so, I will need initial values, a stopping criterion, and a derivatives function. I can define <span class="math inline">\(t=0\)</span> as the instant the fluid is placed in the fluid element. The initial values are then equal to the molar amounts of A and Z and the temperature at that time. The initial concentrations of A and Z are equal to their concentrations in the feed to the non-ideal reactor, and the temperature is equal to the non-ideal reactor feed temperature. The initial moles of A are then equal to the fluid element volume times its initial concentration. The initial moles of Z are equal to zero because its concentration in the feed is zero.</p>
<p>The fluid ages, <span class="math inline">\(\lambda_k\)</span>, in the tabular cumulative age distribution will be used as the integrand evaluation points. That is, I will need to solve the design equations using each <span class="math inline">\(\lambda_k\)</span> as the final value of the time.</p>
<p>It is also important to check that the cumulative age distribution function spans the full range from <span class="math inline">\(F=0\)</span> to <span class="math inline">\(F=1\)</span>. Examination of the table for this assignment shows that it does.</p>
<p>In addition to the initial values and stopping criterion, I’ll also need to write a derivatives function that I can provide to the IVODE solver. The derivatives function will be called by the IVODE solver, and the solver will assume that the only arguments are values of the independent (<span class="math inline">\(t\)</span>) and dependent (<span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span>) variables at the start of an integration step. The solver will further assume that the derivatives function will return only the derivatives of the dependent variables with respect to the independent variable, and nothing else.</p>
<p>Before the derivatives can be evaluated, any unknown quantities appearing in them must be calculated. Looking at the design equations, the only unknown I see is <span class="math inline">\(r\)</span>. The rate can be calculated using the given rate expression. That will require using the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>, and the definition of concentration in a closed system, <a href="section_1_intro_and_defs.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>1.7</span></a>, first.</p>
</div>
</div>
</div>
<p><strong>Initial Values and Stopping Criteria</strong>:</p>
<div id="tbl-example_23_6_1_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_23_6_1_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;23.1: Initial values and stopping criterion for solving the fluid element design equations, (3) through (6).
</figcaption>
<div aria-describedby="tbl-example_23_6_1_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criteria</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;">each <span class="math inline">\(\lambda_k\)</span> in <span class="math inline">\(\overline{\lambda}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(C_{A,feed}V_{fe}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0.0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{feed}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<p><strong>Derivatives Function:</strong></p>
<p><u>Arguments:</u> <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span></p>
<p><u>Returns</u>: <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, and <span class="math inline">\(\frac{dT}{dt}\)</span></p>
<p><u>Algorithm:</u></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{6}
\]</span></p>
<p><span class="math display">\[
k = k_0 \exp{\left(\frac{-E}{RT}\right)} \tag{7}
\]</span></p>
<p><span class="math display">\[
r = kC_A^2 \tag{8}
\]</span></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = -V_{fe} r \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = V_{fe} r \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = - \frac{r \Delta H}{\breve{C}_{p}} \tag{5}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point I can write a fluid element function that solves the design equations. I’m going to solve them using different values of <span class="math inline">\(\lambda_k\)</span> as the stopping criterion. However, since the value of <span class="math inline">\(\lambda_k\)</span> are those in the cumulative age distribution table, and they are known constants, I don’t need to pass them to this function as arguments.</p>
<p>Solving the design equations using any one <span class="math inline">\(\lambda_k\)</span> as the stopping criterion will yield corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_Z\)</span>, and <span class="math inline">\(T\)</span> spanning the range from <span class="math inline">\(t=0\)</span> to <span class="math inline">\(t=\lambda_k\)</span>. I want to return the final values where the reaction time is equal to <span class="math inline">\(\lambda_k\)</span>.</p>
<p>The fluid element volume was chosen as a basis, so I don’t want to return the final molar amounts. Instead, I will divide them by the volume and return the molar concentrations.</p>
<p>I am going to write this function so that it only needs to be called once and it will return the concentrations and temperatures for all of the integrand evaluation points at once. To do that, each time I calculate the concentrations and temperature for one of the ages, I’ll add them to vectors. Then, after all of the calculations are complete, I’ll return those vectors, and they will correspond to the ages in the tabular cumulative age distribution function.</p>
</div>
</div>
</div>
<p><strong>Fluid Element Function:</strong></p>
<p><u>Arguments:</u> none</p>
<p><u>Returns:</u> <span class="math inline">\(\overline{C}_A\)</span>, <span class="math inline">\(\overline{C}_Z\)</span>, and <span class="math inline">\(\overline{T}\)</span></p>
<p><u>Algorithm:</u></p>
<p>Repeat (9) through (12) for each <span class="math inline">\(\lambda_k\)</span> in <span class="math inline">\(\overline{\lambda}\)</span>.</p>
<p><span class="math display">\[
\begin{matrix}
\text{initial values, stopping criterion, derivatives function} \\
\Downarrow \\
\text{IVODE solver} \\
\Downarrow \\
\overline{t}, \overline{n}_A, \overline{n}_Z, \overline{T}
\end{matrix} \tag{9}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
C_{A,k} \text{ in } \overline{C}_A = \frac{n_A \big\vert_{t=\lambda_k}}{V_{fe}} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_{Z,k} \text{ in } \overline{C}_Z = \frac{n_Z \big\vert_{t=\lambda_k}}{V_{fe}} \tag{11}
\]</span></p>
<p><span class="math display">\[
T_k \text{ in } \overline{T} = T\big\vert_{t=\lambda_k} \tag{12}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The next thing I need is the SFR model. According to it, the non-ideal reactor outlet molar flow rates are given by <a href="#eq-prod_molar_flow_sfr" class="quarto-xref">Equation&nbsp;<span>23.3</span></a>. I will be using the trapezoid rule to evaluate the integral, in which case the equation for the outlet molar flow rates takes the form given in <a href="#eq-prod_molar_flow_sfr_trapz" class="quarto-xref">Equation&nbsp;<span>23.11</span></a></p>
<p><span class="math display">\[
\dot{n}_{i,out} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right]
\]</span></p>
<p>The reacting fluid is an incompressible liquid, so the fluid element volume will not change during reaction, and <span class="math inline">\(\gamma\)</span> will be constant and equal to 1.0.</p>
<p><span class="math display">\[
\dot{n}_{i,out} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left( C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left(  C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right]
\]</span></p>
<p>I know the volumetric heat capacity, so the non-ideal reactor product temperature is given by <a href="#eq-early_mix_final_T_vol_trapz" class="quarto-xref">Equation&nbsp;<span>23.13</span></a>.</p>
<p><span class="math display">\[
T_{out} \,: 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left( \gamma \frac{dF}{d\lambda} \left(\int_T^{T_{out}} \breve{C}_pdT \right) \right)\bigg\vert_{\lambda_k} \\+ \left( \gamma \frac{dF}{d\lambda} \left(\int_T^{T_{out}} \breve{C}_pdT \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] = 0
\]</span></p>
<p>As above, <span class="math inline">\(\gamma\)</span> will be constant and equal to 1.0. The heat capacity is a constant, so it can be factored out of the sensible heat integral which can then be evaluated analytically. In addition, this is an implicit equation for <span class="math inline">\(T_{out}\)</span>, so I will write in in the form of a residual expression.</p>
<p><span class="math display">\[
0 = \epsilon = 0.5 \dot{V}_{feed} \breve{C}_p \sum_{k=2}^{N_\lambda} \left[ \left( \left( \frac{dF}{d\lambda} \left( T_{out} - T \right) \right)\bigg\vert_{\lambda_k}  + \left( \frac{dF}{d\lambda} \left(T_{out} - T \right) \right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] = 0
\]</span></p>
<p>This is an implicit equation that will be solved using an ATE solver. To do so, I’ll need to provide a guess for the solution and a residuals function. Since the reactor is adiabatic and the reaction is exothermic, I’ll guess that the product temperature is 10 K greater than the feed temperature. If the ATE solver fails to converge, I may need to revise that guess.</p>
</div>
</div>
</div>
<center>
<strong>Segregated Flow Reactor Model</strong>
</center>
<p><strong>Model Equations</strong>:</p>
<p><span class="math display">\[
\dot{n}_{A,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{13}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{14}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon = 0.5 \dot{V}_{feed} \breve{C}_p \sum_{k=2}^{N_\lambda} \left[ \left( \begin{matrix} \left( \frac{dF}{d\lambda} \left(T_{Prod} - T \right)\right)\bigg\vert_{\lambda_k}  \\+ \left( \frac{dF}{d\lambda} \left(T_{prod} - T \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] = 0  \tag{15}
\]</span></p>
<p><strong>Initial Guess for <span class="math inline">\(T_{prod}\)</span></strong>:</p>
<p><span class="math display">\[
T_{guess} = T_{feed} + 10 \text{ K} \tag{16}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I also will need to write a residuals function and provide it to the ATE solver. The ATE solver will assume that it takes a single argument, a guess for the solution, and that it returns the value of the residual corresponding to that guess.</p>
<p>Looking at the residual expression, I see that in addition to given and known constants, it also contains the ages, <span class="math inline">\(\lambda_k\)</span>, derivatives, <span class="math inline">\(\frac{dF}{d\lambda}\bigg\vert_{\lambda_k}\)</span>, and the fluid element temperature, <span class="math inline">\(T\big\vert_{\lambda_k}\)</span>, at each of the integrand evaluation points. I will need to calculate these quantities and make them available to the residuals funtion before I call the ATE solver because they cannot be passed to the residuals function as arguments.</p>
</div>
</div>
</div>
<p><strong>Residual Function</strong>:</p>
<p><u>Argument</u>: <span class="math inline">\(T_{prod}\)</span>.</p>
<p><u>Must be Available</u>: <span class="math inline">\(\overline{T}\)</span>, <span class="math inline">\(\overline{\lambda}\)</span>, and <span class="math inline">\(\overline{\frac{dF}{d\lambda}}\)</span>.</p>
<p><u>Returns</u>: <span class="math inline">\(\epsilon\)</span>.</p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
0 = \epsilon = 0.5 \dot{V}_{feed} \breve{C}_p \sum_{k=2}^{N_\lambda} \left[ \left( \begin{matrix} \left( \frac{dF}{d\lambda} T_{prod} - T \right)\bigg\vert_{\lambda_k}  \\+ \left( \frac{dF}{d\lambda} \left(T_{prod} - T \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] = 0  \tag{15}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To complete the SFR model, I need to write a computer function that solves the model equations and returns the product molar flow rates and temperature.</p>
<p>Before <span class="math inline">\(\dot{n}_{A,prod}\)</span>, <span class="math inline">\(\dot{n}_{Z,prod}\)</span>, and <span class="math inline">\(T_{prod}\)</span> can be calculated, <span class="math inline">\(C_A\)</span>, <span class="math inline">\(C_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(\frac{dF}{d\lambda}\)</span> must be calculated at each of the integrand evaluation points. Here, the integrand evaluation points are the ages in the tabular cumulative age distribution function.</p>
<p>The fluid element concentrations and temperature can be obtained by calling the fluid element function. Equations <a href="#eq-d_F_d_lambda_forward" class="quarto-xref"><span>23.8</span></a> and <a href="#eq-d_age_fcn_at_lambda_f" class="quarto-xref"><span>23.9</span></a> can be used to calculate <span class="math inline">\(\frac{dF}{d\lambda}\)</span> at each integrand evaluation point. At that point, the product molar flow rates of A and Z can be calculated directly.</p>
<p>After making <span class="math inline">\(\overline{T}\)</span>, <span class="math inline">\(\overline{\lambda}\)</span>, and <span class="math inline">\(\overline{\frac{dF}{d\lambda}}\)</span> available to the residuals function, the product temperature can be calculated by calling an ATE solver.</p>
</div>
</div>
</div>
<p><strong>SFR Function</strong>:</p>
<p><u>Arguments</u>: none.</p>
<p><u>Must be Available</u>: Fluid Element Function.</p>
<p><u>Returns</u>: <span class="math inline">\(\dot{n}_{A,prod}\)</span>, <span class="math inline">\(\dot{n}_{Z,prod}\)</span>, and <span class="math inline">\(T_{prod}\)</span>.</p>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
\begin{matrix}
\text{Fluid Element Function} \\
\Downarrow \\
\overline{C}_A, \overline{C}_Z, \overline{T}
\end{matrix} \tag{17}
\]</span></p>
<p><span class="math display">\[
\overline{\frac{dF}{d\lambda}} : \frac{dF}{d\lambda}\bigg\vert_{\lambda_k} = \frac{F_{k+1} - F_k}{\lambda_{k+1} - \lambda_k} \text{ and } \frac{dF}{d\lambda}\bigg\vert_{\lambda_f} = 0.0 \tag{18}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{A,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{13}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{14}
\]</span></p>
<p><span class="math display">\[
\overline{T}, \overline{\lambda}, \overline{\frac{dF}{d\lambda}} \, \Rightarrow \, \text{available to Resduals Function} \tag{19}
\]</span></p>
<p><span class="math display">\[
\begin{matrix}
T_{guess}, \text{Residuals Function} \\
\Downarrow \\
\text{ATE Solver} \\
\Downarrow \\
T_{prod}
\end{matrix} \tag{20}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point all that remains is to calculate the quantities of interest. The narrative requests the conversion and the product temperature. The product temperature has already been calculated. To calculate the conversion,I can use its definition, <a href="section_1_reaction_progress.html#eq-conversion_def_closed" class="quarto-xref">Equation&nbsp;<span>3.4</span></a>.</p>
</div>
</div>
</div>
<center>
<strong>Quantities of Interest</strong>
</center>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
f_{A,prod} = \frac{\dot{V}_{feed} C_{A,feed} - \dot{n}_{A,prod}}{\dot{V}_{feed} C_{A,feed}} \tag{21}
\]</span></p>
</section>
<section id="results-analysis-and-discussion" class="level4" data-number="23.7.1.3">
<h4 data-number="23.7.1.3" class="anchored" data-anchor-id="results-analysis-and-discussion"><span class="header-section-number">23.7.1.3</span> Results, Analysis and Discussion</h4>
<p>The calculations were performed as described above. Specifically, the Derivatives Function, Fluid Element Function, Residual Function, and SFR Function were written using a mathematics software package. The product stream molar flow rates of A and Z and the product stream temperature were obtained by calling the SFR Function. The product stream conversion was then calculated using equation (21). The conversion was found to equal 93.1% and the product temperature to be 310 K. The non-ideal reactor operates adiabatically, and the reaction is exothermic. Therefore the increase in temperature is expected.</p>
<p>At first glance, it seems as if the 10 L volume of the non-ideal reactor was not used in the calculations, begging the question of how that is possible. The key to understanding is found in the use of the differential age distribution function to partition the feed into fluid elements as indicated in <a href="#eq-prod_vol_flow_sfr" class="quarto-xref">Equation&nbsp;<span>23.2</span></a>. Each fluid element has a specific age, or residence time in the reactor, and it constitutes a fixed fraction of the total volumetric feed.</p>
<p>Dividing the volumetric feed associated with a fluid element by its residence time then yields the reactor volume associated with that fluid element. Adding up the volumes associated with all of the fluid elements (i. e. integration over all possible fluid element residence times) gives the total volume. So while the total volume does not appear explicitly in the calculations, the outlet molar flow rates and the outlet temperature are calculated by summing over the volumes of all of the fluid elements that make up the total volume.</p>
</section>
</section>
<section id="sec-example_23_7_2" class="level3" data-number="23.7.2">
<h3 data-number="23.7.2" class="anchored" data-anchor-id="sec-example_23_7_2"><span class="header-section-number">23.7.2</span> An SFR Model with a Gas-Phase Reaction</h3>
<p>The reaction between A and B, equation (1), is exothermic, <span class="math inline">\(\Delta H\)</span> = -7.2 kcal mol<sup>-1</sup>. The rate expression is given in equation (2) with the Arrhenius pre-exponential factor, <span class="math inline">\(k_0\)</span>, equal to 1.37 x 10<sup>5</sup> m<sup>3</sup> mol<sup>-1</sup> min<sup>-1</sup> and the activation energy, <span class="math inline">\(E\)</span>, to 11.1 kcal mol<sup>-1</sup>. A gas mixture containing 10% A, 65% B and 25% inert, I, flows into a non-ideal adiabatic stirred tank reactor at 165 °C and 5 atm. The feed flow rate is 1.0 m<sup>3</sup> min<sup>-1</sup>, and the heat capacities of A, B, Z, and I are equal to 7.6, 8.2, 13.8, and 4.3 cal mol<sup>-1</sup> K<sup>-1</sup>, respectively. The cumulative age distribution function is available in the file, <a href="Calculations/example_23_7_2/cum_age_dist_fcn.csv">cum_age_dist_fcn.csv</a>. What conversion and temperature are predicted by an SFR model based on that age distribution?</p>
<p><span class="math display">\[
A + B \rightarrow Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r = kC_AC_B \tag{2}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment involves a non-ideal flow reactor that will be analyzed using an SFR model. I’ll begin by summarizing the assignment. I know that I’ll need to assume a fluid element volume as a basis for the calculations, so I’ll include that in the summary. I’ll use subscripted “feed” and “prod” to indentify values for the non-ideal reactor feed and product streams, and an overbar to indicate a set of values for a quantity.</p>
</div>
</div>
</div>
<section id="assignment-summary-1" class="level4" data-number="23.7.2.1">
<h4 data-number="23.7.2.1" class="anchored" data-anchor-id="assignment-summary-1"><span class="header-section-number">23.7.2.1</span> Assignment Summary</h4>
<p><strong>Reaction</strong>:</p>
<p><span class="math display">\[
A + B \rightarrow Z \tag{1}
\]</span></p>
<p><strong>Rate Expression</strong>:</p>
<p><span class="math display">\[
r = kC_AC_B \tag{2}
\]</span></p>
<p><strong>Reactor System</strong>: Steady-state, adiabatic, constant pressure SFR.</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(f_A\)</span> and <span class="math inline">\(T_{prod}\)</span></p>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(\Delta H\)</span> = -7.2 kcal mol<sup>-1</sup>, <span class="math inline">\(k_0\)</span> = 1.37 x 10<sup>5</sup> m<sup>3</sup> mol<sup>-1</sup> min<sup>-1</sup>, <span class="math inline">\(E\)</span> = 11.1 kcal mol<sup>-1</sup>, <span class="math inline">\(y_{A,feed}\)</span> = 0.1, <span class="math inline">\(y_{B,feed}\)</span> = 0.65, <span class="math inline">\(y_{I,feed}\)</span> = 0.2, <span class="math inline">\(T_{feed}\)</span> = 165 °C, <span class="math inline">\(P\)</span> = 5 atm, <span class="math inline">\(\dot{V}_{feed}\)</span> = 1.0 m<sup>3</sup> min<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,A}\)</span> = 7.6 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,B}\)</span> = 8.2 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,Z}\)</span> = 13.8 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,I}\)</span> = 4.3 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(R_{en}\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(R_{pv}\)</span> = 8.206 x 10<sup>-5</sup> m<sup>3</sup> atm mol<sup>-1</sup> K<sup>-1</sup>, and <span class="math inline">\(\overline{F}\)</span> <em>vs.</em> <span class="math inline">\(\overline{\lambda}\)</span>.</p>
<p><strong>Basis</strong>: <span class="math inline">\(V_{fe}\)</span> = 1.0 m<sup>3</sup>.</p>
</section>
<section id="mathematical-formulation-of-the-analysis-1" class="level4" data-number="23.7.2.2">
<h4 data-number="23.7.2.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-analysis-1"><span class="header-section-number">23.7.2.2</span> Mathematical Formulation of the Analysis</h4>
<p>The formulation that follows assumes that the given and known constants identified in the assignment summary are available at any point in the analysis.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The “reactor” in an SFR model is a fluid element, and the BSTR design equations are used to represent it, so I’ll start by formulating the fluid element model. The reactor is adiabatic, so mole balances and an energy balance on the reacting fluid need to be included in the design equations.</p>
<p>The general form of the BSTR mole balance is given in <a href="section_3_design_equations.html#eq-bstr_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.8</span></a>. Since there is only one reaction, the summation reduces to a single term, and it isn’t necessary to index the reaction.</p>
<p><span class="math display">\[
\frac{dn_i}{dt} = V \sum_j \nu_{i,j}r_j = \nu_i r V
\]</span></p>
<p>The general form of the BSTR energy balance is given in <a href="section_3_design_equations.html#eq-bstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.9</span></a>. Here the pressure is constant, so its time derivative is zero. The work done by the system can be assumed to be negligible, and since the reactor is adiabatic, the heat transfer term is equal to zero. The summation again reduces to a single term, and indexing the reaction isn’t necessary. Finally, it can be seen that all of the terms in the energy balance except for <span class="math inline">\(P\frac{dV}{dt}\)</span> will have units of energy per time. The units of the <span class="math inline">\(P\frac{dV}{dt}\)</span> term will be pressure times volume per time. The units of that term can be converted by multiplying it by the ideal gas constant in energy units, <span class="math inline">\(R_{en}\)</span>, divided by the ideal gas constant in pressure-volume units, <span class="math inline">\(R_{pv}\)</span>.</p>
<p><span class="math display">\[
\left(\sum_i n_i \hat{C}_{p,i} \right) \frac{dT}{dt} - V\frac{dP}{dt}  - P  \frac{dV}{dt}  = \dot{Q} - \dot{W} - V \sum_j \left(r_j \Delta H_j \right)
\]</span></p>
<p><span class="math display">\[
\left(\sum_i n_i \hat{C}_{p,i} \right) \frac{dT}{dt} - P\frac{R_{en}}{R_{pv}} \frac{dV}{dt} = - r V \Delta H
\]</span></p>
<p>The number of dependent variables in the design equations above is one greater than the number of equations. Consequently either a dependent variable needs to be eliminated or an equation needs to be added. I’ll add the differential form of the ideal gas law, <a href="section_3_design_equations.html#eq-differential_ideal_gas_law" class="quarto-xref">Equation&nbsp;<span>6.11</span></a> so that the number of dependent variables in the design equations equals the number of design equations. As above, the pressure is constant, so its time-derivative is zero.</p>
<p><span class="math display">\[
R_{pv} \left( T \left( \sum_i \frac{dn_i}{dt} \right) + \left( \sum_i n_i \right) \frac{dT}{dt} \right) -  P \frac{dV}{dt} - V \cancelto{0}{\frac{dP}{dt}} = 0
\]</span></p>
</div>
</div>
</div>
<center>
<strong>Fluid Element Model</strong>
</center>
<p><strong>Design Equations</strong></p>
<p><span class="math display">\[
\frac{dn_A}{dt} = - rV \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{dn_B}{dt} = - rV \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{dn_Z}{dt} = rV \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{dn_I}{dt} = 0.0 \tag{6}
\]</span></p>
<p><span class="math display">\[
\left( n_A \hat{C}_{p,A} + n_B \hat{C}_{p,B} + n_Z \hat{C}_{p,Z} + n_I \hat{C}_{p,I}\right)  \frac{dT}{dt} - P\frac{R_{en}}{R_{pv}}\frac{dV}{dt} = - r V \Delta H
\tag{7}
\]</span></p>
<p><span class="math display">\[
R_{pv}T\left(\frac{dn_A}{dt} + \frac{dn_B}{dt} + \frac{dn_Z}{dt} + \frac{dn_I}{dt}\right) + R_{pv}\left( n_A + n_B + n_Z + n_I \right) \frac{dT}{dt} -  P \frac{dV}{dt} = 0 \tag{8}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The design equations are IVODEs, and I will solve them numerically using an IVODE solver. To do that, I’ll need initial values, as stopping criterion, and a derivatives function. I can define <span class="math inline">\(t=0\)</span> to be the instant the feed is segregated into fluid elements. That means that the initial mole fractions in the fluid element will equal the mole fractions in the non-ideal reactor feed and the initial temperature will equal the feed temperature. Having assumed the volume of the fluid element as a basis, I can use the ideal law to calculate the initial molar amounts. The feed mole fraction of Z is equal to zero, so the initial moles of Z in the fluid element is zero.</p>
<p>I will need to solve the design equations using each integrand evaluation point as the reaction time. Here the cumulative age distribution function is provided as a table, so the integrand evaluations points are simply the ages in the cumulative age distribution function table.</p>
<p>It is also important to check that the cumulative age distribution function spans the full range from <span class="math inline">\(F=0\)</span> to <span class="math inline">\(F=1\)</span>. Examination of the table for this assignment shows that it does.</p>
</div>
</div>
</div>
<p><strong>Initial Values and Stopping Criterion:</strong></p>
<div id="tbl-example_23_7_2_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_23_7_2_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;23.2: Initial values and stopping criterion for solving the design equations, (3) through (8).
</figcaption>
<div aria-describedby="tbl-example_23_7_2_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;">each <span class="math inline">\(\lambda_k\)</span> in <span class="math inline">\(\overline{\lambda}\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(y_{A,feed}\frac{PV_{fe}}{R_{pv}T_{feed}}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_B\)</span></td>
<td style="text-align: center;"><span class="math inline">\(y_{B,feed}\frac{PV_{fe}}{R_{pv}T_{feed}}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(n_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0.0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(n_I\)</span></td>
<td style="text-align: center;"><span class="math inline">\(y_{I,feed}\frac{PV_{fe}}{R_{pv}T_{feed}}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{feed}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(V\)</span></td>
<td style="text-align: center;"><span class="math inline">\(V_{fe}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>To solve the design equations numerically, I’ll also need to write a derivatives function and provide it to the solver. Because it will be called by the solver, the only arguments that can be passed to it are the values of the independent, <span class="math inline">\(t\)</span>, and dependent variables, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_I\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(V\)</span> at the start of an integration step, and the only quantities it can return are the derivatives of the dependent variables with respect to the independent variable.</p>
<p>Before I can evaluate the derivatives, I need to calculate any unknown quantities appearing in the design equations. For this assignment, the only unknown in the design equations is the rate, <span class="math inline">\(r\)</span>. It can be calculated using the rate expression provided in the problem narrative. That, in turn, will require using the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>, to calculate the rate coefficient, and the defining equation for concentration, <a href="section_1_intro_and_defs.html#eq-concentration_closed" class="quarto-xref">Equation&nbsp;<span>1.7</span></a>.</p>
<p>I also need to write the design equations in the form of derivative expressions (see <a href="apndx_solve_ivodes.html" class="quarto-xref"><span>Appendix J</span></a>). One way to do so is to write the design equations as a matrix equation.</p>
<p><span class="math display">\[
\boldsymbol{M} \begin{bmatrix} \frac{dn_A}{dt} \\ \frac{dn_B}{dt} \\ \frac{dn_Z}{dt} \\ \frac{dn_I}{dt} \\ \frac{dT}{dt} \\ \frac{dV}{dt} \end{bmatrix} = \underline{g}
\]</span></p>
<p>Here, the mass matrix, <span class="math inline">\(\boldsymbol{M}\)</span>, and the right-hand side vector, <span class="math inline">\(\underline{g}\)</span> are then defined as follows.</p>
<p><span class="math display">\[
\boldsymbol{M} = \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; \displaystyle\sum_i\left(n_i \hat{C}_{p,i} \right) &amp; -P\frac{R_{en}}{R_{pv}} \\ R_{pv}T &amp; R_{pv}T &amp; R_{pv}T &amp; R_{pv}T &amp; R_{pv}\displaystyle\sum_i n_i &amp; -P  \end{bmatrix}
\]</span></p>
<p><span class="math display">\[
\underline{g} = \begin{bmatrix}  - rV \\  - rV \\  rV \\ 0.0 \\ -rV\Delta H \\ 0 \end{bmatrix}
\]</span></p>
<p>That then allows the values of the derivatives to be calculated using the inverse of the mass matrix.</p>
<p><span class="math display">\[
\begin{bmatrix} \frac{dn_A}{dt} \\ \frac{dn_B}{dt} \\ \frac{dn_Z}{dt} \\ \frac{dn_I}{dt} \\ \frac{dT}{dt} \\ \frac{dV}{dt} \end{bmatrix} = \boldsymbol{M}^{-1} \underline{g}
\]</span></p>
</div>
</div>
</div>
<p><strong>Derivatives Function:</strong></p>
<p><u>Arguments:</u> <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_I\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(V\)</span></p>
<p><u>Returns:</u> <span class="math inline">\(\frac{dn_A}{dt}\)</span>, <span class="math inline">\(\frac{dn_B}{dt}\)</span>, <span class="math inline">\(\frac{dn_Z}{dt}\)</span>, <span class="math inline">\(\frac{dn_I}{dt}\)</span>, <span class="math inline">\(\frac{dT}{dt}\)</span>, and <span class="math inline">\(\frac{dV}{dt}\)</span>.</p>
<p><u>Algorithm:</u></p>
<p><span class="math display">\[
C_A = \frac{n_A}{V} \tag{9}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{n_B}{V} \tag{10}
\]</span></p>
<p><span class="math display">\[
k = k_0 \exp{\left(\frac{-E}{RT}\right)} \tag{11}
\]</span></p>
<p><span class="math display">\[
r = kC_AC_B \tag{2}
\]</span></p>
<p><span class="math display">\[
\boldsymbol{M} = \begin{bmatrix} 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0 &amp; 0 \\ 0 &amp; 0 &amp; 0 &amp; 1 &amp; 0 &amp; 0\\ 0 &amp; 0 &amp; 0 &amp; 0 &amp; \displaystyle\sum_i\left(n_i \hat{C}_{p,i} \right) &amp; -P\frac{R_{en}}{R_{pv}} \\ R_{pv}T &amp; R_{pv}T &amp; R_{pv}T &amp; R_{pv}T &amp; R_{pv}\displaystyle\sum_i n_i &amp; -P  \end{bmatrix} \tag{12}
\]</span></p>
<p><span class="math display">\[
\underline{g} = \begin{bmatrix}  - rV \\  - rV \\  rV \\ 0.0 \\ -rV\Delta H \\ 0 \end{bmatrix}\tag{13}
\]</span></p>
<p><span class="math display">\[
\begin{bmatrix} \frac{dn_A}{dt} \\ \frac{dn_B}{dt} \\ \frac{dn_Z}{dt} \\ \frac{dn_I}{dt} \\ \frac{dT}{dt} \\ \frac{dV}{dt} \end{bmatrix} = \boldsymbol{M}^{-1} \underline{g} \tag{14}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The purpose of the fluid element model is to calculate the concentration of the reagents, temperature, and relative volume of the fluid element at each of the integrand evaluation points. In this assignment, the integrand evaluation points are the ages, <span class="math inline">\(\lambda_k\)</span>, in the cumulative age distribution function.</p>
<p>To do that, I can set the final value of the reaction time equal to each of those ages, and solve the design equations. That will give me corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(n_A\)</span>, <span class="math inline">\(n_B\)</span>, <span class="math inline">\(n_Z\)</span>, <span class="math inline">\(n_I\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(V\)</span> that span the range from <span class="math inline">\(t=0\)</span> to <span class="math inline">\(t=\lambda_k\)</span>. The molar amounts and the volume at <span class="math inline">\(t=\lambda_k\)</span> can be used to calculate the concentrations.</p>
<p><span class="math display">\[
C_i\big\vert_{t_r=\lambda_k} = \frac{n_i\big\vert_{t_r=\lambda_k}}{V\big\vert_{t_r=\lambda_k}}
\]</span></p>
<p>The relative volume at <span class="math inline">\(t=\lambda_k\)</span> is simply the volume divided by the initial volume.</p>
<p><span class="math display">\[
\gamma\big\vert_{t_r=\lambda_k} = \frac{V\vert_{t_r=\lambda_k}}{V_{fe}}
\]</span></p>
<p>The reagent concentrations, fluid element temperatures, and relative volumes for each <span class="math inline">\(\lambda_k\)</span> can then be combined into vectors with values that correspond to the ages, <span class="math inline">\(\overline{\lambda}\)</span>.</p>
</div>
</div>
</div>
<p><strong>Fluid Element Function:</strong></p>
<p><u>Arguments:</u> none</p>
<p><u>Returns:</u> <span class="math inline">\(\overline{C}_A\)</span>, <span class="math inline">\(\overline{C}_B\)</span>, <span class="math inline">\(\overline{C}_Z\)</span>, <span class="math inline">\(\overline{C}_I\)</span>, <span class="math inline">\(\overline{T}\)</span>, and <span class="math inline">\(\overline{\gamma}\)</span></p>
<p><u>Algorithm:</u></p>
<p>Repeat (15) through (12) for each <span class="math inline">\(\lambda_k\)</span> in <span class="math inline">\(\overline{\lambda}\)</span>.</p>
<p><span class="math display">\[
\begin{matrix}
\text{initial values, stopping criterion, derivatives function} \\
\Downarrow \\
\text{IVODE solver} \\
\Downarrow \\
\overline{t}, \overline{n}_A, \overline{n}_B, \overline{n}_Z, \overline{n}_I, \overline{T}, \overline{V}
\end{matrix} \tag{15}
\]</span></p>
<p>&nbsp;</p>
<p><span class="math display">\[
C_{A,k} \text{ in } \overline{C}_A = \frac{n_A \big\vert_{t=\lambda_k}}{V\big\vert_{t=\lambda_k}} \tag{16}
\]</span></p>
<p><span class="math display">\[
C_{B,k} \text{ in } \overline{C}_B = \frac{n_B \big\vert_{t=\lambda_k}}{V\big\vert_{t=\lambda_k}} \tag{17}
\]</span></p>
<p><span class="math display">\[
C_{Z,k} \text{ in } \overline{C}_Z = \frac{n_Z \big\vert_{t=\lambda_k}}{V\big\vert_{t=\lambda_k}} \tag{18}
\]</span></p>
<p><span class="math display">\[
C_{I,k} \text{ in } \overline{C}_I = \frac{n_I \big\vert_{t=\lambda_k}}{V\big\vert_{t=\lambda_k}} \tag{19}
\]</span></p>
<p><span class="math display">\[
T_k \text{ in } \overline{T} = T\big\vert_{t=\lambda_k} \tag{20}
\]</span></p>
<p><span class="math display">\[
\gamma_k \text{ in } \overline{\gamma} = \frac{V\big\vert_{t=\lambda_k}}{V_{fe}} \tag{21}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Having formulated a fluid element model, I now need to formulate a SFR model to use the results it generates. According to the SFR model, the outlet molar flow rates for a non-ideal reactor are related to the differential age distribution function and the results from the fluid element model as indicated in <a href="#eq-prod_molar_flow_sfr_trapz" class="quarto-xref">Equation&nbsp;<span>23.11</span></a>.</p>
<p><span class="math display">\[
\dot{n}_{i,out} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_i \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right]
\]</span></p>
<p>Before that equation can be used, I need to calculate <span class="math inline">\(\frac{dF}{d\lambda}\bigg\vert_{\lambda_k}\)</span> at each of the integrand evaluation points. That can be done using Equations <a href="#eq-d_F_d_lambda_forward" class="quarto-xref"><span>23.8</span></a> and <a href="#eq-d_age_fcn_at_lambda_f" class="quarto-xref"><span>23.9</span></a>.</p>
<p>To calculate the outlet temperature for the non-ideal reactor, <a href="#eq-early_mix_final_T_molar_trapz" class="quarto-xref">Equation&nbsp;<span>23.12</span></a> is used.</p>
<p><span class="math display">\[
T_{out} \,: 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  C_i \int_T^{T_{out}} \hat{C}_{p,i} dT \right)\right)\bigg\vert_{\lambda_k} \\+ \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  C_i \int_T^{T_{out}} \hat{C}_{p,i} dT \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right) \left(\lambda_k - \lambda_{k-1}\right) \right] = 0
\]</span></p>
<p>Here the heat capacities are constants so they can be factored out of the senisble heat integrals and those integrals can be evaluated analytically. Since this is an implicit equation for <span class="math inline">\(T_{out}\)</span>, it will be solved using an ATE solver, so I’ll write it as a residual expression.</p>
<p><span class="math display">\[
0 = \epsilon = 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  \left(C_i \hat{C}_{p,i}\right) \left(T_{out} - T \right)\right)\right)\bigg\vert_{\lambda_k} \\+ \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  \left(C_i \hat{C}_{p,i} \right) \left(T_{out} - T\right) \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right) \left(\lambda_k - \lambda_{k-1}\right) \right]
\]</span></p>
</div>
</div>
</div>
<center>
<strong>SFR Model</strong>
</center>
<p><strong>Model Equations</strong></p>
<p><span class="math display">\[
\dot{n}_{A,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{22}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_B \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_B \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{23}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{24}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{I,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_I \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_I \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{25}
\]</span></p>
<p><span class="math display">\[
0 = \epsilon = 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  \left(C_i \hat{C}_{p,i}\right) \left(T_{prod} - T \right)\right)\right)\bigg\vert_{\lambda_k} \\+ \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  \left(C_i \hat{C}_{p,i} \right) \left(T_{prod} - T\right) \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right) \left(\lambda_k - \lambda_{k-1}\right) \right] \tag{26}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I will need to provide a guess for <span class="math inline">\(T_{prod}\)</span> to the ATE solver. Since the reaction is exothermic and the reactor is adiabatic, I’ll guess that the outlet temperature is 10 K greater than the feed. If the solver fails to converge, I may need to adjust this guess.</p>
<p>I’ll also need to provide a residual function to the ATE solver. It must accept a guess for <span class="math inline">\(T_{prod}\)</span> as its only argument and it must return the corresponding value of <span class="math inline">\(\epsilon\)</span>. Looking at the residual expression, I see that in addition to given and known constants, it also contains the derivatives, <span class="math inline">\(\frac{dF}{d\lambda}\bigg\vert_{\lambda_k}\)</span>, relative volume, <span class="math inline">\(\gamma\big\vert_{\lambda_k}\)</span>, concentrations, <span class="math inline">\(C_i\big\vert_{\lambda_k}\)</span>, and the fluid element temperature, <span class="math inline">\(T\big\vert_{\lambda_k}\)</span>, at each of the integrand evaluation points. I will need to calculate these quantities and make them available to the residuals funtion before I call the ATE solver because they cannot be passed to the residuals function as arguments.</p>
</div>
</div>
</div>
<p><strong>Initial Guess for <span class="math inline">\(T_{prod}\)</span>:</strong></p>
<p><span class="math display">\[
T_{guess} = T_{feed} + 10 \text{ K} \tag{27}
\]</span></p>
<p><strong>Residual Function:</strong></p>
<p><u>Arguments:</u> <span class="math inline">\(T_{prod}\)</span></p>
<p><u>Must be Available:</u> <span class="math inline">\(\overline{\gamma}\)</span>, <span class="math inline">\(\overline{\frac{dF}{d\lambda}}\)</span>, <span class="math inline">\(\overline{T}\)</span>, <span class="math inline">\(\overline{C}_A\)</span>, <span class="math inline">\(\overline{C}_B\)</span>, <span class="math inline">\(\overline{C}_Z\)</span>, and <span class="math inline">\(\overline{C}_I\)</span></p>
<p><u>Returns:</u> <span class="math inline">\(\epsilon\)</span></p>
<p><u>Algorithm:</u></p>
<p><span class="math display">\[
0 = \epsilon = 0.5 \dot{V}_{feed}  \sum_{k=2}^{N_\lambda} \left[ \left(\begin{matrix} \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  \left(C_i \hat{C}_{p,i}\right) \left(T_{prod} - T \right)\right)\right)\bigg\vert_{\lambda_k} \\+ \left(\gamma \frac{dF}{d\lambda} \left( \sum_i  \left(C_i \hat{C}_{p,i} \right) \left(T_{prod} - T\right) \right) \right)\bigg\vert_{\lambda_{k-1}} \end{matrix} \right) \left(\lambda_k - \lambda_{k-1}\right) \right] \tag{26}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The last component of the SFR model is a computer function that solves the model equations and returns the product molar flow rates and temperature.</p>
<p>Before those quantities can be calculated, <span class="math inline">\(C_A\)</span>, <span class="math inline">\(C_B\)</span>, <span class="math inline">\(C_Z\)</span>, <span class="math inline">\(C_I\)</span>, <span class="math inline">\(T\)</span>, <span class="math inline">\(\lambda\)</span>, and <span class="math inline">\(\frac{dF}{d\lambda}\)</span> must be calculated at each of the integrand evaluation points (i. e. the ages in the tabular cumulative age distribution function).</p>
<p>The fluid element concentrations, temperature, and relative volume can be obtained by calling the fluid element function. Equations <a href="#eq-d_F_d_lambda_forward" class="quarto-xref"><span>23.8</span></a> and <a href="#eq-d_age_fcn_at_lambda_f" class="quarto-xref"><span>23.9</span></a> can be used to calculate <span class="math inline">\(\frac{dF}{d\lambda}\)</span> at each integrand evaluation point. once that is done, the product molar flow rates can be calculated directly.</p>
<p>After making <span class="math inline">\(\overline{\gamma}\)</span>, <span class="math inline">\(\overline{\frac{dF}{d\lambda}}\)</span>, <span class="math inline">\(\overline{T}\)</span>, <span class="math inline">\(\overline{C}_A\)</span>, <span class="math inline">\(\overline{C}_B\)</span>, <span class="math inline">\(\overline{C}_Z\)</span>, and <span class="math inline">\(\overline{C}_I\)</span> available to the residuals function, the product temperature can be calculated by calling an ATE solver.</p>
</div>
</div>
</div>
<p><strong>SFR Function:</strong></p>
<p><u>Arguments:</u> none</p>
<p><u>Must be Available:</u> Fluid Element Function</p>
<p><u>Returns:</u> <span class="math inline">\(\dot{n}_{A,prod}\)</span>, <span class="math inline">\(\dot{n}_{B,prod}\)</span>, <span class="math inline">\(\dot{n}_{Z,prod}\)</span>, <span class="math inline">\(\dot{n}_{I,prod}\)</span>, and <span class="math inline">\(T_{prod}\)</span>.</p>
<p><u>Algorithm:</u></p>
<p><span class="math display">\[
\begin{matrix}
\text{Fluid Element Function} \\
\Downarrow \\
\overline{C}_A, \overline{C}_B, \overline{C}_Z, \overline{C}_I, \overline{T}, and \overline{\gamma}
\end{matrix} \tag{28}
\]</span></p>
<p><span class="math display">\[
\overline{\frac{dF}{d\lambda}} : \frac{dF}{d\lambda}\bigg\vert_{\lambda_k} = \frac{F_{k+1} - F_k}{\lambda_{k+1} - \lambda_k} \text{ and } \frac{dF}{d\lambda}\bigg\vert_{\lambda_f} = 0.0 \tag{29}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{A,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_A \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{22}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_B \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_B \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{23}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_Z \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{24}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{I,prod} = 0.5  \dot{V}_{feed} \sum_{k=2}^{N_\lambda} \left[
\left( \left(\gamma C_I \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_k} + \left( \gamma C_I \frac{dF}{d\lambda}\right)\bigg\vert_{\lambda_{k-1}} \right)\left(\lambda_k - \lambda_{k-1}\right) \right] \tag{25}
\]</span></p>
<p><span class="math display">\[
\overline{\gamma}, \overline{\frac{dF}{d\lambda}}, \overline{T}, \overline{C}_A, \overline{C}_B, \overline{C}_Z, \overline{C}_I \, \Rightarrow \, \text{available to Residuals Function} \tag{30}
\]</span></p>
<p><span class="math display">\[
\begin{matrix}
T_{guess}, \text{Residuals Function} \\
\Downarrow \\
\text{ATE Solver} \\
\Downarrow \\
T_{prod}
\end{matrix} \tag{31}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point all that remains is to calculate the quantities of interest. The narrative requests the conversion and the product temperature. The product temperature has already been calculated. I can use the definition of conversion, <a href="section_1_reaction_progress.html#eq-conversion_def_closed" class="quarto-xref">Equation&nbsp;<span>3.4</span></a>, to calculate its value.</p>
</div>
</div>
</div>
<center>
<strong>Quantities of Interest</strong>
</center>
<p><u>Algorithm</u>:</p>
<p><span class="math display">\[
\dot{n}_{A,feed} = y_{A,feed} \frac{P \dot{V}_{feed}}{R_{pv}T_{feed}} \tag{32}
\]</span></p>
<p><span class="math display">\[
f_{A,prod} = \frac{\dot{n}_{A,feed} - \dot{n}_{A,prod}}{\dot{n}_{A,feed}} \tag{33}
\]</span></p>
</section>
<section id="results-analysis-and-discussion-1" class="level4" data-number="23.7.2.3">
<h4 data-number="23.7.2.3" class="anchored" data-anchor-id="results-analysis-and-discussion-1"><span class="header-section-number">23.7.2.3</span> Results, Analysis and Discussion</h4>
<p>The calculations were performed as described above. Specifically, the Derivatives Function, Fluid Element Function, Residual Function, and SFR Function were written using a mathematics software package. The product stream molar flow rates of A, B, Z, and I and the product stream temperature were obtained by calling the SFR Function. The product stream conversion was then calculated using equations (32) and (33). The conversion was found to equal 78.4% and the product temperature to be 191 °C.</p>
<p>The temperature increase from 165 to 191 °C is expected. The reaction is exothermic, so heat is released. The reactor is adiabatic, so the released heat is not removed and instead causes the gas temperature to rise.</p>
</section>
</section>
</section>
<section id="symbols-used-in-sec-7_seg_flow_models" class="level2" data-number="23.8">
<h2 data-number="23.8" class="anchored" data-anchor-id="symbols-used-in-sec-7_seg_flow_models"><span class="header-section-number">23.8</span> Symbols Used in <a href="#sec-7_seg_flow_models" class="quarto-xref"><span>Chapter 23</span></a></h2>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Symbol</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(dF\)</span></td>
<td style="text-align: left;">Differential age distribution function.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(f_i\)</span></td>
<td style="text-align: left;">Conversion of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\overline{g}\)</span></td>
<td style="text-align: left;">Right-hand side vector when ODEs are written as a matrix equation.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(k\)</span></td>
<td style="text-align: left;">Rate coefficient.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(k_0\)</span></td>
<td style="text-align: left;">Arrhenius pre-exponential factor.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(n_i\)</span></td>
<td style="text-align: left;">Molar amount of reagent <span class="math inline">\(i\)</span>; a subscripted “s,0” denotes the initial sample and “s,f” denotes the sample after batch processing.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot{n}_i\)</span></td>
<td style="text-align: left;">Molar flow rate; subscripted “feed” and “product” denote the flow stream, a subscripted “<span class="math inline">\(\tau\)</span>” denotes a reaction time of <span class="math inline">\(\tau\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(r_j\)</span></td>
<td style="text-align: left;">Rate of reaction <span class="math inline">\(j\)</span>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(t\)</span></td>
<td style="text-align: left;">Time, a subscripted “r” denotes reaction time.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(y\)</span></td>
<td style="text-align: left;">Integrand or mole fraction.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(C_i\)</span></td>
<td style="text-align: left;">Concentration of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\hat{C}_{p,i}\)</span></td>
<td style="text-align: left;">Molar heat capacity of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\breve{C}_p\)</span></td>
<td style="text-align: left;">Volumetric heat capacity.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(E\)</span></td>
<td style="text-align: left;">Activation energy.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(F\left(\lambda\right)\)</span></td>
<td style="text-align: left;">Cumulative age distribution function.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\boldsymbol{M}\)</span></td>
<td style="text-align: left;">Mass matrix.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P\)</span></td>
<td style="text-align: left;">Pressure.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(R\)</span></td>
<td style="text-align: left;">Ideal gas constant.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: left;">Temperature.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(V\)</span></td>
<td style="text-align: left;">Reacting fluid volume.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot{V}\)</span></td>
<td style="text-align: left;">Volumetric flow rate; subscripted “feed” and “product” denote the flow stream, a subscripted “<span class="math inline">\(\tau\)</span>” denotes a reaction time of <span class="math inline">\(\tau\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\epsilon\)</span></td>
<td style="text-align: left;">Residual.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\gamma\)</span></td>
<td style="text-align: left;">Relative fluid volume (current volume divided by initial volume).</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\lambda\)</span></td>
<td style="text-align: left;">Fluid age.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\rho\)</span></td>
<td style="text-align: left;">Density.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\tau\)</span></td>
<td style="text-align: left;">Reaction time.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\Delta H\)</span></td>
<td style="text-align: left;">Heat of reaction.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\Delta t_B\)</span></td>
<td style="text-align: left;">Sampling time used as a basis for calculations.</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./section_7_age_function.html" class="pagination-link" aria-label="The Age Distribution Functions">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">The Age Distribution Functions</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./section_7_axial_dispersion_model.html" class="pagination-link" aria-label="The Steady-State Axial Dispersion Model">
        <span class="nav-page-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Steady-State Axial Dispersion Model</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>