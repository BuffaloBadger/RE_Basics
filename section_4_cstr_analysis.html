<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.6.42">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>12&nbsp; CSTR Analysis – Reaction Engineering Basics</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="site_libs/quarto-nav/quarto-nav.js"></script>
<script src="site_libs/quarto-nav/headroom.min.js"></script>
<script src="site_libs/clipboard/clipboard.min.js"></script>
<script src="site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="site_libs/quarto-search/fuse.min.js"></script>
<script src="site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="./">
<link href="./section_4_pfr_analysis.html" rel="next">
<link href="./section_4_non_continuous_design.html" rel="prev">
<link href="./Graphics/BuffaloBadger_16_16.png" rel="icon" type="image/png">
<script src="site_libs/quarto-html/quarto.js"></script>
<script src="site_libs/quarto-html/popper.min.js"></script>
<script src="site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="site_libs/quarto-html/anchor.min.js"></script>
<link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting-2f5df379a58b258e96c21c0638c20c03.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script>
<link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap-626149efe8f5d16e1d391ba177679bf0.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>

  <script src="https://cdnjs.cloudflare.com/polyfill/v3/polyfill.min.js?features=es6"></script>
  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<script type="text/javascript">
const typesetMath = (el) => {
  if (window.MathJax) {
    // MathJax Typeset
    window.MathJax.typeset([el]);
  } else if (window.katex) {
    // KaTeX Render
    var mathElements = el.getElementsByClassName("math");
    var macros = [];
    for (var i = 0; i < mathElements.length; i++) {
      var texText = mathElements[i].firstChild;
      if (mathElements[i].tagName == "SPAN") {
        window.katex.render(texText.data, mathElements[i], {
          displayMode: mathElements[i].classList.contains('display'),
          throwOnError: false,
          macros: macros,
          fleqn: false
        });
      }
    }
  }
}
window.Quarto = {
  typesetMath
};
</script>

</head>

<body class="nav-sidebar floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a href="http://buffalobadger.github.io" class="navbar-brand navbar-brand-logo">
    <img src="./Graphics/Banner.png" alt="" class="navbar-logo">
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll me-auto">
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/RE_Basics"> 
<span class="menu-text">Reaction Engineering Basics</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/SCoRE"> 
<span class="menu-text">SCoRE</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/ToTaL_Engineering"> 
<span class="menu-text">ToTaL Engineering</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/The_Sett"> 
<span class="menu-text">The Sett</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="http://buffalobadger.github.io/about.html"> 
<span class="menu-text">About</span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
  <a href="" class="quarto-reader-toggle quarto-navigation-tool px-1" onclick="window.quartoToggleReader(); return false;" title="Toggle reader mode">
  <div class="quarto-reader-toggle-btn">
  <i class="bi"></i>
  </div>
</a>
</div>
      </div> <!-- /container-fluid -->
    </nav>
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" role="button" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
        <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section_4_bstr_analysis.html">Modeling Ideal Reactors</a></li><li class="breadcrumb-item"><a href="./section_4_cstr_analysis.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></a></li></ol></nav>
        <a class="flex-grow-1" role="navigation" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
        </a>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true">
 <span class="menu-text">Introduction</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_intro_safety_ethics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">Reaction Engineering, Ethics and Safety</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_rxns_reactors.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">Reactions and Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_1_reaction_progress.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">Reaction Progress</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true">
 <span class="menu-text">Rate Expressions</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_rates_and_expressions.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">Reaction Rates and Rate Expressions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_2_mechanisms.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">Reaction Mechanisms and Mechanistic Rate Expressions</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true">
 <span class="menu-text">Reaction Engineering Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_react_eng_models.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">6</span>&nbsp; <span class="chapter-title">Reaction Engineering Models</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_reaction_engineering_tasks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">7</span>&nbsp; <span class="chapter-title">Reaction Engineering Tasks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_3_formulating_calcs.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">8</span>&nbsp; <span class="chapter-title">Completing Reaction Engineering Tasks</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_bstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">9</span>&nbsp; <span class="chapter-title">BSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_sbstr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">10</span>&nbsp; <span class="chapter-title">SBSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_non_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Design of Non-Continuous Reactors</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_cstr_analysis.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_pfr_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">PFR Analysis</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_4_continuous_design.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">14</span>&nbsp; <span class="chapter-title">Design of Continuous Reactors</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling Ideal Reactor Systems</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_reactor_networks.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">15</span>&nbsp; <span class="chapter-title">Reactor Networks</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_thermally_backmixed_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">16</span>&nbsp; <span class="chapter-title">Thermally Back-Mixed PFRs</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_5_recycle_pfr.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">17</span>&nbsp; <span class="chapter-title">Recycle PFRs</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true">
 <span class="menu-text">Kinetics Data Analysis</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-6" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-6" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_data_generation.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">18</span>&nbsp; <span class="chapter-title">Generation and Analysis of Kinetics Data</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_bstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">19</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a BSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_cstr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">20</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a CSTR</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_6_pfr_data_analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">21</span>&nbsp; <span class="chapter-title">Analysis of Kinetics Data from a PFR</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true">
 <span class="menu-text">Modeling Non-Ideal Reactors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-7" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-7" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_age_function.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">22</span>&nbsp; <span class="chapter-title">The Age Distribution Functions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_segregated_flow_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">23</span>&nbsp; <span class="chapter-title">A Segregated Flow Reactor Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_axial_dispersion_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">24</span>&nbsp; <span class="chapter-title">The Steady-State Axial Dispersion Model</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./section_7_zoned_model.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">25</span>&nbsp; <span class="chapter-title">Zoned Reactor Models</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./references.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">References</span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a class="sidebar-item-text sidebar-link text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true">
 <span class="menu-text">Appendices</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-8" role="navigation" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-8" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_prereq_knowledge.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">A</span>&nbsp; <span class="chapter-title">Prerequisite Knowledge</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_nomenclature.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">B</span>&nbsp; <span class="chapter-title">Terminology and Sign Conventions</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_reaction_thermo.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">C</span>&nbsp; <span class="chapter-title">Reaction Thermodynamics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_kinetics_theories.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">D</span>&nbsp; <span class="chapter-title">Kinetics Theories</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_derivations.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">E</span>&nbsp; <span class="chapter-title">Derivation of Model Equations</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_mathematics.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">F</span>&nbsp; <span class="chapter-title">Mathematics</span></span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./apndx_useful_eqns.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">G</span>&nbsp; <span class="chapter-title">Frequently Used Equations</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#cstr-characteristics" id="toc-cstr-characteristics" class="nav-link active" data-scroll-target="#cstr-characteristics"><span class="header-section-number">12.1</span> CSTR Characteristics</a></li>
  <li><a href="#cstr-operation" id="toc-cstr-operation" class="nav-link" data-scroll-target="#cstr-operation"><span class="header-section-number">12.2</span> CSTR Operation</a></li>
  <li><a href="#sec-4_cstr_qualitative_analysis" id="toc-sec-4_cstr_qualitative_analysis" class="nav-link" data-scroll-target="#sec-4_cstr_qualitative_analysis"><span class="header-section-number">12.3</span> Qualitative Analysis of Steady-State Reaction in a CSTR</a></li>
  <li><a href="#cstr-design-equations" id="toc-cstr-design-equations" class="nav-link" data-scroll-target="#cstr-design-equations"><span class="header-section-number">12.4</span> CSTR Design Equations</a></li>
  <li><a href="#sec-multiplicity" id="toc-sec-multiplicity" class="nav-link" data-scroll-target="#sec-multiplicity"><span class="header-section-number">12.5</span> Steady-State Multiplicity</a></li>
  <li><a href="#steady-state-stability-and-sensitivity" id="toc-steady-state-stability-and-sensitivity" class="nav-link" data-scroll-target="#steady-state-stability-and-sensitivity"><span class="header-section-number">12.6</span> Steady-State Stability and Sensitivity</a>
  <ul class="collapse">
  <li><a href="#sec-stability" id="toc-sec-stability" class="nav-link" data-scroll-target="#sec-stability"><span class="header-section-number">12.6.1</span> Stability of Steady States</a></li>
  <li><a href="#sec-ignition_and_extinction" id="toc-sec-ignition_and_extinction" class="nav-link" data-scroll-target="#sec-ignition_and_extinction"><span class="header-section-number">12.6.2</span> Parametric Sensitivity of CSTRs</a></li>
  </ul></li>
  <li><a href="#examples" id="toc-examples" class="nav-link" data-scroll-target="#examples"><span class="header-section-number">12.7</span> Examples</a>
  <ul class="collapse">
  <li><a href="#sec-example_12_7_1" id="toc-sec-example_12_7_1" class="nav-link" data-scroll-target="#sec-example_12_7_1"><span class="header-section-number">12.7.1</span> Response of a Steady-State CSTR</a></li>
  <li><a href="#sec-example_12_7_2" id="toc-sec-example_12_7_2" class="nav-link" data-scroll-target="#sec-example_12_7_2"><span class="header-section-number">12.7.2</span> Gas Phase Reaction in an Adiabatic, Steady-State CSTR</a></li>
  <li><a href="#sec-example_12_7_3" id="toc-sec-example_12_7_3" class="nav-link" data-scroll-target="#sec-example_12_7_3"><span class="header-section-number">12.7.3</span> Maximizing Conversion for a Reversible Reaction in a Steady-State CSTR</a></li>
  <li><a href="#sec-example_12_7_4" id="toc-sec-example_12_7_4" class="nav-link" data-scroll-target="#sec-example_12_7_4"><span class="header-section-number">12.7.4</span> Multiple Steady States in a CSTR</a></li>
  <li><a href="#sec-example_12_7_5" id="toc-sec-example_12_7_5" class="nav-link" data-scroll-target="#sec-example_12_7_5"><span class="header-section-number">12.7.5</span> Start-Up of a CSTR</a></li>
  <li><a href="#sec-example_12_7_6" id="toc-sec-example_12_7_6" class="nav-link" data-scroll-target="#sec-example_12_7_6"><span class="header-section-number">12.7.6</span> Perturbations from an Unstable Steady State and Near Ignition and Extinction Points</a></li>
  </ul></li>
  <li><a href="#symbols-used-in-chapter--sec-4_cstr_analysis" id="toc-symbols-used-in-chapter--sec-4_cstr_analysis" class="nav-link" data-scroll-target="#symbols-used-in-chapter--sec-4_cstr_analysis"><span class="header-section-number">12.8</span> Symbols Used in Chapter&nbsp;<span>12</span></a></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default"><nav class="quarto-page-breadcrumbs quarto-title-breadcrumbs d-none d-lg-block" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./section_4_bstr_analysis.html">Modeling Ideal Reactors</a></li><li class="breadcrumb-item"><a href="./section_4_cstr_analysis.html"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></a></li></ol></nav>
<div class="quarto-title">
<h1 class="title"><span id="sec-4_cstr_analysis" class="quarto-section-identifier"><span class="chapter-number">12</span>&nbsp; <span class="chapter-title">CSTR Analysis</span></span></h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  


</header>


<p>Analysis of isolated ideal reactors is presented in this Part of <em>Reaction Engineering Basics</em>. Chapters <a href="section_4_bstr_analysis.html" class="quarto-xref"><span>9</span></a>, <a href="section_4_sbstr_analysis.html" class="quarto-xref"><span>10</span></a>, and <a href="section_4_non_continuous_design.html" class="quarto-xref"><span>11</span></a> examined non-continuous reactors. This is the first chapter to consider an isolated <u>continuous</u> reactor, namely the ideal continuous stirred tank reactor (CSTR). Continuous reactors have two modes of operation: steady-state and transient. Additionally, interesting phenomena such as multiplicity and stability of steady states and parametric sensitivity are sometimes associated with CSTRs.</p>
<div id="fig-simple_cstr_schematic" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-simple_cstr_schematic-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="Graphics/simple_cstr_schematic.png" class="img-fluid figure-img" style="width:30.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-simple_cstr_schematic-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.1: Simple schematic representation of a CSTR.
</figcaption>
</figure>
</div>
<section id="cstr-characteristics" class="level2" data-number="12.1">
<h2 data-number="12.1" class="anchored" data-anchor-id="cstr-characteristics"><span class="header-section-number">12.1</span> CSTR Characteristics</h2>
<p>As was the case for BSTRs and SBSTRs, one essential characteristic of CSTRs is that the contents are perfectly mixed at all times. While stirred tanks are the most common type of CSTR in commercial facilities, other physical geometries and formats are possible, but their contents must always be perfectly mixed. Stirred tanks are well-suited to liquid phase reactions because a simple impeller can be used to do the mixing. Attaining perfect mixing of gases in large vessels can be more challenging.</p>
<p>The characteristic that differentiates a CSTR from BSTRs and SBSTRs is the continuous flow of fluid into <em>and</em> out of the reactor as the reaction is taking place. This is what allows them to operate continuously. Unlike BSTRs and SBSTRs, there isn’t a need to stop the reaction, and drain and re-fill the reactor. A fresh feed stream enters continuously and a converted product stream leaves continuously.</p>
<p>This results in two possible modes of operation, steady-state and transient. At steady-state, nothing changes over time. The inlet flow rate, temperature, and composition; the outlet flow rate, temperature, and composition; and the heat exchange fluid flow rate, inlet temperature, and outlet temperature are all constant. CSTRs are designed to operate at steady-state. Once a steady state has been reached, the labor demands to operate the reactor are minimal. Integration with other operations in the process such as feed purification, product separation, etc. is easier to implement when the entire process operates at steady-state.</p>
<p>There are times when a CSTR must operate in a transient mode, such as when the process is being started up and when it is being shut down. This type of transient operation is typically planned, for example, the reactor might be shut down periodically so that routine maintenance can be performed. Unexpected events can also initiate transient operation of a CSTR. For example, a sudden change in the coolant flow rate or temperature or a change in the feed flow or temperature will initiate transient operation.</p>
<p>Compared to the other type of ideal continuous reactor, namely the PFR, the most significant feature of a CSTR is the instantaneous mixing of the feed into the reacting fluid. As a consequence of this mixing the temperature and composition of the reacting fluid is constant for the entire time that the fluid is in the reactor at steady-state. Furthermore, the temperature and composition of the reacting fluid are the final or outlet temperature and composition. Depending upon the reaction kinetics, this can be either an advantage or a disadvantage, as described later in this chapter. Generally use of a CSTR can be advantageous when the reaction is exothermic and/or auto-catalytic. It can be disadvantageous when the reaction is endothermic and/or when the reaction kinetics are typical (i.e.&nbsp;higher reactant concentrations result in larger rates).</p>
<p>Being continuous reactors, CSTRs are well-suited to the production of high volumes of product compared to non-continuous reactors. Another advantage of CSTRs is that they can have a wide range of heat transfer area relative to the reacting fluid volume. This is possible because in addition to exchanging heat through the walls of the reactor, a coil through which heat exchange fluid flows can be submerged in the reacting fluid and/or reacting fluid can be rapidly recirculated through an external heat exchanger. (These heat exchange geometries are illustrated for BSTRs in <a href="section_4_bstr_analysis.html#fig-bstr_heat_exchange_schematics" class="quarto-xref">Figure&nbsp;<span>9.1</span></a>.)</p>
<p>The requirement that the reacting fluid be perfectly mixed can be a disadvantage. If the reacting fluid has a high viscosity, mixing it thoroughly can be very difficult and can consume a great deal of power. Similarly if the reaction requires a solid catalyst, use of a CSTR is impractical or impossible because “stirring” a tank full of solid particles doesn’t work.</p>
</section>
<section id="cstr-operation" class="level2" data-number="12.2">
<h2 data-number="12.2" class="anchored" data-anchor-id="cstr-operation"><span class="header-section-number">12.2</span> CSTR Operation</h2>
<p>CSTRs are designed to operate at steady-state for extended periods of time. Before that can happen, the reactor must be started up. Start-up is a transient process. There are many, many different ways to start up a CSTR. Three goals of start-up are to bring the reactor to steady-state as quickly as possible, to minimize waste while doing so, and to do it all safely. One option is to fill the reactor with the feed and operate it as a batch reactor until the composition and temperature are close to their intended steady-state values, at which time the feed and product flow can be started.</p>
<p>Occasionally CSTRs must be shut down, too. This may be necessary to perform maintenance on the reactor itself, or it may be necessary because an upstream, downstream, or utility (chilled water, etc.) process needs to be shut down. Again, shut-down is a transient process, and the same guidelines as for start-up apply. It is particularly important to analyze the shut-down process prior to implementing it, especially for exothermic processes. If the wrong procedure is used to shut down a reactor, explosions and other undesired events can ensue.</p>
<p>During steady-state operation, automatic control systems can be used to maintain steady-state processing of the feed. Such control systems can make small adjustments to compensate for minor variations in the reactor inputs. Reactor models like those described in this chapter can be used when designing control systems for a CSTR.</p>
</section>
<section id="sec-4_cstr_qualitative_analysis" class="level2" data-number="12.3">
<h2 data-number="12.3" class="anchored" data-anchor-id="sec-4_cstr_qualitative_analysis"><span class="header-section-number">12.3</span> Qualitative Analysis of Steady-State Reaction in a CSTR</h2>
<p>The qualitative analysis of BSTRs was described in <a href="section_4_bstr_analysis.html" class="quarto-xref">Chapter&nbsp;<span>9</span></a>. It involves setting the initial temperature and composition and then considering how they would change during small increments of time. In this way the curvature of graphs of temperature, composition, rate, etc over time can be predicted. If the curvature will not lead to equilibrium, events that must occur to cause them to lead to equilibrium can be inferred. In a steady-state CSTR, nothing changes with time, but nonetheless, a very similar approach can be used.</p>
<p>In a CSTR, the time during which the reaction occurs is the amount of time that the fluid remains in the reactor. It is not related to elapsed clock time. For a fixed reactor volume, the slower the volumetric flow through the reactor, the longer the time the fluid spends in the reactor. Recall that the space time is the reacting fluid volume divided by the inlet volumetric flow rate. Thus, the space time is a measure of the time during which reaction takes place. With that understanding, the qualitative analysis of a CSTR is analogous to the qualitative analysis of a BSTR except that small increments of the space time are used in place of small increments in reaction time.</p>
<p>There is one important difference between an increment of reaction time in a BSTR and an increment of space time in a CSTR. Consider the concentration of a reactant in the reactor at some point during processing. When qualitatively analyzing a BSTR, any change in that concentration during the next small increment of reaction time only applies during that increment. When qualitatively analyzing a CSTR, a change in concentration due to a small increment of the space time applies for the entire time when reaction occurs.</p>
<p>Put differently at a given CSTR space time, the reactant concentration is constant for the entire time the fluid spends in the reactor, i. e. for the entire time during which reaction occurs. If the space time is increased incrementally, the fluid will spend slighly more time in the reactor, that allows slightly more reaction to occur, and consequently the reactant concentration will be slightly smaller. The important difference is that the slightly smaller reactant concentration will prevail for the entire time that the fluid spends in the reactor. Because each incremental change of space time applies over the entire reaction time in a CSTR, the changes it causes will generally be greater than those in a BSTR where an incremental change only affects that increment of time and not the entire reaction time.</p>
<p>It is instructive to compare the effects of composition and temperature over the entire time during which reaction occurs in a BSTR and a CSTR. For illustrative purposes consider a first-order reaction in isothermal reactors. In a BSTR, the reaction rate is high initially. Then as the reactant is consumed, the rate decreases over time. In a CSTR oprating at a space time equal to the BSTR reaction time, the concentration of the reactant is at its lowest value for the whole time, so the rate is low the entire time reaction is taking place. As a consequence, the overall conversion in the CSTR will be smaller.</p>
<p>The same effect is seen with temperature, but for an adiabatic, exothermic reaction, this gives an advantage to the CSTR. The temperature will rise over time in the BSTR, but in the CSTR the temperature is at its final, highest value the entire time the reaction is taking place. Assuming Arrhenius temperature dependence of the rate coefficient, that means that the rate coefficient will be larger in the CSTR than at the start of batch processing.</p>
</section>
<section id="cstr-design-equations" class="level2" data-number="12.4">
<h2 data-number="12.4" class="anchored" data-anchor-id="cstr-design-equations"><span class="header-section-number">12.4</span> CSTR Design Equations</h2>
<p>The reactor design equations for CSTRs are derived in <a href="apndx_derivations.html#sec-apndx_CSTR_balances" class="quarto-xref">Appendix&nbsp;<span>E.4</span></a> and discussed in <a href="section_3_react_eng_models.html#sec-ideal_cstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.6</span></a>. The general CSTR mole balance, <a href="section_3_react_eng_models.html#eq-cstr_mol_balance" class="quarto-xref">Equation&nbsp;<span>6.24</span></a>, and reacting fluid energy balance, <a href="section_3_react_eng_models.html#eq-cstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.25</span></a>, are reproduced below along with the energy balances for the heat exchange fluid for the two situations where it exchanges only sensible heat, <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_sensible" class="quarto-xref">Equation&nbsp;<span>6.2</span></a>, and where it exchanges only latent heat, <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_latent" class="quarto-xref">Equation&nbsp;<span>6.6</span></a>. The choice of which equations to use when modeling a particular reactor is also discussed in <a href="section_3_react_eng_models.html#sec-ideal_cstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.6</span></a>.</p>
<p><span class="math display">\[
\frac{V}{\dot V}\frac{d \dot n_i}{dt} + \frac{\dot n_i}{\dot V}\frac{dV}{dt} - \frac{\dot n_iV}{\dot V^2}\frac{d \dot V}{dt} = \dot n_{i,in} - \dot n_i + V \sum_j \nu_{i,j}r_j
\]</span></p>
<p><span class="math display">\[
\begin{split}
\frac{V}{\dot V}\sum_i \left( \dot n_i \hat C_{p,i}  \right) &amp;\frac{dT}{dt} - V \frac{dP}{dt} - P\frac{dV}{dt} = \dot Q - \dot W \\&amp;- \sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT - V\sum_j r_j \Delta H_j
\end{split}
\]</span></p>
<p><span class="math display">\[
\rho_{ex} V_{ex} \tilde C_{p,ex}\frac{dT_{ex}}{dt} = -\dot Q - \dot m_{ex} \int_{T_{ex,in}}^{T_{ex}} \tilde C_{p,ex}dT
\]</span></p>
<p><span class="math display">\[
\frac{\rho_{ex} V_{ex} \Delta H_{\text{latent},ex}^0}{M_{ex}} \frac{d \gamma}{dt} = - \dot Q - \gamma \dot m_{ex} \frac{\Delta H_{\text{latent},ex}^0}{M_{ex}}
\]</span></p>
<p>The transient CSTR design equations are IVODEs. The numerical solution of IVODEs requires initial values for each of the dependent variables. This can lead to confusion when first learning to model transient CSTRs because both initial and inlet variables are used when solving the design equations. The key point to remember is that <strong>the dependent variables in the IVODEs are the <em><u>outlet</u></em> molar flow rates, temperature and exchange fluid temperature</strong>. As a consequence, <strong>the initial values that are needed to solve the IVODEs are the <u>initial</u> values of the <u>outlet</u> molar flows and temperatures</strong>, not their inlet values.</p>
<p>It is noted in <a href="section_3_react_eng_models.html#sec-ideal_cstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.6</span></a> that when a CSTR operates at steady-state, nothing changes over time. consequently the time derivatives in the design equations all equal zero. The corresponding reactor design equations are reproduced below.</p>
<p><span class="math display">\[
0 = \dot n_{i,in} - \dot n_i + V \sum_j \nu_{i,j}r_j
\]</span></p>
<p><span class="math display">\[
0 = \dot Q - \dot W - \sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT - V\sum_j r_j \Delta H_j
\]</span></p>
<p><span class="math display">\[
0 = -\dot Q - \dot m_{ex} \int_{T_{ex,in}}^{T_{ex}} \tilde C_{p,ex}dT
\]</span></p>
<p><span class="math display">\[
0 = - \dot Q - \gamma \dot m_{ex} \frac{\Delta H_{\text{latent},ex}^0}{M_{ex}}
\]</span></p>
<p>It is important to note that the <span class="math inline">\(V\frac{dP}{dt}\)</span> and <span class="math inline">\(P\frac{dV}{dt}\)</span> terms in the transient reacting fluid energy balance will have different units than the other terms, as was the case for the BSTR and SBSTR reacting fluid energy balances. As described in <a href="section_3_react_eng_models.html#sec-ideal_cstr_eqns" class="quarto-xref">Chapter&nbsp;<span>6.6</span></a>, the CSTR design equations can be modified and simplified, depending upon the particular CSTR being modeled. For liquid phase reacting fluids, the gravimetric or volumetric heat capacity may be known instead of the molar heat capacities of the individual reagents, in which case the sensible heat terms can be modified.</p>
<p><span class="math display">\[
\frac{V}{\dot V}\sum_i \left( \dot n_i \hat C_{p,i} \right) \frac{dT}{dt}\ \Leftrightarrow\ \rho V \tilde C_p \frac{dT}{dt}\ \Leftrightarrow\ V \breve C_p \frac{dT}{dt}
\]</span></p>
<p><span class="math display">\[
\sum_i \dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT\ \Leftrightarrow\ \rho \dot V_{in} \int_{T_{in}}^T \tilde C_pdT\ \Leftrightarrow\ \dot V_{in} \int_{T_{in}}^T \breve C_pdT
\]</span></p>
<p>The power associated with an agitator that is used to stir a liquid-phase reacting fluid is often negligible, <span class="math inline">\(\dot{W} = 0\)</span>. In most cases involving a gas phase reacting fluid, the pressure and reacting fluid volume in a CSTR are constant, so their time derivatives are equal to zero. For liquids, if the inlet and outlet flow rates are not equal, the reacting fluid volume in a CSTR will change over time as was the case for SBSTRs.</p>
<p>When rate expressions are substituted into the CSTR design equations, they will introduce concentrations or, for gases, partial pressures. Noting that the CSTR is perfectly mixed so that the outlet composition and temperature are the same as that of the reacting fluid, the concentrations or partial pressures in the rate expressions should be expressed in terms of the outlet molar flow rates and temperature.</p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_i}{\dot{V}}
\]</span></p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_i}{\sum_i \left(\dot{n}_i\right)}\frac{P}{RT} \qquad i = \text{ ideal gas}
\]</span></p>
<p><span class="math display">\[
P_i = \frac{\dot{n}_i}{\sum_i \left(\dot{n}_i\right)}P \qquad i = \text{ ideal gas}
\]</span></p>
</section>
<section id="sec-multiplicity" class="level2" data-number="12.5">
<h2 data-number="12.5" class="anchored" data-anchor-id="sec-multiplicity"><span class="header-section-number">12.5</span> Steady-State Multiplicity</h2>
<p>Upon substitution of rate expressions, the steady-state CSTR design equations are non-linear because the rate expression contains an exponential term and may also contain terms other than concentrations raised to the first power. Non-linear equations can have more than one solutions. For example, a quadratic equation has two solutions. Therefore it is possible for there to be more than one solution of the steady-state CSTR design equations.</p>
<p>Sometimes when model equations have two or more soltuions, only one of them is phycially meaningful, and the others can be ignored. This is <strong>not</strong> the case when the steady-state CSTR reactor design equations have multiple solutions. As an example, <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a> describes an adiabatic, steady-state CSTR and shows that the reactor design equations have three solutions. Furthermore, each of the three solutions is physically feasible.</p>
<p><a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a> shows the outlet temperature of the adiabatic, steady-state CSTR described in <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a> calculated as a function of inlet temperature. The figure shows that between the two vertical red lines, the temperature curve doubles back above itself twice leading to an “S” shape. Clearly, at any inlet temperature between the two red lines, there are three steady-state outlet temperatures. (The three compositions corresponding to those steady-states are also different from each other, see <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>.)</p>
<div id="fig-T_vs_Tin_unstable" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-T_vs_Tin_unstable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_4/T_vs_Tin.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-T_vs_Tin_unstable-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.2: Steady-state outlet temperature as a function of inlet temperature for the adiabatic CSTR described in <a href="#sec-example_12_7_4" class="quarto-xref"><span>Section 12.7.4</span></a>.
</figcaption>
</figure>
</div>
<p>If a vertical line is drawn at any inlet temperature between the red lines in <a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a>, it will cross the curve three times. The points where a vertical line crosses are the three steady-state outlet temperatures for that inlet temperature. This phenomenon is known as steady-state multiplicity. Other features of <a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a> will be discussed below; the important point here is that the steady-state CSTR design equations can have multiple solutions that are physically feasible.</p>
<p>It is worth noting that while some of the <u>inlet</u> temperatures result in multiple <u>outlet</u> temperatures, <em>there is only one inlet temperature that coresponds to each outlet temperature</em>. That is, if a horizontal line is drawn at any outlet temperature, it will cross the curve only one time.</p>
<p>One might wonder, then, if the inlet temperature to the actual reactor corresponding to <a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a> is set to say 60 °C, which of the three outlet temperatures shown in the figure will actually be observed? The answer to this question is that <strong>the transient procedure used to start up the reactor and bring its inlet temperature to 60 °C will determine which of the steady states is actually observed</strong>.</p>
</section>
<section id="steady-state-stability-and-sensitivity" class="level2" data-number="12.6">
<h2 data-number="12.6" class="anchored" data-anchor-id="steady-state-stability-and-sensitivity"><span class="header-section-number">12.6</span> Steady-State Stability and Sensitivity</h2>
<p>Within the range of inlet temperatures where multiple steady states are possible, <a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a> shows the upper and lower outlet temperatures as solid lines, but it shows the intermediate outlet temperature as a dashed line. The significance of the dashed line is that the steady states with the intermediate outlet temperature are <strong>unstable</strong>.</p>
<section id="sec-stability" class="level3" data-number="12.6.1">
<h3 data-number="12.6.1" class="anchored" data-anchor-id="sec-stability"><span class="header-section-number">12.6.1</span> Stability of Steady States</h3>
<p>If the steady-state, adiabatic CSTR corresponding to <a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a> was somehow operating at an outlet temperature on the dashed portion of the curve, the steady state would be unstable. A slight perturbation of any reactor property would initiate a period of transient operation, and at the end of that transient period, the reactor would be at either the high steady-state outlet temperature or at the low steady state temperature. That is, <strong>if a CSTR somehow operates at an unstable steady state, it will not return to that unstable steady state following even a small perturbation away from it</strong>.</p>
<p><a href="#sec-example_12_7_6" class="quarto-xref">Example&nbsp;<span>12.7.6</span></a> presents a rigorous analysis of such a perturbation. However, a non-rigorous analysis may provide insight and understanding as to why the middle-temperature steady state is unstable. It involves a very roundabout way of solving the steady-state CSTR design equations, and can be illustrated by reference to <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>.</p>
<p>The reacting fluid energy balance in <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>, reproduced below, consists of two terms. One term represents sensible heat absorbed by the feed as it enters the reactor, <a href="#eq-heat_abs_term" class="quarto-xref">Equation&nbsp;<span>12.1</span></a> and the other represents the heat generated by the reaction, <a href="#eq-heat_gen_term" class="quarto-xref">Equation&nbsp;<span>12.2</span></a>. Clearly, the reacting fluid energy balance is only satisfied if the two terms are equal, <a href="#eq-heat_terms_equal" class="quarto-xref">Equation&nbsp;<span>12.3</span></a>.</p>
<p><span class="math display">\[
0 = -\dot{V}_{in} \rho \tilde{C}_p \left( T - T_{in}\right) - Vr_1 \Delta H_1 = \epsilon_5
\]</span></p>
<p><span id="eq-heat_abs_term"><span class="math display">\[
\dot{Q}_{abs} = \dot{V}_{in} \rho \tilde{C}_p \left( T - T_{in}\right)
\tag{12.1}\]</span></span></p>
<p><span id="eq-heat_gen_term"><span class="math display">\[
\dot{Q}_{gen} = - Vr_1 \Delta H_1
\tag{12.2}\]</span></span></p>
<p><span id="eq-heat_terms_equal"><span class="math display">\[
\dot{Q}_{abs} = \dot{Q}_{gen}
\tag{12.3}\]</span></span></p>
<p>A very roundabout way of solving the full set of steady-state CSTR design equation begins by choosing a range of values for the reactor outlet temperature. Knowing the outlet temperature, the mole balance design equations can be solved to find all of the outlet molar flow rates corresponding to each outlet temperature. Knowing the inlet and outlet molar flow rates and the inlet temperature, <span class="math inline">\(\dot{Q}_{abs}\)</span> and <span class="math inline">\(\dot{Q}_{gen}\)</span> can be calculated for each outlet temperature in the chosen range using <a href="#eq-heat_abs_term" class="quarto-xref">Equation&nbsp;<span>12.1</span></a> and <a href="#eq-heat_gen_term" class="quarto-xref">Equation&nbsp;<span>12.2</span></a>. Finally <span class="math inline">\(\dot{Q}_{abs}\)</span> and <span class="math inline">\(\dot{Q}_{gen}\)</span> can each be plotted <em>vs</em>. the outlet temperatures on a single graph. The reacting energy balance is satisfied when the two curves cross, <a href="#eq-heat_terms_equal" class="quarto-xref">Equation&nbsp;<span>12.3</span></a>, so the steady-state temperatures corresponding to the points where the curves cross can be read from the graph.</p>
<p>That roundabout way of solving the design equations was applied to <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>. The resulting heat generated and heat absorbed curves are shown in <a href="#fig-heat_gen_and_heat_abs" class="quarto-xref">Figure&nbsp;<span>12.3</span></a>. The curves cross three times corresponding to the three steady states. In the figure the three steady states are labeled “low”, “middle,” and “high.”</p>
<div id="fig-heat_gen_and_heat_abs" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-heat_gen_and_heat_abs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_6/heat_vs_T.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-heat_gen_and_heat_abs-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.3: Heat absorbed and heat generated as function of the outlet temperature in <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>.
</figcaption>
</figure>
</div>
<p>Suppose a CSTR was operating at the low temperature steady state and somehow the temperature was increased very slightly. That is, on the graph, suppose the operating point shifted slightly to the right of the intersection labeled low. At that new point the heat absorption (blue) would be greater than the heat generation (red), causing the operating temperature to decrease (i. e. to shift back toward the low point).</p>
<p>Similarly, if the CSTR was operating at the low steady state and somehow the temperature was decreased (shifted left) slightly, heat generation (red) would be greater than heat absorption (blue), causing the temperature to increase (i. e. to again shift back toward the low point). This argument suggests that the low temperature steady state is stable because following a small perturbation away from it, the system returns back to it. The exact same argument can be applied to the high temperature steady state. Following any small perturbation from it, the system returns to it.</p>
<p>Now consider the middle temperature steady state. If somehow the operating temperature is increased very slightly (i. e. shifted to the right), the heat generation will be greater than the heat absorption. This will cause the temperature to rise. That is, the point will move even farther to the right. In fact, it will continue to move to the right until it reaches the high temperature steady state.</p>
<p>If somehow the temperature of a CSTR operating at the middle temperature steady state is decreased very slightly (i. e. shifted slightly to the left), the heat absorbed will exceed the heat generated and the temperature will decrease. That is, the point will move farther to the left. This will continue until the point reaches the low temperature steady state.</p>
<p>These arguments are not rigorous because the curves in <a href="#fig-heat_gen_and_heat_abs" class="quarto-xref">Figure&nbsp;<span>12.3</span></a> only apply at steady state, and once the system is perturbed, it is operating in transient mode. Nonetheless, the conclusions drawn are correct (see <a href="#sec-example_12_7_6" class="quarto-xref">Example&nbsp;<span>12.7.6</span></a> for a rigorous confirmation.) The middle steady state is unstable. Any perturbation to a reactor operating at the middle steady state will initiate a transient that ends at one of the two stable steady states.</p>
<p>There is another possible result of perturbing a steady-state reactor. The reactor could go into a state of sustained, periodic oscillations. This possibility is not considered in <em>Reaction Engineering Basics</em>. The topic of steady state stability is often considered in detail in more advanced reaction engineering books and courses.</p>
</section>
<section id="sec-ignition_and_extinction" class="level3" data-number="12.6.2">
<h3 data-number="12.6.2" class="anchored" data-anchor-id="sec-ignition_and_extinction"><span class="header-section-number">12.6.2</span> Parametric Sensitivity of CSTRs</h3>
<p>For reasons just described, real CSTRs do not operate at unstable steady states. This leads to one type of parametric sensitivity known as hysteresis. <a href="#fig-hysteresis" class="quarto-xref">Figure&nbsp;<span>12.4</span></a> shows only the stable steady states from <a href="#fig-T_vs_Tin_unstable" class="quarto-xref">Figure&nbsp;<span>12.2</span></a>. Consider a CSTR operating at steady state with an inlet temperature of -20 °C, where only one steady state is possible. If the inlet temperature is very slowly increased in a way that the reactor remains at steady-state, the outlet temperature will slowly rise along the lower black curve in the figure until it reaches the solid red line.</p>
<div id="fig-hysteresis" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-hysteresis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_4/hysteresis.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-hysteresis-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.4: Steady-state outlet temperature of a CSTR as a function of the inlet temperature.
</figcaption>
</figure>
</div>
<p>The point where the temperature just reaches the solid red line is called the <strong>ignition point</strong>. A slight increase in the temperature beyond the ignition point causes the reactor to rapidly “jump” to the upper curve. That is, if the temperature is raised just slightly above the ignition point, the temperature jumps from ca. 100 °C to over 300 °C. This is clearly undesirable and unsafe.</p>
<p>If the CSTR was operating at an inlet temperature of 100 °C (outlet temperature ~320 °C) and the feed temperature was very slowly decreased so that the reactor remained at steady state, it would follow the upper black curve in the figure until it reached the dashed red line. The point where the temperature just reaches the dashed red line is called the <strong>extinction point</strong>. Lowering the temperature just slightly below the extinction point would cause the reactor temperature to drop to the lower black curve. That is, the reaction rate would suddenly become very small.</p>
<p>Ignition and extinction are demonstrated quantitatively in <a href="#sec-example_12_7_6" class="quarto-xref">Example&nbsp;<span>12.7.6</span></a>. The area bounded on the sides by the red lines and on top and bottom by the black lines is known as a hysteresis loop. As the temperature is slowly raised, the system follows the lower black curve until it reached the solid red line, where upon it jumps to the upper black curve. Upon cooling, the system traces the upper black curve until it reaches the dashed red line at which point it jumps to the lower black curve.</p>
<p>Ignition and extinction are one type of <strong>parametric sensitivity</strong>. More generally, when a small change in a reactor operating parameter results in an extreme change in the output, the reactor is said to be parametrically sensitive to the parameter being changed. Identifying and avoiding operation at conditions near points of parametric sensitivity is essential for the safe operation of CSTRs.</p>
<p>Other types of parametric sensitivity and methods for identifying them are typically presented in more advanced books and courses on reaction engineering. They have been introduced here so that readers are aware of the phenomenon.</p>
</section>
</section>
<section id="examples" class="level2" data-number="12.7">
<h2 data-number="12.7" class="anchored" data-anchor-id="examples"><span class="header-section-number">12.7</span> Examples</h2>
<p>The first four examples in this section involve steady-state CSTRs. <a href="#sec-example_12_7_1" class="quarto-xref">Example&nbsp;<span>12.7.1</span></a> and <a href="#sec-example_12_7_2" class="quarto-xref">Example&nbsp;<span>12.7.2</span></a> illustrate steady-state CSTR response tasks. The former involves two liquid-phase reactions while the second involves a gas phase reaction. In <a href="#sec-example_12_7_1" class="quarto-xref">Example&nbsp;<span>12.7.1</span></a> the assignment is to calculate the reactor output, while in <a href="#sec-example_12_7_2" class="quarto-xref">Example&nbsp;<span>12.7.2</span></a> the assignment is to calculate the input needed to achieve a specified output. <a href="#sec-example_12_7_3" class="quarto-xref">Example&nbsp;<span>12.7.3</span></a> presents the solution of an optimization task involving a steady-state CSTR. <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a> features a steady-state CSTR where three steady states are possible. Start-up of a CSTR, a transient process, is analyzed in <a href="#sec-example_12_7_5" class="quarto-xref">Example&nbsp;<span>12.7.5</span></a>. Finally, <a href="#sec-example_12_7_6" class="quarto-xref">Example&nbsp;<span>12.7.6</span></a> follows three transients that result when an operating parameter of a steady-state CSTR is perturbed. In the first analysis the CSTR is operating at an unstable steady state, and when it is perturbed, the transient ends when it reaches a different, stable steady state. The other two analyses illustrate ignition and extinction.</p>
<section id="sec-example_12_7_1" class="level3" data-number="12.7.1">
<h3 data-number="12.7.1" class="anchored" data-anchor-id="sec-example_12_7_1"><span class="header-section-number">12.7.1</span> Response of a Steady-State CSTR</h3>
<p>Reactants A and B can react irreversibly to produce either a desired product, D, or an undesired product, U, as shown in equations (1) and (2). The corresponding rate expressions are given in equations (3) and (4). The pre-exponential factors for <span class="math inline">\(k_1\)</span> and <span class="math inline">\(k_2\)</span> are 10.2 gal mol<sup>-1</sup> min<sup>-1</sup> and 17.0 gal mol<sup>-1</sup> min<sup>-1</sup>, respectively, and the activation energies are 15.3 kJ mol<sup>-1</sup> and 23.7 kJ mol<sup>-1</sup>, respectively. A liquid mixture containing 10 mol A gal<sup>-1</sup> and 12 mol B gal<sup>-1</sup> at 350 K is fed to an adiabatic 25 gal CSTR at a rate of 12.5 gal min<sup>-1</sup>. If the standard heats at 298 K of reactions (1) and (2) are -12.0 and -21.3 kJ mol<sup>-1</sup>, respectively, and if the reagents form an ideal liquid mixture with the temperature-independent heat capacities of A, B, D and U equal to 85, 125, 200 and 170 J mol<sup>-1</sup> K<sup>-1</sup>, what are the conversion of the limiting reagent, the outlet selectivity (in mol D per mol U) and the outlet temperature?</p>
<p><span class="math display">\[
A + B \rightarrow D \tag{1}
\]</span></p>
<p><span class="math display">\[
A + B \rightarrow U \tag{2}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1 C_AC_B \tag{3}
\]</span></p>
<p><span class="math display">\[
r_2 = k_2 C_AC_B \tag{4}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-1-contents" aria-controls="callout-1" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-1" class="callout-1-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment describes a single CSTR and how it operates. No other equipment is mentioned, so this assignment involves analysis of an isolated ideal CSTR. To sumarize the assignment, I’ll assign appropriate variable names to each of the quantities provided in the narrative, using a subscripted “in” to denote properties associated with the feed to the reactor. I know that I’ll need the gas constant, so I’ll add that, too.</p>
</div>
</div>
</div>
<section id="assignment-summary" class="level4" data-number="12.7.1.1">
<h4 data-number="12.7.1.1" class="anchored" data-anchor-id="assignment-summary"><span class="header-section-number">12.7.1.1</span> Assignment Summary</h4>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(k_{0,1}\)</span> = 10.2 gal mol<sup>-1</sup> min<sup>-1</sup>, <span class="math inline">\(k_{0,2}\)</span> = 17.0 gal mol<sup>-1</sup> min<sup>-1</sup>, <span class="math inline">\(E_1\)</span> = 15.3 kJ mol<sup>-1</sup>, <span class="math inline">\(E_2\)</span> = 23.7 kJ mol<sup>-1</sup>, <span class="math inline">\(C_{A,in}\)</span> = 10 mol gal<sup>-1</sup>, <span class="math inline">\(C_{B,in}\)</span> = 12 mol gal<sup>-1</sup>, <span class="math inline">\(T_{in}\)</span> = 350 K, <span class="math inline">\(V\)</span> = 25 gal, <span class="math inline">\(\dot{V}_{in}\)</span> = 12.5 gal min<sup>-1</sup>, <span class="math inline">\(\Delta H_1 \big\vert_{298 \text{ K}}\)</span> = –12.0 kJ mol<sup>-1</sup>, <span class="math inline">\(\Delta H_2 \big\vert_{298 \text{ K}}\)</span> = –21.3 kJ mol<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,A}\)</span> = 85 J mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,B}\)</span> = 125 J mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,D}\)</span> = 200 J mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,U}\)</span> = 170 J mol<sup>-1</sup> K<sup>-1</sup>, and <span class="math inline">\(R\)</span> = 8.314 J mol<sup>-1</sup> K<sup>-1</sup>.</p>
<p><strong>Reactor System</strong>: Adiabatic, steady-state CSTR</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(f_A\)</span>, <span class="math inline">\(S_{D/U}\)</span>, and <span class="math inline">\(T\)</span></p>
</section>
<section id="mathematical-formulation-of-the-solution" class="level4" data-number="12.7.1.2">
<h4 data-number="12.7.1.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-solution"><span class="header-section-number">12.7.1.2</span> Mathematical Formulation of the Solution</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>Reactor design equations are always needed when modeling a reactor, and the design equations must always include a sufficient number of mole balances. I’ll simply write a mole balance for every reagent. Here the reactor operates at steady-state, so the general mole balance is given by <a href="section_3_react_eng_models.html#eq-cstr_ss_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.31</span></a>. Two reactions are taking place, so the summation expands to two terms. Only A and B are flowing into the reactor, so <span class="math inline">\(\dot{n}_{D,in}\)</span> and <span class="math inline">\(\dot{n}_{U,in}\)</span> are equal to zero.</p>
<p><span class="math display">\[
0 = \dot n_{i,in} - \dot n_i + \cancelto{V\left(\nu_{i,1}r_1 + \nu_{i,2}r_2\right)}{V \sum_j \nu_{i,j}r_j}
\]</span></p>
<p>The reactor is not isothermal, so an energy balance must also be included among the reactor design equations. For a steady-state CSTR the general energy balance is given by <a href="section_3_react_eng_models.html#eq-cstr_ss_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.32</span></a>. This reactor is adiabatic, so the rate of heat transfer is equal to zero. There are no shafts or moving boundaries that are doing work, so the rate of doing work is also equal to zero. Only A and B flow into the reactor, so the sum over the reagents reduces to two terms. Also, since the heat capacities are constant, the integral can be evaluated. Finally, there are two reactions taking place, so the final sum expands to two terms.</p>
<p><span class="math display">\[
0 = \cancelto{0}{\dot Q} - \cancelto{0}{\dot W} - \cancelto{\left(\dot{n}_{A,in}\hat{C}_{p,A} + \dot{n}_{B,in}\hat{C}_{p,B}\right)\left(T - T_{in}\right)}{\sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT} - \cancelto{V\left(r_1 \Delta H_1 + r_2 \Delta H_2\right)}{V\sum_j r_j \Delta H_j}
\]</span></p>
<p>This reactor is adiabatic, so there isn’t a heat exchange fluid to write an energy balance for.</p>
</div>
</div>
</div>
<p><strong>Reactor Design Equations</strong></p>
<p>Mole balance design equations for A, B, D, and U are presented in equations (5) through (8), and an energy balance on the reacting fluid is given in equation (9), all in the form of residual expressions. These equations can be solved to find the outlet molar flow rates and temperature, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span>.</p>
<p><span class="math display">\[
0 = \dot n_{A,in} - \dot n_A + V \left( -r_1 - r_2\right) = \epsilon_1 \tag{5}
\]</span></p>
<p><span class="math display">\[
0 = \dot n_{B,in} - \dot n_B + V \left( -r_1 - r_2\right) = \epsilon_2 \tag{6}
\]</span></p>
<p><span class="math display">\[
0 = - \dot n_D + V r_1 = \epsilon_3 \tag{7}
\]</span></p>
<p><span class="math display">\[
0 = - \dot n_U + V r_2 = \epsilon_4 \tag{8}
\]</span></p>
<p><span class="math display">\[
0 = -\left( \dot{n}_{A,in}\hat C_{p,A} + \dot{n}_{B,in}\hat C_{p,B}\right) \left(T - T_{in}\right) - V\left( r_1 \Delta H_1 + r_2 \Delta H_2\right) = \epsilon_5 \tag{9}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-3-contents" aria-controls="callout-3" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-3" class="callout-3-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In this assignment reactor design equations will be solved for the unknown outlat molar flow rates and temperature. In order to solve the ATEs numerically I’ll need to do two things: calculate the values of the residuals for each guess and provide an initial guess.</p>
<p>Starting with evaluating the residuals, I’ll need to evaluate them each time a new guess for the solution is generated. At that point, values for each of the unknowns (<span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span>) will be available along with the given and known constants. I will need to calculate any other quantities that appear in the residuals expressions. Examination of equations (5) through (9) shows that I’ll need to write equations for calculating the inlet molar flow rates of A and B, the reaction rates, and the heats of reaction. (Note that the assignment narrative provided the standard heats of reaction at 298K, but it did not indicate that the heats were constant with temperature.)</p>
<p>The volumetric feed rate and the feed concentrations of A and B are given. The inlet molar flow rates of A and B can be found using the defining equation for concentration in a flow system.</p>
<p><span class="math display">\[
C_{i,in} = \frac{\dot{n}_{i,in}}{\dot{V}_{in}} \qquad \Rightarrow \qquad \dot{n}_{i,in} = C_{i,in}\dot{V}_{in}
\]</span></p>
<p>The reaction rates can be calculated using the rate expressions, equations (3) and (4), but that introduces the rate coefficients and outlet concentrations of A and B which must be calculated. The rate coefficients can be calculated using the Arrhenius expression , <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>.</p>
<p><span class="math display">\[
k_j = k_{0,j} \exp{\left(  \frac{-E_j}{RT} \right)}
\]</span></p>
<p>The outlet concentrations can be calculated using their definitions. The reacting fluid here is an ideal liquid, and is assumed to be incompressible, so the inlet and outlet volumetric flow rates will be equal.</p>
<p><span class="math display">\[
C_{i} = \frac{\dot{n}_i}{\dot{V}} = \frac{\dot{n}_i}{\dot{V}_{in}}
\]</span></p>
<p>Finally, the heats of reaction can be calculated using <a href="apndx_reaction_thermo.html#eq-deltaH-T" class="quarto-xref">Equation&nbsp;<span>C.3</span></a>. Here, the heat capacities are constant, so they can be taken outside of the integrals and the integrals can be evaluated.</p>
<p><span class="math display">\[
\Delta H_j^0 = \Delta H_j^0\Bigr\rvert_{T=298K} + \cancelto{\left(\sum_i \nu_{i,j}\hat{C}_{p,i}\right)\left(T - 298\text{ K}\right)}{\sum_i \left( \nu_{i,j} \int_{298\text{ K}}^T \hat C_{p,i}dT \right)}
\]</span></p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Residuals</strong></p>
<p><span class="math display">\[
\dot n_{A,in} = \dot C_{A,in} \dot{V}_{in} \tag{10}
\]</span></p>
<p><span class="math display">\[
\dot n_{B,in} = \dot C_{B,in} \dot{V}_{in} \tag{11}
\]</span></p>
<p><span class="math display">\[
k_1 = k_{0,1} \exp{\left(\frac{-E_1}{RT}\right)}\tag{12}
\]</span></p>
<p><span class="math display">\[
k_2 = k_{0,2} \exp{\left(\frac{-E_2}{RT}\right)}\tag{13}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{\dot{n}_A}{\dot{V}_{in}}\tag{14}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{\dot{n}_B}{\dot{V}_{in}}\tag{15}
\]</span></p>
<p><span class="math display">\[
\Delta H_1 = \Delta H_1 \big\vert_{298 \text{ K}} + \left( \hat{C}_{p,D} - \hat{C}_{p,A} - \hat{C}_{p,B} \right)\left(T - 298\right) \tag{16}
\]</span></p>
<p><span class="math display">\[
\Delta H_2 = \Delta H_2 \big\vert_{298 \text{ K}} + \left( \hat{C}_{p,U} - \hat{C}_{p,A} - \hat{C}_{p,B} \right)\left(T - 298\right) \tag{17}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When I solve the ATEs numerically, I’ll also need to provide an initial guess for the solution. I have no idea what the outlet molar flow rates or the outlet temperature will equal. To start, I’ll simply guess that half of the A remains along with an equal amount of B, and that the amounts of D and U are one-tenth the initial amount of A. (These are just guesses; they don’t need to be stoichiometrically consistent.) I expect that the temperature will have the greatest effect with respect to the ATE solver converging, so I’ll just guess that the temperature increases by only 10 K. If the ATE solver does fail to converge, I’ll have to revise these guesses.</p>
<p>At this point, the reactor design equations can be solved numerically to find the unknowns, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span>. In addition to the outlet temperature, the conversion of the limiting reagent and the selectivity for D over U are of interest in this assignment.</p>
<p>The inlet concentration of A is smaller than that of B, so A is the limiting reagent. Its conversion can be calculated using the defining equation for conversion in a flow system. The calculation of the selectivity is straightforward.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Calculating the Quantities of Interest</strong></p>
<p>Solving the reactor design equations yields <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span>. The conversion of A and the selectivity for D over U can be calculated using equations (18) and (19).</p>
<p><span class="math display">\[
f_A = \frac{\dot{n}_{A,in} - \dot{n}_A}{\dot{n}_{A,in}} \tag{18}
\]</span></p>
<p><span class="math display">\[
S_{D/U} = \frac{\dot{n}_D}{\dot{n}_U} \tag{19}
\]</span></p>
<p><strong>Calculations Summary</strong></p>
<ol type="1">
<li>Substitute given and known constants into all equations.</li>
<li>When it is necessary to evaluate the residuals
<ol type="a">
<li><span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(k_1\)</span>, <span class="math inline">\(k_2\)</span>, <span class="math inline">\(C_A\)</span>, <span class="math inline">\(C_B\)</span>, <span class="math inline">\(\Delta H_1\)</span>, and <span class="math inline">\(\Delta H_2\)</span> using equations (10) through (17).</li>
<li>calculate <span class="math inline">\(r_1\)</span> and <span class="math inline">\(r_2\)</span> using equations (3) and (4).</li>
<li>calculate <span class="math inline">\(\epsilon_1\)</span>, <span class="math inline">\(\epsilon_2\)</span>, <span class="math inline">\(\epsilon_3\)</span>, <span class="math inline">\(\epsilon_4\)</span>, <span class="math inline">\(\epsilon_5\)</span> using equations (5) through (9).</li>
</ol></li>
<li>When it is necessary to calculate the quantities of interest, <span class="math inline">\(f_A\)</span> and <span class="math inline">\(S_{D/U}\)</span>
<ol type="a">
<li><span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(f_A\)</span> and <span class="math inline">\(S_{D/U}\)</span> using equations (18) and (19)</li>
</ol></li>
</ol>
</section>
<section id="numerical-implementation-of-the-solution" class="level4" data-number="12.7.1.3">
<h4 data-number="12.7.1.3" class="anchored" data-anchor-id="numerical-implementation-of-the-solution"><span class="header-section-number">12.7.1.3</span> Numerical implementation of the Solution</h4>
<ol type="1">
<li>Make the given and known constants available for use in all functions.</li>
<li>Write a residuals function that
<ol type="a">
<li>receives guess values for <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>evaluates the residuals as described in step 2 of the calculations summary, and</li>
<li>returns the values of the residuals.</li>
</ol></li>
<li>Write a reactor model function that
<ol type="a">
<li>receives, as an argument, an initial guess for the unknowns, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>gets a solution for the ATEs by calling an ATE solver and passing the following information to it
<ol type="i">
<li>the initial guess and</li>
<li>the name of the residuals function from step 2 above, d, checks that the solver converged, and</li>
</ol></li>
<li>returns the values returned by the ATE solver.</li>
</ol></li>
<li>Perform the analysis by
<ol type="a">
<li>setting an initial guess for the unknowns</li>
<li>getting <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_D\)</span>, <span class="math inline">\(\dot{n}_U\)</span>, and <span class="math inline">\(T\)</span> by calling the reactor model function from step 3 above with the initial guess as the argument,</li>
<li>calculating the quantities of interest as described in step 3 of the calculations summary, and</li>
<li>displaying the results.</li>
</ol></li>
</ol>
</section>
<section id="results-and-discussion" class="level4" data-number="12.7.1.4">
<h4 data-number="12.7.1.4" class="anchored" data-anchor-id="results-and-discussion"><span class="header-section-number">12.7.1.4</span> Results and Discussion</h4>
<p>The calculations were performed as described above. The conversion of A is 54.9 %, the selectivity is 8.39 mol D per mol U, and the outlet temperature is 383 K.</p>
<p>The instantaneous selectivity is defined in <a href="section_2_rates_and_expressions.html#eq-def_inst_select" class="quarto-xref">Equation&nbsp;<span>4.5</span></a>. Applying that definition to this system yields equation (20). According to that equation, the only way to increase the selectivity is to increase <span class="math inline">\(k_1\)</span> or decrease <span class="math inline">\(k_2\)</span>. The only way to change the rate coefficients is by changing the temperature, but changing the temperature will change both rate coefficients.</p>
<p><span class="math display">\[
S_{D/U} =  \frac{r_D}{r_U} = \frac{k_1 C_AC_B}{k_2 C_AC_B} = \frac{k_1}{k_2} = \frac{k_{0,1} \exp{\left(\frac{-E_1}{RT}\right)}}{k_{0,2} \exp{\left(\frac{-E_2}{RT}\right)}}  \tag{20}
\]</span></p>
<p>The activation energy for reaction (2) is larger than that for reaction (1), so increasing the temperature will increase <span class="math inline">\(k_2\)</span> more than <span class="math inline">\(k_1\)</span>, resulting in a lower selectivity for D over U. Thus, the selectivity for D over U can be increased by decreasing the temperature. However, if everything else remains fixed, decreasing the temperature will decrease the conversion. That is, decreasing the temperature will increase the selectivity but decrease the conversion while increasing the temperature will decrease the selectivity but increase the conversion.</p>
<p>To verify this prediction, the feed temperature was decreased to 325 K and the calculations were repeated. The selectivity did indeed increase to 10.6 mol D per mol U, and the conversion decreased to 46.7 %. Increasing the temperature to 375 K gives a selectivity of 6.9 mol D per mol U and a conversion of 61.5 %.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-5-contents" aria-controls="callout-5" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-5" class="callout-5-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>When completing reaction engineering assignments involving CSTSs, it is important to be able to determine whether the reactor is transient or at steady-state. If the assignment describes start-up or shut-down or mentions that some parameter was perturbed or suddenly changed, the reactor will be transient. Basically, transient operation occurs following some change to the way the reactor operates.</p>
<p>One situation that can cause confusion when first studying CSTRs is when an assignments asks how a reactor output changes as a reactor input varies. This type of assignment must be read carefully. In many cases the assignment is asking how the steady-state output changes as the steady-state input varies. If the assignment is to calculate the transient change of the output, then the assignment must specify how the input changes. That is it would need to something like “show how the outlet concentration changes if the feed temperature changes by 5 °C min<sup>-1</sup>,” and not just “show how the outlet concentration changes as the feed temperature is varied.”</p>
</div>
</div>
</div>
</section>
</section>
<section id="sec-example_12_7_2" class="level3" data-number="12.7.2">
<h3 data-number="12.7.2" class="anchored" data-anchor-id="sec-example_12_7_2"><span class="header-section-number">12.7.2</span> Gas Phase Reaction in an Adiabatic, Steady-State CSTR</h3>
<p>The amount of A, (10%), in a gas mixture with B (65%), and inert, I, (25%) at 165 °C and 5 atm needs to be reduced to 0.1%. This is going to be accomplished by converting the A into Z according to reaction (1). An adiabatic, steady-state CSTR is going to be used. The rate expression is given in equation (2) where the pre-exponential factor is 1.37 x 10<sup>5</sup> m<sup>3</sup> mol<sup>-1</sup> min<sup>-1</sup> and the activation energy is 11,100 cal mol<sup>-1</sup>. The heat of reaction is constant and equal to -7200 cal mol<sup>-1</sup>, and the heat capacities of A, B, I, and Z are equal to 7.6, 8.2, 4.3, and 13.8 cal mol<sup>-1</sup> K<sup>-1</sup>, respectively. What space time is required, and what temperature will result?</p>
<p><span class="math display">\[
A + B \rightarrow Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_AC_B \tag{2}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-6-contents" aria-controls="callout-6" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-6" class="callout-6-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment involves an isolated CSTR that operates at steady-state. To summarize the assignment, I’ll assign an appropriate variable symbol to each quantity provided in the assignment narrative. This is a gas phase system, so I’ll add values of the ideal gas law in both energy and pressure-volume units. I’ll use a subscripted “in” to designate inlet quantities, and I won’t use an extra subscript for outlet quantities.</p>
</div>
</div>
</div>
<section id="assignment-summary-1" class="level4" data-number="12.7.2.1">
<h4 data-number="12.7.2.1" class="anchored" data-anchor-id="assignment-summary-1"><span class="header-section-number">12.7.2.1</span> Assignment Summary</h4>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(y_{A,in}\)</span> = 0.1, <span class="math inline">\(y_{Bin}\)</span> = 0.65, <span class="math inline">\(y_{I,in}\)</span> = 0.25, <span class="math inline">\(T_{in}\)</span> = 165 °C, <span class="math inline">\(P\)</span> = 5 atm, <span class="math inline">\(y_A\)</span> = 0.001, <span class="math inline">\(k_{0,1}\)</span> = 1.37 x 10<sup>5</sup> m<sup>3</sup> mol<sup>-1</sup> min<sup>-1</sup>, <span class="math inline">\(E_1\)</span> = 11,100 cal mol<sup>-1</sup>, <span class="math inline">\(\Delta H_1\)</span> = –7200 cal mol<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,A}\)</span> = 7.6 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,B}\)</span> = 8.2 cal mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,I}\)</span> = 4.3 cal mol<sup>-1</sup> K<sup>-1</sup>, and <span class="math inline">\(\hat{C}_{p,Z}\)</span> = 13.8 cal mol<sup>-1</sup> K<sup>-1</sup>, and <span class="math inline">\(R\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup> = 8.206 x 10<sup>-5</sup> m<sup>3</sup> atm mol<sup>-1</sup> K<sup>-1</sup>.</p>
<p><strong>Reactor System</strong>: Adiabatic, steady-state CSTR</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(\tau\)</span> and <span class="math inline">\(T\)</span></p>
</section>
<section id="mathematical-formulation-of-the-solution-1" class="level4" data-number="12.7.2.2">
<h4 data-number="12.7.2.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-solution-1"><span class="header-section-number">12.7.2.2</span> Mathematical Formulation of the Solution</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-7-contents" aria-controls="callout-7" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-7" class="callout-7-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I need to generate the reactor design equations. This reactor operates at steady-state and is adiabatic. The reactor design equations always include at least one mole balance. I’ll simply write a mole balance for every reagent. The general form of the steady-state CSTR mole balance design equation is given in <a href="section_3_react_eng_models.html#eq-cstr_ss_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.31</span></a>. In this assignment there is only one reaction, so the summation reduces to a single term. There isn’t any Z in the feed, so <span class="math inline">\(\dot{n}_{Z,in}\)</span> is equal to zero.</p>
<p><span class="math display">\[
0 = \dot n_{i,in} - \dot n_i + V \cancelto{\nu_{i,1}r_1}{\sum_j \nu_{i,j}r_j}
\]</span></p>
<p>The reactor isn’t isothermal, so I can’t solve the mole balances independently of an energy balance on the reacting fluid. The general form of the steady-state energy balance is given in <a href="section_3_react_eng_models.html#eq-cstr_ss_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.32</span></a>. This reactor is adiabatic, so the rate of heat exchange, <span class="math inline">\(\dot{Q}\)</span>, is zero. There aren’t any shafts or moving boundaries doing work, so assuming the energy associated with mixing the gases is negligible, the power term, <span class="math inline">\(\dot{W}\)</span>, is also equal to zero. The heat capacities are constants, so they can be taken outside of the integral, making it trivial to evaluate the integral. Finally, there is only one reaction taking place, so the final summation reduces to a single term.</p>
<p><span class="math display">\[
0 = \cancelto{0}{\dot Q} - \cancelto{0}{\dot W} - \sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT - V\sum_j r_j \Delta H_j
\]</span></p>
<p><span class="math display">\[
0 = -\left(\dot{n}_{A,in}\hat{C}_{p,A} + \dot{n}_{B,in}\hat{C}_{p,B} + \dot{n}_{I,in}\hat{C}_{p,I} \right)\left(T - T_{in}\right) - Vr_1 \Delta H_1
\]</span></p>
<p>There isn’t a heat exchange fluid, so a heat exchange fluid energy balance is not needed. The design equations as written here are already in the form of residual expressions, so they are ready for numerical solution.</p>
</div>
</div>
</div>
<p><strong>Reactor Design Equations</strong></p>
<p>Residual expressions corresponding to mole balance design equations for A, B, I, and Z are presented in equations (3) - (6). The energy balance on the reacting gas is given as a residual expression in equation (7).</p>
<p><span class="math display">\[
0 = \dot n_{A,in} - \dot n_A - Vr_1 = \epsilon_1 \tag{3}
\]</span></p>
<p><span class="math display">\[
0 = \dot n_{B,in} - \dot n_B - Vr_1 = \epsilon_2 \tag{4}
\]</span></p>
<p><span class="math display">\[
0 = \dot n_{I,in} - \dot n_I = \epsilon_3 \tag{5}
\]</span></p>
<p><span class="math display">\[
0 = - \dot n_Z + Vr_1 = \epsilon_4 \tag{6}
\]</span></p>
<p><span class="math display">\[
0 = -\left(\dot{n}_{A,in}\hat{C}_{p,A} + \dot{n}_{B,in}\hat{C}_{p,B} + \dot{n}_{I,in}\hat{C}_{p,I} \right)\left(T - T_{in}\right) - Vr_1 \Delta H_1 = \epsilon_5 \tag{7}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-8-contents" aria-controls="callout-8" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-8" class="callout-8-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>At this point I have five reactor design equations, so I can solve them to find five unknown quantities. Usually I solve for the outlet molar flow rates and the outlet temperature, but in this assignment I’m given the outlet mole fraction of A. That means that I can calculate the outlet molar flow of A using its outlet mole fraction. Also, the assignment is to find the space time, but the space time doesn’t appear in the design equations. However, the volume does appear in the design equations, it is unknown, and it is related to the space time. So I’ll solve the five reactor design equations for <span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>, and then, knowing <span class="math inline">\(V\)</span>, I’ll calculate the space time using <a href="section_3_react_eng_models.html#eq-space_time" class="quarto-xref">Equation&nbsp;<span>6.1</span></a>.</p>
<p><span class="math display">\[
\tau = \frac{V}{\dot V_{in}}
\]</span></p>
<p>To do that, I’ll need to know the inlet volumetric flow rate, but the inlet volumetric flow rate isn’t given in the assignment. Looking more carefully at the assignment summary, I see that all of the given and known quantities are intensive. That is, they do not establish the size of the system. In that situation I am free to choose the value of one extensive quantity as a basis for my calculations. I’ll use an inlet volumetric flow rate of 1 m<sup>3</sup> min<sup>-1</sup> as my basis. That way I’ll be able to calculate the space time after solving the design equations for <span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>.</p>
<p>In order to solve the ATEs numerically I’ll need to do two things: calculate the values of the residuals for each guess and provide an initial guess. I’ll need to evaluate the residuals each time a new guess for the solution is generated. At that point, values for each of the unknowns (<span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>) will be available along with the given and known constants. I will need to calculate any other quantities that appear in the residual expressions. Looking at equations (3) through (7) I see that for this assignment I’ll need to calculate the inlet molar flow rates, <span class="math inline">\(\dot{n}_{i,in}\)</span>, the outlet molar flow rate of A, <span class="math inline">\(\dot{n}_A\)</span>, and the rate, <span class="math inline">\(r_1\)</span>.</p>
<p>Having chosen an inlet volumetric flow rate, I can use the ideal gas law to calculate the inlet molar flow rates. The inlet mole fractions of A, B, and I sum to 1, so the inlet mole fraction of Z must equal zero.</p>
<p><span class="math display">\[
\dot{n}_{i,in} = y_{i,in}\frac{P\dot{V}_{in}}{RT}
\]</span></p>
<p>The outlet molar flow rate of A can be calculated using its known outlet mole fraction.</p>
<p><span class="math display">\[
y_A = \frac{\dot{n}_A}{\dot{n}_A + \dot{n}_B + \dot{n}_I + \dot{n}_Z} \qquad \Rightarrow \qquad \dot{n}_A = \frac{\left(\dot{n}_B + \dot{n}_I + \dot{n}_Z\right)y_A}{1-y_A}
\]</span></p>
<p>The rate can be calculated using equaion (2), but to do that I must calculate the rate coefficient and the outlet concentrations of A and B. The former can be accomplished using the outlet temperature in the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>. For the outlet concentrations I can again use the ideal gas law.</p>
<p><span class="math display">\[
k_j = k_{0,j} \exp{\left(  \frac{-E_j}{RT_{in}} \right)}
\]</span></p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_i}{\dot{V}} = \frac{\dot{n}_i}{\sum_i\dot{n}_i}\frac{P}{RT}
\]</span></p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Residuals</strong></p>
<p><span class="math display">\[
\dot{V}_{in} = 1 \text{ m}^3 \text{ min}^{-1} \left(\text{basis}\right) \tag{8}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{A,in} = y_{A,in}\frac{P\dot{V}_{in}}{RT_{in}} \tag{9}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,in} = y_{B,in}\frac{P\dot{V}_{in}}{RT_{in}} \tag{10}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{I,in} = y_{I,in}\frac{P\dot{V}_{in}}{RT_{in}} \tag{11}
\]</span></p>
<p><span class="math display">\[
\dot{n}_A = \frac{\left(\dot{n}_B + \dot{n}_I + \dot{n}_Z\right)y_A}{1-y_A} \tag{12}
\]</span></p>
<p><span class="math display">\[
k_1 = k_{0,1}\exp{\left(\frac{-E_1}{RT}\right)} \tag{13}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{\dot{n}_A}{\dot{n}_A + \dot{n}_B + \dot{n}_I + \dot{n}_Z}\frac{P}{RT} \tag{14}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{\dot{n}_B}{\dot{n}_A + \dot{n}_B + \dot{n}_I + \dot{n}_Z}\frac{P}{RT} \tag{15}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-9-contents" aria-controls="callout-9" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-9" class="callout-9-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When I solve the ATEs numerically, I’ll also need to provide an initial guess for the solution. I’ll just guess that the volume is 1 m<sup>3</sup>. I know that the molar flow rate of B will decrease and that of Z will increase, but I don’t know by how much. The reaction is exothermic and the reactor is adiabatic, so I know the temperature will increase, but again I don’t know by how much. I’ll start with small guesses for the changes. If the ATE solver doesn’t converge (and I can’t find any typos or other errors in my computer code), I’ll try changing the guesses until it does.</p>
<p>When it does converge, the outlet molar flow rates and temperature, <span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be known. <span class="math inline">\(T\)</span> is one of the quantities of interest. The other is the space time which can be calculated using its defining equation.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Calculating the Quantities of Interest</strong></p>
<p>Solving the reactor design equations yields <span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>. The space time can be calculated using equation (15).</p>
<p><span class="math display">\[
\tau = \frac{V}{\dot V_{in}} \tag{16}
\]</span></p>
<p><strong>Calculations Summary</strong></p>
<ol type="1">
<li>Substitute the basis, equation (8), given and known constants into all equations.</li>
<li>When it is necessary to evaluate the residuals
<ol type="a">
<li><span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_{B,in}\)</span>, <span class="math inline">\(\dot{n}_{I,in}\)</span>, <span class="math inline">\(k_1\)</span>, <span class="math inline">\(C_A\)</span> and <span class="math inline">\(C_B\)</span> using equations (9) through (15)</li>
<li>calculate <span class="math inline">\(r_1\)</span> using equation (2)</li>
<li>evaluate the residuals, <span class="math inline">\(\epsilon_1\)</span> through <span class="math inline">\(\epsilon_5\)</span> using equations (3) through (7)</li>
</ol></li>
<li>When it is necessary to calculate the quantities of interest, <span class="math inline">\(\tau\)</span> and <span class="math inline">\(T\)</span>,
<ol type="a">
<li><span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(\tau\)</span> using equation (16).</li>
</ol></li>
</ol>
</section>
<section id="numerical-implementation-of-the-solution-1" class="level4" data-number="12.7.2.3">
<h4 data-number="12.7.2.3" class="anchored" data-anchor-id="numerical-implementation-of-the-solution-1"><span class="header-section-number">12.7.2.3</span> Numerical implementation of the Solution</h4>
<ol type="1">
<li>Make the given and known constants and the chosen basis available for use in all functions.</li>
<li>Write a residuals function that
<ol type="a">
<li>receives guess values for <span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>evaluates the residuals as described in step 2 of the calculations summary, and</li>
<li>returns the values of the residuals.</li>
</ol></li>
<li>Write a reactor model function that
<ol type="a">
<li>receives an initial guess for the unknowns, <span class="math inline">\(V\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_I\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>gets a solution of the ATEs by calling an ATE solver and passing the following information to it
<ol type="i">
<li>the initial guess and</li>
<li>the name of the residuals function from step 2 above,</li>
</ol></li>
<li>checks that the solver converged, and</li>
<li>returns the values returned by the ATE solver.</li>
</ol></li>
<li>Perform the analysis by
<ol type="a">
<li>setting the initial guess,</li>
<li>passing that guess to the reactor model function from step 3 above to get the outlet molar flow rates and temperature,</li>
<li>calculating the quantities of interest as described in step 3 of the calculations summary,</li>
<li>reporting the results</li>
</ol></li>
</ol>
</section>
<section id="results-and-discussion-1" class="level4" data-number="12.7.2.4">
<h4 data-number="12.7.2.4" class="anchored" data-anchor-id="results-and-discussion-1"><span class="header-section-number">12.7.2.4</span> Results and Discussion</h4>
<p>The calculations were performed as described above. The necessary space time is 0.416 min, and the outlet gas temperature is 265 °C. This analysis was quite straightforward, and as expected on the basis of a qualitative analysis, the temperature did increase.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-10-contents" aria-controls="callout-10" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-10" class="callout-10-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>Even though the analysis in this assignment was very straightforward, there is an important point to recognize. Very often, CSTRs are used to process liquid feeds. Assuming the liquids to be ideal, incompressible solutions makes the volumetric flow rate constant; there is no expansion or contraction of the fluid. The concentrations that are substituted into the rate expressions are simply the outlet molar flow rate divided by the outlet volumetric flow rate, and since the volumetric flow rate is constant, the inlet and outlet volumetric flow rates are equal.</p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_{i}}{\dot{V}} \qquad \underset{\text{liquids}}{\Rightarrow} \qquad \frac{\dot{n}_{i}}{\dot{V}_{in}}
\]</span></p>
<p>Generaly, for gas phase reacting fluids, the inlet and outlet volumetric flow rates are <strong>not</strong> equal. Setting the concentration equal to the molar flow rate divided by the <u>inlet</u> volumetric flow rate of a gas will result in an incorrect solution of the reactor design equations. Instead the volumetric flow rate must be calculated using the ideal gas law as was done in equations (13) and (14).</p>
</div>
</div>
</div>
</section>
</section>
<section id="sec-example_12_7_3" class="level3" data-number="12.7.3">
<h3 data-number="12.7.3" class="anchored" data-anchor-id="sec-example_12_7_3"><span class="header-section-number">12.7.3</span> Maximizing Conversion for a Reversible Reaction in a Steady-State CSTR</h3>
<p>To produce Z, equation (1), reagent A will be fed to a 0.5 m<sup>3</sup> adiabatic, steady state CSTR at 70 mol s<sup>-1</sup> and B will be fed at 1500 mol s<sup>-1</sup> giving a total liquid feed rate of 40 L s<sup>-1</sup>. The rate expression is given in equation (2), where the pre-exponential factor for the rate coefficient is 1.2 x 10<sup>9</sup> m<sup>3</sup> mol<sup>-1</sup> s<sup>-1</sup> and the activation energy is 25.8 kcal mol<sup>-1</sup>. The equilibrium constant appearing in the rate expression can be calculated using equation (3), where the pre-exponential factor is 4.2 x 10<sup>-18</sup> m<sup>3</sup> mol<sup>-1</sup> and the heat of reaction is -22.4 kcal mol<sup>-1</sup>. The heat capacities of A, B, and Z are 412, 75.5, and 512 J mol<sup>-1</sup> K<sup>-1</sup>, respectively, and may be taken to be independent of temperature. What feed temperature will maximize the conversion of A?</p>
<p><span class="math display">\[
A + B \rightarrow Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_AC_B\left( 1 - \frac{C_Z}{K_1C_AC_B}\right) \tag{2}
\]</span></p>
<p><span class="math display">\[
K_1 = K_{0,1}\exp{\frac{-\Delta H_1}{RT}} \tag{3}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-11-contents" aria-controls="callout-11" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-11" class="callout-11-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This problem describes an isolated, steady-state CSTR and asks for the feed temperature that will maximize the conversion of the reactant, A. To summarize the assignment, I will read through the assignment narrative and assign an appropriate variable symbol to each quantity that is given. I’ll also list the ideal gas constant, since I know I’ll need it. While the assignment only asks for the optimum feed temperature, I’ll also calculate the corresponding conversion.</p>
</div>
</div>
</div>
<section id="assignment-summary-2" class="level4" data-number="12.7.3.1">
<h4 data-number="12.7.3.1" class="anchored" data-anchor-id="assignment-summary-2"><span class="header-section-number">12.7.3.1</span> Assignment Summary</h4>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(V\)</span> = 0.5 m<sup>3</sup>, <span class="math inline">\(\dot{n}_{A,in}\)</span> = 70 mol s<sup>-1</sup>, <span class="math inline">\(\dot{n}_{B,in}\)</span> 1500 mol s<sup>-1</sup>, <span class="math inline">\(\dot{V}_{in}\)</span> = 40 L s<sup>-1</sup> <span class="math inline">\(k_{0,1}\)</span> = 1.2 x 10<sup>9</sup> m<sup>3</sup> mol<sup>-1</sup> s<sup>-1</sup>, <span class="math inline">\(E_1\)</span> = 25.8 kcal mol<sup>-1</sup>, <span class="math inline">\(K_{0.1}\)</span> = 4.2 x 10<sup>-18</sup> m<sup>3</sup> mol<sup>-1</sup>, <span class="math inline">\(\Delta H_1\)</span> = –22.4 kcal mol<sup>-1</sup> <span class="math inline">\(\hat{C}_{p,A}\)</span> = 412 J mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,B}\)</span> = 75.5 J mol<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\hat{C}_{p,Z}\)</span> = 512 J mol<sup>-1</sup> K<sup>-1</sup>, and <span class="math inline">\(R\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup>.</p>
<p><strong>Reactor System</strong>: Adiabatic, steady-state CSTR</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(T_{in,opt} = \underset{T_{in}}{\arg\max}\left( f_A \right)\)</span>, <span class="math inline">\(f_A \big\vert_{T_{in,opt}}\)</span></p>
</section>
<section id="mathematical-formulation-of-the-solution-2" class="level4" data-number="12.7.3.2">
<h4 data-number="12.7.3.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-solution-2"><span class="header-section-number">12.7.3.2</span> Mathematical Formulation of the Solution</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-12-contents" aria-controls="callout-12" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-12" class="callout-12-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>If I’m going to model the reactor, I’ll need the reactor design equations. I always just write a mole balance on every reagent. The general form of the steady-state CSTR mol balance is given in <a href="section_3_react_eng_models.html#eq-cstr_ss_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.31</span></a>. In this system there isn’t any Z in the feed, so <span class="math inline">\(\dot{n}_{Z,in}\)</span> is zero. Only one reaction takes place, so the summation reduces to a single term.</p>
<p><span class="math display">\[
0 = \dot n_{i,in} - \dot n_i + V \cancelto{\nu_{i,1}r_1}{\sum_j \nu_{i,j}r_j}
\]</span></p>
<p>The general form of the steady-state CSTR reacting fluid energy balance is given in <a href="section_3_react_eng_models.html#eq-cstr_ss_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.32</span></a>. This reactor is adiabatic, so <span class="math inline">\(\dot{Q}\)</span> is equal to zero. There aren’t any shafts or moving boundaries that are doing work, so assuming the energy associated with agitation of the reaction fluid to be negligible, <span class="math inline">\(\dot{W}\)</span> is equal to zero. The heat capacities are constant. They can be taken outside of the integral and the integral can be evaluated. Since only one reaction is taking place, the final summation reduces to a single term.</p>
<p><span class="math display">\[
0 = \cancelto{0}{\dot Q} - \cancelto{0}{\dot W} - \sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT - V\sum_j r_j \Delta H_j
\]</span></p>
<p><span class="math display">\[
0 = -\left(\dot{n}_{A,in} \hat{C}_{p,A} + \dot{n}_{B,in} \hat{C}_{p,B} \right)\left( T - T_{in}\right) - Vr_1 \Delta H_1
\]</span></p>
</div>
</div>
</div>
<p><strong>Reactor Design Equations</strong></p>
<p>Residual expressions corresponding to mole balance design equations for A, B, and Z are presented in equations (4), (5), and (6). A residual expression corresponding to the energy balance on the reacting fluid is given in equation (7).</p>
<p><span class="math display">\[
0 = \dot n_{A,in} - \dot n_A - Vr_1 = \epsilon_1 \tag{4}
\]</span></p>
<p><span class="math display">\[
0 = \dot n_{B,in} - \dot n_B - Vr_1 = \epsilon_2 \tag{5}
\]</span></p>
<p><span class="math display">\[
0 = - \dot n_Z + Vr_1 = \epsilon_3 \tag{6}
\]</span></p>
<p><span class="math display">\[
0 = -\left(\dot{n}_{A,in} \hat{C}_{p,A} + \dot{n}_{B,in} \hat{C}_{p,B} \right)\left( T - T_{in}\right) - Vr_1 \Delta H_1 = \epsilon_4 \tag{7}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-13-contents" aria-controls="callout-13" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-13" class="callout-13-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I will solve the reactor design equations for the outlet molar flow rates and the outlet temperature using a range of values for <span class="math inline">\(T_{in}\)</span> in order to find the value of <span class="math inline">\(T_{in}\)</span> where the conversion is maximized. In order to solve the ATEs numerically I’ll need to do two things: calculate the values of the residuals for each guess and provide an initial guess.</p>
<p>I’ll need to evaluate the residuals each time a new guess for the solution is generated. At that point, values for <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available along with the given and known constants. I will need to calculate any other quantities that appear in the residuals expressions.</p>
<p>Looking at equations (4) through (7), I see that the only thing I’ll need to calculate is the rate, <span class="math inline">\(r_1\)</span>. I can use equation (2) for that, but that means I’ll also need to calculate <span class="math inline">\(k_1\)</span>, <span class="math inline">\(K_1\)</span>, and the outlet concentrations of A, B, and Z. (I’ll be choosing a range of values for <span class="math inline">\(T_{in}\)</span> and solving the design equations for each value in the range, so <span class="math inline">\(T_{in}\)</span> will be known.) The rate coefficient can be calculated using the outlet temperature in the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>. The equilibrium constant can be calculated using equation (3). The outlet concentrations can be calculated using the definition of concentration for an open system, <a href="section_1_rxns_reactors.html#eq-concentration_open" class="quarto-xref">Equation&nbsp;<span>2.15</span></a>. Assuming the reaction fluid to be an ideal, incompressible liquid, the outlet volumetric flow rate is equal to the inlet volumetric flow rate.</p>
<p><span class="math display">\[
C_i = \frac{\dot n_i}{\dot V} = \frac{\dot n_i}{\dot{V}_{in}}
\]</span></p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Residuals</strong></p>
<p><span class="math display">\[
k_1 = k_{0,1} \exp{\left(  \frac{-E_1}{RT} \right)} \tag{8}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{n_A}{\dot{V}_{in}} \tag{9}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{n_B}{\dot{V}_{in}} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_Z = \frac{n_Z}{\dot{V}_{in}} \tag{11}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-14-contents" aria-controls="callout-14" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-14" class="callout-14-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When I solve the ATEs numerically, I’ll also need to provide an initial guess for the solution. I know that the outlet molar flow rates of A and B will be smaller than their inlet values and that the outlet molar flow rate of Z will be greater than zero. The reaction is exothermic and the reactor is adiabatic, so I also know that the outlet temperature will be larger than the inlet temperature. I will guess that the changes are small. If I encounter convergence problems with the ATE solver, I’ll come back and try different guesses.</p>
<p>I’ll solve the reactor design equations using a range of values for <span class="math inline">\(T_{in}\)</span>. Doing so each time will yield <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>. the conversion can then be calculated using its definition. After the conversion has been calculated for every <span class="math inline">\(T_{in}\)</span> in the chosen range, the results can be used to identify the maximum conversion and the corresponding inlet temperature.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Calculating the Quantities of Interest</strong></p>
<p>The reactor design equations will be solved to find <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> using a range of values for the inlet temperature. Each time they are solved, the conversion will be calculated using equation (12). The results can then be used to find the feed temperature that maximizes the conversion, equation (13), and the corresponding maximum conversion, equation (14).</p>
<p><span class="math display">\[
f_A = \frac{\dot{n}_{A,in} - \dot{n}_A}{\dot{n}_{A,in}} \tag{12}
\]</span></p>
<p><span class="math display">\[
T_{in,opt} = \underset{T_{in}}{\arg\max}\left( f_A \right)\tag{13}
\]</span></p>
<p><span class="math display">\[
f_{A,max} = f_A \big\vert_{T_{in,opt}}\tag{14}
\]</span></p>
<p><strong>Calculations Summary</strong></p>
<ol type="1">
<li>Substitute given and known constants into all equations.</li>
<li>When it is necessary to evaluate the residuals
<ol type="a">
<li><span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(k_1\)</span>, <span class="math inline">\(K_1\)</span>, <span class="math inline">\(C_A\)</span>, <span class="math inline">\(C_B\)</span>, and <span class="math inline">\(C_Z\)</span> using equations (3) and (8) through (11).</li>
<li>calculate <span class="math inline">\(r_1\)</span> using equation (2).</li>
<li>evaluate the residuals, <span class="math inline">\(\epsilon_1\)</span>, <span class="math inline">\(\epsilon_2\)</span>, <span class="math inline">\(\epsilon_3\)</span>, and <span class="math inline">\(\epsilon_4\)</span> using equations (4) through (7)</li>
</ol></li>
<li>When it is necessary to calculate the quantities of interest
<ol type="a">
<li><span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available for a range of values of <span class="math inline">\(T_{in}\)</span>.</li>
<li>calculate <span class="math inline">\(f_A\)</span> for each value of <span class="math inline">\(T_{in}\)</span> using equation (12).</li>
<li>identify <span class="math inline">\(T_{in,opt}\)</span> using equation (13).</li>
<li>calculate <span class="math inline">\(f_{A,max}\)</span> using equation (14).</li>
</ol></li>
</ol>
</section>
<section id="numerical-implementation-of-the-solution-2" class="level4" data-number="12.7.3.3">
<h4 data-number="12.7.3.3" class="anchored" data-anchor-id="numerical-implementation-of-the-solution-2"><span class="header-section-number">12.7.3.3</span> Numerical implementation of the Solution</h4>
<ol type="1">
<li>Make the given and known constants available for use in all functions.</li>
<li>Write a residuals function that
<ol type="a">
<li>receives guess values for <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>evaluates the residuals as described in step 2 of the calculations summary, and</li>
<li>returns the values of the residuals.</li>
</ol></li>
<li>Write a reactor model function that
<ol type="a">
<li>receives an initial guess for the unknowns, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>solves the ATEs by calling an ATE solver and passing the following information to it
<ol type="i">
<li>the initial guess and</li>
<li>the name of the residuals function from step 2 above,</li>
</ol></li>
<li>checks that the solver converged, and</li>
<li>returns the values returned by the ATE solver.</li>
</ol></li>
<li>Perform the analysis by
<ol type="a">
<li>setting a range of values for <span class="math inline">\(T_{in}\)</span> and for each value in the range
<ol type="i">
<li>make it available to all functions,</li>
<li>set a guess for the unknowns</li>
<li>get <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> by calling the reactor model function from step 3 above,</li>
<li>calculate the conversion as described in step 3 of the calculations summary,</li>
</ol></li>
<li>finding the optimum inlet temperature and the corresponding maximum conversion as described in step 3 of the calculations summary</li>
<li>reporting the results</li>
</ol></li>
</ol>
</section>
<section id="results-and-discussion-2" class="level4" data-number="12.7.3.4">
<h4 data-number="12.7.3.4" class="anchored" data-anchor-id="results-and-discussion-2"><span class="header-section-number">12.7.3.4</span> Results and Discussion</h4>
<p>The calculations were performed as described above. The conversion is plotted as a function of the feed temperature in <a href="#fig-example_12_7_3_figure" class="quarto-xref">Figure&nbsp;<span>12.5</span></a>. The maximum conversion, 33.1 %, occurs at an inlet temperature of 94.7 °C. When that inlet temperature is used, the outlet temperature is 110 °C.</p>
<div id="fig-example_12_7_3_figure" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_3_figure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_3/fA_vs_Tin.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_3_figure-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.5: Variation in the conversion as the inlet temperature changes.
</figcaption>
</figure>
</div>
<p><strong>Qualitative Analysis</strong></p>
<p>The results shown in <a href="#fig-example_12_7_3_figure" class="quarto-xref">Figure&nbsp;<span>12.5</span></a> are reasonable. For any feed temperature heat will be released by reaction leading to an outlet temperature that is greater than the inlet temperature. The rate expression, equation (2), contains two temperature dependent terms, namely the rate coefficient, <span class="math inline">\(k_1\)</span>, and the equilibrium constant, <span class="math inline">\(K_1\)</span>. The rate coefficient increases as the temperature increases, but the equilibrium constant decreases. Looking at the rate expression, the rate will increase as <span class="math inline">\(k_1\)</span> increases. As <span class="math inline">\(K_1\)</span> decreases with increasing temperature, the second term in parentheses increases. Because the second term is being subtracted from 1, the term in parentheses decreases. To summarize, as the temperature increases, <span class="math inline">\(k_1\)</span> increases and this alone would cause the rate to increase. As the temperature increases <span class="math inline">\(K_1\)</span> decreases, and this alone would cause the rate to decrease.</p>
<p>At lower feed temperatures, the reaction has not come close to equilibrium. As the temperature increases, the effect upon <span class="math inline">\(k_1\)</span> predominates and the rate increases. Consequently, the conversion increases. At intermediate feed temperatures, the reaction begins to approach thermodynamic equilibrium. As the temperature increases both <span class="math inline">\(k_1\)</span> and <span class="math inline">\(K_1\)</span> affect the rate, and consequently the rate, and by extension, the conversion, rises less steeply. At some temperature, the effects of <span class="math inline">\(k_1\)</span> and <span class="math inline">\(K_1\)</span> on the rate become equal and the rate (and conversion) reaches a maximum. At still higher temperatures, the reaction becomes close to thermodynamic equilibrium. At this point, as the temperature increases, the effect of <span class="math inline">\(K_1\)</span> predominates and the rate, while still positive, decreases with increasing temperature. Consequently, as the rate decreases, the conversion decreases.</p>
</section>
</section>
<section id="sec-example_12_7_4" class="level3" data-number="12.7.4">
<h3 data-number="12.7.4" class="anchored" data-anchor-id="sec-example_12_7_4"><span class="header-section-number">12.7.4</span> Multiple Steady States in a CSTR</h3>
<p>An adiabatic, steady-state CSTR with a volume of 500 cm<sup>3</sup> is going to be used to convert A and B into Y and Z. A liquid- solution flowing at 1.0 cm<sup>3</sup> s<sup>-1</sup> and containing equal amounts of A and B (0.015 mol cm<sup>-3</sup>) at 50 °C will be used. The heat capacity of the fluid is essentially equal to that of the solvent, 0.35 cal g<sup>-1</sup> K<sup>-1</sup> and can be considered to be constant. The (constant) density of the fluid is 0.93 gm cm<sup>-3</sup>. The rate expression for reaction (1) is given in equation (2), and the heat of reaction (1) may be assumed to be constant and equal to -20 kJ mol<sup>-1</sup>. The pre-exponential factor is 3.24 x 10<sup>12</sup> cm<sup>3</sup> mol<sup>-1</sup> s<sup>-1</sup>, and the activation energy is 105.0 kJ mol<sup>-1</sup>. At these conditions three different steady states are possible; determine the conversion and outlet temperature for each of them.</p>
<p><span class="math display">\[
A + B \rightarrow Y + Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_AC_B \tag{2}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-15-contents" aria-controls="callout-15" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-15" class="callout-15-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment entails analysis of an isolated, steady-state CSTR. To summarize the assignment I will assign appropriate variable symbols to each quantity given in the assignment narrative. I will use a subscripted “in” to denote quantities associated with the feed.</p>
</div>
</div>
</div>
<section id="assignment-summary-3" class="level4" data-number="12.7.4.1">
<h4 data-number="12.7.4.1" class="anchored" data-anchor-id="assignment-summary-3"><span class="header-section-number">12.7.4.1</span> Assignment Summary</h4>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(V\)</span> = 500 cm<sup>3</sup>, <span class="math inline">\(\dot{V}_{in}\)</span> = 1.0 cm<sup>3</sup> s<sup>-1</sup>, <span class="math inline">\(C_{A,in}\)</span> = 0.015 mol cm<sup>-3</sup>, <span class="math inline">\(C_{B,in}\)</span> = 0.015 mol cm<sup>-3</sup>, <span class="math inline">\(T_{in}\)</span> = 50 °C, <span class="math inline">\(\tilde{C}_p\)</span> = 0.35 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\rho\)</span> = 0.93 gm cm<sup>-3</sup>, <span class="math inline">\(\Delta H_1\)</span> = –20 kJ mol<sup>-1</sup>, <span class="math inline">\(k_{0,1}\)</span> = 3.24 x 10<sup>12</sup> cm<sup>3</sup> mol<sup>-1</sup> s<sup>-1</sup>, <span class="math inline">\(E_1\)</span> = 105.0 kJ mol<sup>-1</sup>, and <span class="math inline">\(R\)</span> = 8.314 J mol<sup>-1</sup> K<sup>-1</sup>.</p>
<p><strong>Reactor System</strong>: Adiabatic, steady-state CSTR</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(f_A\)</span> and <span class="math inline">\(T\)</span> for each of 3 steady states</p>
</section>
<section id="mathematical-formulation-of-the-solution-3" class="level4" data-number="12.7.4.2">
<h4 data-number="12.7.4.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-solution-3"><span class="header-section-number">12.7.4.2</span> Mathematical Formulation of the Solution</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-16-contents" aria-controls="callout-16" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-16" class="callout-16-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In order to model the reactor, I need to generate the reactor design equations. I’ll start with mole balances on each reagent since mole balances are always needed. The general form of the steady-state CSTR mole balance is given in <a href="section_3_react_eng_models.html#eq-cstr_ss_mole_balance" class="quarto-xref">Equation&nbsp;<span>6.31</span></a>. In this system, only A and B are present in the feed, so <span class="math inline">\(\dot{n}_{Y,in}\)</span> and <span class="math inline">\(\dot{n}_{Z,in}\)</span> are equal to zero. There is a single reaction, so the summation reduces to a single term.</p>
<p><span class="math display">\[
0 = \dot n_{i,in} - \dot n_i + V \cancelto{\nu_{i,1}r_1}{\sum_j \nu_{i,j}r_j}
\]</span></p>
<p>The reactor is not isothermal, so the mole balances cannot be solved independently. An energy balance on the reacting fluid is needed. <a href="section_3_react_eng_models.html#eq-cstr_ss_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.32</span></a> gives the general form of the reacting fluid energy balance for a steady-state CSTR. The reactor is adiabatic and there are no shafts or moving boundaries that are performing work, so <span class="math inline">\(\dot{Q}\)</span> and <span class="math inline">\(\dot{W}\)</span> are equal to zero. The sum over the molar heat capacities can be replaced with the overall gravimetric heat capacity. It’s a constant and can be taken outside of the integrals, and the integral can be evaluated. There is only one reaction, so the final summation reduces to a single term.</p>
<p><span class="math display">\[
0 = \cancelto{0}{\dot Q} - \cancelto{0}{\dot W} - \cancelto{\dot{V}_{in} \rho \tilde{C}_p \left(T - T_{in}\right)}{\sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT} - V\cancelto{r_1 \Delta H_1}{\sum_j r_j \Delta H_j}
\]</span></p>
<p>There isn’t a heat exchange fluid, so an exchange fluid energy balance is not needed.</p>
</div>
</div>
</div>
<p><strong>Reactor Design Equations</strong></p>
<p>Mole balance design equations for A, B, Y, and Z are presented as residual expressions in equations (3) - (6). The energy balance on the reacting fluid is given in equation (7).</p>
<p><span class="math display">\[
0 = \dot n_{A,in} - \dot n_A - Vr_1 = \epsilon_1 \tag{3}
\]</span></p>
<p><span class="math display">\[
0 = \dot n_{B,in} - \dot n_B - Vr_1 = \epsilon_2 \tag{4}
\]</span></p>
<p><span class="math display">\[
0 = - \dot n_Y + Vr_1 = \epsilon_3 \tag{5}
\]</span></p>
<p><span class="math display">\[
0 = - \dot n_Z + Vr_1 = \epsilon_4 \tag{6}
\]</span></p>
<p><span class="math display">\[
0 = -\dot{V}_{in} \rho \tilde{C}_p \left( T - T_{in}\right) - Vr_1 \Delta H_1 = \epsilon_5 \tag{7}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-17-contents" aria-controls="callout-17" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-17" class="callout-17-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I will solve the reactor design equations for <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>. They are ATEs, so in order to solve them numerically I’ll need to do two things: calculate the values of the residuals for each guess and provide an initial guess.</p>
<p>I’ll need to evaluate the residuals each time a new guess for the solution is generated. At that point, values for <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available along with the given and known constants. I will need to calculate any other quantities that appear in the residuals expressions.</p>
<p>Examination of equations (3) through (7) shows that for this system I’ll need to calculate the inlet molar flow rates and the reaction rate. The inlet volumetric flow rate and the inlet concentrations are given, so I can calculate the inlet molar flow rates using the defining equation for concentration in a open system.</p>
<p><span class="math display">\[
C_{i,in} = \frac{\dot{n}_{i,in}}{\dot{V}_{in}} \qquad \Rightarrow \qquad \dot{n}_{i,in} = \dot{V}_{in}C_{i,in}
\]</span></p>
<p>The rate can be calculated using equation (2). In order to use that equation I’ll first need to calculate the rate coefficient and the outlet concentrations of A and B. The rate coefficient can be calculated using the outlet temperature in the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>. The outlet concentrations can be calculated using the defining equation for concentration in an open system. Here the fluid may be assumed to be an incompressible liquid, so the inlet and outlet volumetric flow rates are equal.</p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_i}{\dot{V}} = \frac{\dot{n}_i}{\dot{V}_{in}}
\]</span></p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Residuals</strong></p>
<p><span class="math display">\[
\dot{n}_{A,in} = \dot{V}_{in} C_{A,in} \tag{8}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,in} = \dot{V}_{in} C_{B,in} \tag{9}
\]</span></p>
<p><span class="math display">\[
k_1 = k_{0,1} \exp{\left( \frac{-E_!}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{\dot n_A}{\dot{V}_{in}} \tag{11}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{\dot n_B}{\dot{V}_{in}} \tag{12}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-18-contents" aria-controls="callout-18" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-18" class="callout-18-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When I solve the ATEs numerically, I’ll also need to provide an initial guess for the solution. In this assignment, I need to find three different solutions of the design equations. For reasons I won’t go into here (but related to the fact that the middle steady state is unstable), I expect the middle steady state to be the most difficult to find.</p>
<p>I expect the molar flow rates of A and B to decrease, the molar flow rates of Y and Z to increase, and the temperature to increase (exothermic reaction in an adiabatic reactor). As a first guess, I’ll use small values for the changes. Once I’ve converged to the low temperature steady state, I’ll increase the temperature guess by 100 °C and also increase the guesses for the changes in the molar flow rates. I may need to revise the guesses, but eventually I should be able to get the ATE solver to converge to the high temperature steady state.</p>
<p>To find the middle temperature steady state, I’ll start by using the average of the high and low temperature steady states. If the solver does not converge to the middle steady state, I’ll vary the temperature guess a small amount until I find the middle steady state.</p>
<p>For each of the steady states, I can calculate the conversion using its definition.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Calculating the Quantities of Interest</strong></p>
<p>Solving the reactor design equations yields <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> for each of the three steady states. The corresponding conversion for each steady state can be calculated using equation (13).</p>
<p><span class="math display">\[
f_A = \frac{\dot{n}_{A,in} - \dot n_A}{\dot{n}_{A,in}} \tag{13}
\]</span></p>
<p><strong>Calculations Summary</strong></p>
<ol type="1">
<li>Substitute given and known constants into all equations.</li>
<li>When it is necessary to evaluate the residuals
<ol type="a">
<li><span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>. will be available.</li>
<li>calculate <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_{B,in}\)</span>, <span class="math inline">\(k_1\)</span>, <span class="math inline">\(C_A\)</span>, and <span class="math inline">\(C_B\)</span> using equations (8) through (12)</li>
<li>calculate the rate using equation (2).</li>
<li>evaluate the residuals using equations (3) through (7).</li>
</ol></li>
<li>When it is necessary to calculate the quantities of interest, [list]
<ol type="a">
<li><span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(f_A\)</span> using equation (13).</li>
</ol></li>
</ol>
</section>
<section id="numerical-implementation-of-the-solution-3" class="level4" data-number="12.7.4.3">
<h4 data-number="12.7.4.3" class="anchored" data-anchor-id="numerical-implementation-of-the-solution-3"><span class="header-section-number">12.7.4.3</span> Numerical implementation of the Solution</h4>
<ol type="1">
<li>Make the given and known constants available for use in all functions.</li>
<li>Write a residuals function that
<ol type="a">
<li>receives guess values for <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>evaluates the residuals as described in step 2 of the calculations summary, and</li>
<li>returns the values of the residuals.</li>
</ol></li>
<li>Write a reactor model function that
<ol type="a">
<li>receives an initial guess for the unknowns, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>,</li>
<li>solves the design equations by calling an ATE solver and passing the following information to it
<ol type="i">
<li>the initial guess and</li>
<li>the name of the residuals function from step 2 above,</li>
</ol></li>
<li>checks that the solver converged, and</li>
<li>returns the values returned by the ATE solver.</li>
</ol></li>
<li>Perform the analysis by
<ol type="a">
<li>setting an initial guess for the low temperature steady state</li>
<li>getting <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> by calling the reactor model function from step 3 above,</li>
<li>calculating the conversion as described in step 3 of the calculations summary,</li>
<li>repeating steps 4a through 4c using a guess for the high temperature steady state,</li>
<li>repeating steps 4a through 4c using a guess for the middle temperature steady state, and</li>
<li>reporting the results.</li>
</ol></li>
</ol>
</section>
<section id="results-and-discussion-3" class="level4" data-number="12.7.4.4">
<h4 data-number="12.7.4.4" class="anchored" data-anchor-id="results-and-discussion-3"><span class="header-section-number">12.7.4.4</span> Results and Discussion</h4>
<p>The calculations were performed as described above. The steady-state outlet temperatures and conversions are presented in <a href="#tbl-example_12_7_4_results" class="quarto-xref">Table&nbsp;<span>12.1</span></a>. The steady states at 50.1 and 265 °C are expected to be stable while the steady state at 138 °C is expected to be unstable.</p>
<div class="cell">
<div id="tbl-example_12_7_4_results" class="cell quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_12_7_4_results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12.1: Steady-State Conversions and Outlet Temperatures
</figcaption>
<div aria-describedby="tbl-example_12_7_4_results-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<div class="cell-output-display">
<table class="do-not-create-environment cell caption-top table table-sm table-striped small">
<thead>
<tr class="header">
<th style="text-align: center;">Conversion (%)</th>
<th style="text-align: center;">Temperature (°C)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">0.026</td>
<td style="text-align: center;">50.1</td>
</tr>
<tr class="even">
<td style="text-align: center;">39.9</td>
<td style="text-align: center;">138</td>
</tr>
<tr class="odd">
<td style="text-align: center;">97.5</td>
<td style="text-align: center;">265</td>
</tr>
</tbody>
</table>
</div>
</div>
</figure>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-19-contents" aria-controls="callout-19" aria-expanded="true" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-19" class="callout-19-contents callout-collapse collapse show">
<div class="callout-body-container callout-body">
<p>This assignment states that three steady states are possible. In most cases, however, an engineer won’t know whether or not multiple steady states are possible. It is critically important to know when multiple steady states exist so that the desired steady state can be identified and appropriate start-up procedures can be developed to reach it.</p>
<p>One way to determine whether multiple steady states are possible is to plot the outlet temperature as a function of the inlet temperature. The “trick” that makes this easier to do is to choose a range of <strong>outlet</strong> temperatures and then solve the reactor design equations to find the outlet molar flow rates and the <strong>inlet</strong> temperature corresponding to each outlet temperature. As noted in <a href="#sec-multiplicity" class="quarto-xref"><span>Section 12.5</span></a>, for each outlet temperature there is only one inlet temperature.</p>
</div>
</div>
</div>
<p>The reactor model was used to calculate the steady-state outlet temperature and the steady-state conversion as functions of the feed temperature for this reactor. The results are presented in <a href="#fig-example_12_7_4_T_vs_Tin" class="quarto-xref">Figure&nbsp;<span>12.6</span></a> and <a href="#fig-example_12_7_4_f_vs_Tin" class="quarto-xref">Figure&nbsp;<span>12.7</span></a>. In both cases the curves exhibit the “S” shape described in <a href="#sec-multiplicity" class="quarto-xref"><span>Section 12.5</span></a>. The dashed sections of the (black) curves are unstable steady states (see <a href="#sec-stability" class="quarto-xref"><span>Section 12.6.1</span></a>). The ignition point occurs at an inlet temperature of 90.5 °C and is shown as a solid red line. The extinction point occurs at an inlet temperature of 3.9 °C and is indicated by a dashed red line.</p>
<p>The outlet temperature corresponding to the ignition point is 103 °C, and the outlet temperature corresponding to the extinction point is 188 °C. The reactor should <strong>not</strong> be operated at temperatures close to these points because it would be highly sensitive to small changes in any of the reactor operating parameters.</p>
<div id="fig-example_12_7_4_T_vs_Tin" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_4_T_vs_Tin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_4/T_vs_Tin.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_4_T_vs_Tin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.6: Steady-state outlet temperature as a function of inlet temperature.
</figcaption>
</figure>
</div>
<div id="fig-example_12_7_4_f_vs_Tin" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_4_f_vs_Tin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_4/f_vs_Tin.png" class="img-fluid figure-img" style="width:70.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_4_f_vs_Tin-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.7: Steady-state conversion as a function of inlet temperature.
</figcaption>
</figure>
</div>
</section>
</section>
<section id="sec-example_12_7_5" class="level3" data-number="12.7.5">
<h3 data-number="12.7.5" class="anchored" data-anchor-id="sec-example_12_7_5"><span class="header-section-number">12.7.5</span> Start-Up of a CSTR</h3>
<p>A 10 gal CSTR with a 1.25 gal shell is going to be used for the conversion of A and B according to reactions (1), (2), and (3). Both the reactor and the shell are perfectly mixed. Before flow into the reactor begins, it is filled with a solution containing only B at a concentration of 3 mol gal<sup>-1</sup> and a temperature of 20 °C, while the shell is filled with cooling water at 20 °C. To start up the reactor, 0.5 gal min<sup>-1</sup> of a feed consisting of a liquid solution of A (7.5 mol gal<sup>-1</sup>) and B (3 mol gal<sup>-1</sup>) at 50 °C starts flowing into the reactor and simultaneously cooling water at 20 °C starts flowing into the shell at a rate of 250 g min<sup>-1</sup>. The heat transfer coefficient between the reactor and the shell is 190 cal ft<sup>-2</sup> min<sup>-1</sup> K<sup>-1</sup> and the heat transfer area is 4 ft<sup>2</sup>. The entire process operates at a constant pressure of 1 atm.</p>
<p>Each of the reactions is first order in the concentration of A and first order in the concentration of B. The pre-exponential factors, activation energies and heats of reaction are listed in the table below. The heats of reaction may be taken to be constant. The cooling water has a constant density of 1 g cm<sup>-3</sup> and a constant heat capacity of 1 cal g<sup>-1</sup> K<sup>-1</sup>. The reacting fluid may be assumed to have a constant heat capacity of 1600 cal gal<sup>-1</sup> K<sup>-1</sup>.</p>
<p>Plot the temperature of the reacting fluid, the temperature of the cooling water in the jacket, and the concentration of B in the reactor during the first 30 minutes of the start-up process.</p>
<table class="caption-top table">
<caption>Reaction Data</caption>
<colgroup>
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
<col style="width: 25%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: center;">Reaction</th>
<th style="text-align: center;">k<sub>0</sub> (gal mol<sup>-1</sup> min<sup>-1</sup>)</th>
<th style="text-align: center;">E (kcal mol<sup>-1</sup>)</th>
<th style="text-align: center;"><span class="math inline">\(\Delta H\)</span> (kcal mol<sup>-1</sup>)</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;">1</td>
<td style="text-align: center;">4.3 x 10<sup>8</sup></td>
<td style="text-align: center;">14.2</td>
<td style="text-align: center;">-11.0</td>
</tr>
<tr class="even">
<td style="text-align: center;">2</td>
<td style="text-align: center;">2.7 x 10<sup>8</sup></td>
<td style="text-align: center;">16.1</td>
<td style="text-align: center;">-11.6</td>
</tr>
<tr class="odd">
<td style="text-align: center;">3</td>
<td style="text-align: center;">3.9 x 10<sup>8</sup></td>
<td style="text-align: center;">14.8</td>
<td style="text-align: center;">-12.1</td>
</tr>
</tbody>
</table>
<p><span class="math display">\[
A + B \rightarrow W + Z \tag{1}
\]</span></p>
<p><span class="math display">\[
A + B \rightarrow X + Z \tag{2}
\]</span></p>
<p><span class="math display">\[
A + B \rightarrow Y + Z \tag{3}
\]</span></p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-20-contents" aria-controls="callout-20" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-20" class="callout-20-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This assignment involves the start-up of a cooled CSTR. Start-up is always a transient process. To summarize this assignment, I will assign an appropriate variable symbol to each quantity mentioned in the assignment. Transient CSTR involve changes in molar flow rates that occur both spatically and temporily (over time). I’ll use a subscripted “in” to denote quantities associates with the feed into the reactor and I’ll use a subscripted “0” to denote the initial values of quantities.</p>
</div>
</div>
</div>
<section id="assignment-summary-4" class="level4" data-number="12.7.5.1">
<h4 data-number="12.7.5.1" class="anchored" data-anchor-id="assignment-summary-4"><span class="header-section-number">12.7.5.1</span> Assignment Summary</h4>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(V\)</span> = 10 gal, <span class="math inline">\(V_{ex}\)</span> = 1.25 gal, <span class="math inline">\(C_{B,0}\)</span> = 3 mol gal<sup>-1</sup>, <span class="math inline">\(T_0\)</span> = (20 + 273.15) K, <span class="math inline">\(\dot V_{in}\)</span> = 0.5 gal min<sup>-1</sup>, <span class="math inline">\(C_{A,in}\)</span> = 7.5 mol gal<sup>-1</sup>, <span class="math inline">\(C_{B,in}\)</span> = 3 mol gal<sup>-1</sup>, <span class="math inline">\(T_{in}\)</span> = (50 + 273.15) K, <span class="math inline">\(T_{ex,0}\)</span> = <span class="math inline">\(T_{ex,in}\)</span> = = (20 + 273.15) K, <span class="math inline">\(\dot m_{ex,in}\)</span> = 250 g min<sup>-1</sup>, <span class="math inline">\(U\)</span> = 190 cal ft<sup>-2</sup> min<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(A\)</span> = 4 ft<sup>2</sup>, <span class="math inline">\(P\)</span> = 1 atm, <span class="math inline">\(\rho_{ex}\)</span> = 1 g cm<sup>-3</sup>, <span class="math inline">\(\tilde C_{p,ex}\)</span> = 1 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\breve C_p\)</span> = 1600 cal gal<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(k_{0,j}\)</span> in Table 1, <span class="math inline">\(E_j\)</span> in Table 1, <span class="math inline">\(\Delta H_j\)</span> in Table 1, <span class="math inline">\(t_f\)</span> = 30 min, and <span class="math inline">\(R\)</span> = 1.987 cal mol<sup>-1</sup> K<sup>-1</sup>.</p>
<p><strong>Reactor System</strong>: Transient, cooled CSTR</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(T\left(t\right)\)</span>, <span class="math inline">\(T_{ex}\left(t\right)\)</span>, and <span class="math inline">\(C_B\left(t\right)\)</span> as graphs.</p>
</section>
<section id="mathematical-formulation-of-the-solution-4" class="level4" data-number="12.7.5.2">
<h4 data-number="12.7.5.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-solution-4"><span class="header-section-number">12.7.5.2</span> Mathematical Formulation of the Solution</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-21-contents" aria-controls="callout-21" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-21" class="callout-21-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>I need to generate the reactor design equation needed to model this reaction. I’ll start by writing a mole balance on each reagent, A, B, W, X, Y, and Z. The general form of the transient CSTR mole balance is given in <a href="section_3_react_eng_models.html#eq-cstr_mol_balance" class="quarto-xref">Equation&nbsp;<span>6.24</span></a>. This reactor is full at the start of the transient, and a steady flow of liquid into the reactor is maintained throughout. Assuming the liquid to be an incompressible, ideal solution, this means that the reacting fluid volume and the outlet volumetric flow rate are both constant. Because they are constant, their time derivatives are equal to zero. Only A and B flow into the reactor so <span class="math inline">\(\dot{n}_{W,in}\)</span>, <span class="math inline">\(\dot{n}_{X,in}\)</span>, <span class="math inline">\(\dot{n}_{Y,in}\)</span>, and <span class="math inline">\(\dot{n}_{Z,in}\)</span> are equal to zero. There are three reactions taking place, so the summation expands to three terms.</p>
<p><span class="math display">\[
\frac{V}{\dot V}\frac{d \dot n_i}{dt} + \frac{\dot n_i}{\dot V}\cancelto{0}{\frac{dV}{dt}} - \frac{\dot n_iV}{\dot V^2}\cancelto{0}{\frac{d \dot V}{dt}} = \dot n_{i,in} - \dot n_i + V \cancelto{\nu_{i,1}r_1 + \nu_{i,2}r_2 + \nu_{i,3}r_3}{\sum_j \nu_{i,j}r_j}
\]</span></p>
<p>When these IVODEs are solved numerically, it will be necessary to evaluate the derivatives at the start of each integration step. That will be straightforward if they are written in the form of derivative expressions (see <a href="apndx_mathematics.html#sec-apndx_solve_ivodes" class="quarto-xref"><span>Section F.5.2</span></a>), so I’ll multiply both sides of the equations by the volumetric flow rate and divide both sides by the reacting fluid volume.</p>
<p><span class="math display">\[
\frac{d \dot n_i}{dt} = \frac{\dot{V}}{V} \left(\dot n_{i,in} - \dot n_i + V\left(\nu_{i,1}r_1 + \nu_{i,2}r_2 + \nu_{i,3}r_3\right)\right)
\]</span></p>
<p>The reactor is not isothermal, so the mole balances cannot be solved independently, and an energy balance on the reacting fluid must be added to the design equations. The general form of the transient energy balance on the reacting fluid in a CSTR is given in <a href="section_3_react_eng_models.html#eq-cstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.25</span></a>. As previously noted, the time derivative of the reacting fluid volume is zero. The pressure is also constant, so its time-derivative is also zero. There are no shafts or moving boundaries that do work, so <span class="math inline">\(\dot{W}\)</span> is also equal to zero.</p>
<p><span class="math display">\[
\begin{split}
\frac{V}{\dot V}\sum_i \left( \dot n_i \hat C_{p,i}  \right) &amp;\frac{dT}{dt} - V \cancelto{0}{\frac{dP}{dt}} - P\cancelto{0}{\frac{dV}{dt}} = \dot Q - \cancelto{0}{\dot W} \\&amp;- \sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT - V\sum_j r_j \Delta H_j
\end{split}
\]</span></p>
<p>The volumetric heat capacity of the reacting fluid as a whole is given, so it can be used in place of the molar heat capacities. The volumetric heat capacity is a constant, so it can be brought outside of the integral and the integral can be evaluated. Also, the final summation can be expanded to three terms, one for each of the three reactions.</p>
<p><span class="math display">\[
\frac{V}{\dot V}\cancelto{\dot{V}\breve{C}_p}{\sum_i \left( \dot n_i \hat C_{p,i}  \right)} \frac{dT}{dt} = \dot Q - \cancelto{\dot{V}\breve{C}_p\left(T - T_{in}\right)}{\sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT} - V\cancelto{r_1 \Delta H_1 + r_2 \Delta H_2 + r_3 \Delta H_3}{\sum_j r_j \Delta H_j}
\]</span></p>
<p>Again, evaluation of the derivative will be facilitated if the energy balance is written as a derivative expression.</p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{\dot{Q} - \dot V_{in} \breve C_p \left(T - T_{in}\right) - V \left( r_1\Delta H_1 + r_2\Delta H_2 + r_3\Delta H_3 \right)}{V \breve C_p }
\]</span></p>
<p>Finally, this reactor is cooled using chilled water. The inlet temperature of the water is known, but not the temperature within the jacket. Therefore, an energy balance on the heat exchange fluid must also be included in the reactor design equations. In this system, the cooling water only exchanges sensible heat, so the general form of the exchange fluid energy balance is given by <a href="section_3_react_eng_models.html#eq-exchange_energy_bal_sensible" class="quarto-xref">Equation&nbsp;<span>6.2</span></a>. The exchange fluid heat capacity is constant, so it can be taken outside of the integral, and the integral can be evaluated. Dividing both sides of this equation by <span class="math inline">\(\rho_{ex} V_{ex} \tilde C_{p,ex}\)</span> will put it in the form of a derivative expression.</p>
<p><span class="math display">\[
\rho_{ex} V_{ex} \tilde C_{p,ex}\frac{dT_{ex}}{dt} = -\dot Q - \dot m_{ex} \int_{T_{ex,in}}^{T_{ex}} \tilde C_{p,ex}dT
\]</span></p>
</div>
</div>
</div>
<p><strong>Reactor Design Equations</strong></p>
<p>Mole balance design equations for A, B, W, X, Y, and Z are presented in equations (4) through (9). The energy balance on the reacting fluid is given in equation (10). An energy balance on the heat exchange fluid is shown in equation (11).</p>
<p><span class="math display">\[
\frac{d\dot n_A}{dt} = \frac{\dot V}{V}\left(\dot n_{A,in} - \dot n_A - V\left(r_1 + r_2 + r_3\right)\right) \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{d\dot n_B}{dt} = \frac{\dot V}{V}\left(\dot n_{B,in} - \dot n_B - V\left(r_1 + r_2 + r_3\right)\right) \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{d\dot n_W}{dt} = \frac{\dot V}{V}\left(- \dot n_W + Vr_1\right) \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{d\dot n_Z}{dt} = \frac{\dot V}{V}\left(- \dot n_Z + V\left(r_1 + r_2 + r_3\right)\right) \tag{7}
\]</span></p>
<p><span class="math display">\[
\frac{d\dot n_X}{dt} = \frac{\dot V}{V}\left(- \dot n_X + Vr_2\right) \tag{8}
\]</span></p>
<p><span class="math display">\[
\frac{d\dot n_Y}{dt} = \frac{\dot V}{V}\left(- \dot n_Y + Vr_3\right) \tag{9}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{\dot{Q} - \dot V_{in} \breve C_p \left(T - T_{in}\right) - V \left( r_1\Delta H_1 + r_2\Delta H_2 + r_3\Delta H_3 \right)}{V \breve C_p } \tag{10}
\]</span></p>
<p><span class="math display">\[
\frac{dT_{ex}}{dt} = \frac{-\dot Q - \dot m_{ex} \tilde C_{p,ex} \left( T_{ex} - T_{ex,in} \right)}{\rho_{ex} V_{ex }\tilde C_{p,ex}} \tag{11}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-22-contents" aria-controls="callout-22" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-22" class="callout-22-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>There are eight IVODEs and they contain eight dependent variables, so there is no need to add an IVODE or eliminate a dependent variable. I can define <span class="math inline">\(t=0\)</span> to be the instant that the flows start. The initial values are then equal to the outlet molar flow rates and temperatures at that instant. Initially the reactor contains only B, so when the flow starts that is the only reagent flowing out of the reactor. Since there is no A, W, X, Y, or Z in the reactor at that instant, their initial outlet flow rates are zero. I will let <span class="math inline">\(t_f\)</span> represent the final time, in this case, 30 min.</p>
</div>
</div>
</div>
<p><strong>Initial Values and Stopping Criterion</strong></p>
<div id="tbl-example_12_7_5_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_12_7_5_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12.2: Initial values and stopping criterion for solving equations, (4) through (11).
</figcaption>
<div aria-describedby="tbl-example_12_7_5_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"><span class="math inline">\(t_f\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_B\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\dot{n}_{B,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_W\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_X\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_Y\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_0\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(T_{ex}\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{ex,0}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-23-contents" aria-controls="callout-23" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-23" class="callout-23-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In order to solve the IVODEs numerically I’ll need to do two things: calculate the values of the derivatives at the start of each integration step and calculate all of the initial and final values in <a href="#tbl-example_12_7_5_initial_values" class="quarto-xref">Table&nbsp;<span>12.2</span></a>.</p>
<p>I’ll need to evaluate the derivatives at the start of each integration step. At that point, the independent and dependent variables (<span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span>) will be known along with the given and known constants. I will need to calculate any other quantities that appear in the derivatives expressions. Looking at the IVODEs I can see that I’ll need to calculate <span class="math inline">\(\dot{V}\)</span>, <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_{B,in}\)</span>, <span class="math inline">\(r_1\)</span>, <span class="math inline">\(r_2\)</span>, <span class="math inline">\(r_3\)</span>, and <span class="math inline">\(\dot{Q}\)</span>.</p>
<p>The reacting fluid is a liquid. Assuming it to be an incompressible, ideal solutions means that the inlet and outlet volumetric flow rates will be equal.</p>
<p><span class="math display">\[
\dot{V} = \dot{V}_{in}
\]</span></p>
<p>The inlet volumetric flow rate and concentrations of A and B are given, so the inlet molar flow rates of A and B can be calculated using the defining equation for concentration.</p>
<p><span class="math display">\[
C_{i,in} = \frac{\dot{n}_{i,in}}{\dot{V}_{in}} \qquad \Rightarrow \qquad \dot{n}_{i,in} = C_{i,in}\dot{V}_{in}
\]</span></p>
<p>The assignment states that each of the reactions is first order in A and first order in B. Assuming Arrhenius temperature dependence for the rate coefficient the rate expressions can be written.</p>
<p><span class="math display">\[
r_j = k_{0,j} \exp{ \left( \frac{-E_j}{RT}  \right)} C_A C_B
\]</span></p>
<p>In order to calculate the rate, I’ll need to calculate the outlet concentrations of A and B. That can be done using the defining equation for concentration.</p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_i}{\dot{V}}
\]</span></p>
<p>The rate of heat exchange can be calculated using the given heat transfer coefficient and heat transfer area.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Derivatives</strong></p>
<p><span class="math display">\[
\dot V = \dot V_{in} \tag{12}
\]</span></p>
<p><span class="math display">\[
\dot n_{A,in} = \dot V_{in}C_{A,in} \tag{13}
\]</span></p>
<p><span class="math display">\[
\dot n_{B,in} = \dot V_{in}C_{B,in} \tag{14}
\]</span></p>
<p><span class="math display">\[
r_1 = k_{0,1}\exp{\left(\frac{-E_1}{RT}\right)}C_AC_B \tag{15}
\]</span></p>
<p><span class="math display">\[
r_2 = k_{0,2}\exp{\left(\frac{-E_2}{RT}\right)}C_AC_B \tag{16}
\]</span></p>
<p><span class="math display">\[
r_3 = k_{0,3}\exp{\left(\frac{-E_3}{RT}\right)}C_AC_B \tag{17}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{\dot n_A}{\dot V} \tag{18}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{\dot n_B}{\dot V} \tag{19}
\]</span></p>
<p><span class="math display">\[
\dot Q = -\dot Q_e = UA\left(T_e - T\right) \tag{20}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-24-contents" aria-controls="callout-24" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-24" class="callout-24-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When I solve the IVODEs numerically, I’ll also need to calculate the initial and final values in <a href="#tbl-example_12_7_5_initial_values" class="quarto-xref">Table&nbsp;<span>12.2</span></a>. The initial temperature and the final time are given in the assignment. The initial outlet molar flow rate of B can be calculated from the volumetric flow rate and initial concentration in the reactor.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equation for Calculating the Initial and Final Values</strong></p>
<p><span class="math display">\[
\dot{n}_{B,0} = \dot V C_{B,0} \tag{21}
\]</span></p>
<p><strong>Ancillary Equation for Calculating the Quantities of Interest</strong></p>
<p>Solving the reactor design equations will yield sets of corresponding values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span> spanning the range from their initial values to their final values. The corresponding outlet concentration of B can be calculated using equation (19).</p>
<p><strong>Calculations Summary</strong></p>
<ol type="1">
<li>Substitute given and known constants into all equations.</li>
<li>When it is necessary to evaluate the derivatives
<ol type="a">
<li><span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span> will be available.</li>
<li>calculate <span class="math inline">\(\dot{V}\)</span>, <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_{B,in}\)</span>, <span class="math inline">\(C_A\)</span>, <span class="math inline">\(C_B\)</span>, and <span class="math inline">\(\dot{Q}\)</span> using equations (12) - (14) and (18) - (20).</li>
<li>calculate <span class="math inline">\(r_1\)</span>, <span class="math inline">\(r_2\)</span>, and <span class="math inline">\(r_3\)</span> using equations (15) - (17).</li>
<li>evaluate the derivatives using equations (4) - (11).</li>
</ol></li>
<li>When it is necessary to calculate the initial and final values in <a href="#tbl-example_12_7_5_initial_values" class="quarto-xref">Table&nbsp;<span>12.2</span></a>
<ol type="a">
<li><span class="math inline">\(T_0\)</span> <span class="math inline">\(T_{ex,0}\)</span>, and <span class="math inline">\(t_f\)</span> are known constants.</li>
<li>calculate <span class="math inline">\(\dot{n}_{B,0}\)</span> using equation (21).</li>
</ol></li>
<li>When it is necessary to calculate the quantities of interest, <span class="math inline">\(T\left(t\right)\)</span>, <span class="math inline">\(T_{ex}\left(t\right)\)</span>, and <span class="math inline">\(C_B\left(t\right)\)</span>
<ol type="a">
<li>corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span>, spanning the range from their initial values to their final values will be available.</li>
<li>calculate corresponding values of <span class="math inline">\(C_B\)</span> using equation (19).</li>
</ol></li>
</ol>
</section>
<section id="numerical-implementation-of-the-solution-4" class="level4" data-number="12.7.5.3">
<h4 data-number="12.7.5.3" class="anchored" data-anchor-id="numerical-implementation-of-the-solution-4"><span class="header-section-number">12.7.5.3</span> Numerical implementation of the Solution</h4>
<ol type="1">
<li>Make the given and known constants available for use in all functions.</li>
<li>Write a derivatives function that
<ol type="a">
<li>receives the independent and dependent variables, <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span>, as arguments,</li>
<li>evaluates the derivatives as described in step 2 of the calculations summary, and</li>
<li>returns the values of the derivatives.</li>
</ol></li>
<li>Write a reactor model function that
<ol type="a">
<li>calculates the initial and final values in <a href="#tbl-example_12_7_5_initial_values" class="quarto-xref">Table&nbsp;<span>12.2</span></a> as described in step 3 of the calculations summary,</li>
<li>gets corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span>, spanning the range from their initial values to their final values by calling an IVODE solver and passing the following information to it
<ol type="i">
<li>the initial values and stopping criterion in <a href="#tbl-example_12_7_5_initial_values" class="quarto-xref">Table&nbsp;<span>12.2</span></a> and</li>
<li>the name of the derivatives function from step 2 above,</li>
</ol></li>
<li>checks that the solver successfully solved the IVODEs, and</li>
<li>returns the values returned by the IVODE solver.</li>
</ol></li>
<li>Perform the analysis by
<ol type="a">
<li>getting corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_W\)</span>, <span class="math inline">\(\dot{n}_X\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, <span class="math inline">\(T\)</span>, and <span class="math inline">\(T_{ex}\)</span>, spanning the range from their initial values to their final values by calling the reactor model function from step 3 above,</li>
<li>calculating <span class="math inline">\(C_B\)</span> as described in the calculations summary, and</li>
<li>plotting <span class="math inline">\(T\left(t\right)\)</span>, <span class="math inline">\(T_{ex}\left(t\right)\)</span>, and <span class="math inline">\(C_B\left(t\right)\)</span></li>
</ol></li>
</ol>
</section>
<section id="results-and-discussion-4" class="level4" data-number="12.7.5.4">
<h4 data-number="12.7.5.4" class="anchored" data-anchor-id="results-and-discussion-4"><span class="header-section-number">12.7.5.4</span> Results and Discussion</h4>
<p>The calculations were performed as described above. The reacting fluid temperature, exchange fluid temperature and concentration of B during the first 30 min of startup are shown in Figures <a href="#fig-example_12_7_5_T_vs_t" class="quarto-xref"><span>12.8</span></a>, <a href="#fig-example_12_7_5_Te_vs_t" class="quarto-xref"><span>12.9</span></a>, and <a href="#fig-example_12_7_5_CB_vs_t" class="quarto-xref"><span>12.10</span></a>. All three quantities appear to be approaching steady-state values.</p>
<div id="fig-example_12_7_5_T_vs_t" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_5_T_vs_t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_5/T_vs_t.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_5_T_vs_t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.8: Reacting Fluid Temperature During the First 30 Minutes of Startup
</figcaption>
</figure>
</div>
<div id="fig-example_12_7_5_Te_vs_t" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_5_Te_vs_t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_5/Te_vs_t.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_5_Te_vs_t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.9: Cooling Water Temperature During the First 30 Minutes of Startup
</figcaption>
</figure>
</div>
<div id="fig-example_12_7_5_CB_vs_t" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_5_CB_vs_t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_5/CB_vs_t.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_5_CB_vs_t-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.10: Concentration of Reagent B During the First 30 Minutes of Startup
</figcaption>
</figure>
</div>
<p>There are many ways to start-up a reactor. Here the reactor was filled with one reactant and the feed flow was initiated. Another option would be to charge the reactor with the feed and let it react in BSTR mode until the composition and temperature are near their steady-state values, and then start the flow. The start-up procedure that is ultimately used will likely be chosen, at least in part, on the basis of economics. For example, in this assignment the reactor operated for 30 minutes and still hadn’t quite reached steady-state. During that time it was not producing the intended product. If there is no use for that partially reacted product, of if the reactants are relatively expensive, the alternative method described above might be preferred because it wastes less feed and generates less partially reacted product.</p>
</section>
</section>
<section id="sec-example_12_7_6" class="level3" data-number="12.7.6">
<h3 data-number="12.7.6" class="anchored" data-anchor-id="sec-example_12_7_6"><span class="header-section-number">12.7.6</span> Perturbations from an Unstable Steady State and Near Ignition and Extinction Points</h3>
<p><a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a> showed conditions where three steady states are possible when reaction (1) takes place in an adiabatic CSTR. Specifically, the reactor volume is 500 cm<sup>3</sup> and the feed is 1.0 cm<sup>3</sup> s<sup>-1</sup> of a solution containing 0.015 mol cm<sup>-3</sup> each of A and B at 50 °C. The heat capacity is 0.35 cal g<sup>-1</sup> K<sup>-1</sup>, and the density is 0.93 gm cm<sup>-3</sup>. The heat of reaction is -20 kJ mol<sup>-1</sup>, and the rate is given by equation (2) with the pre-exponential factor equal to 3.24 x 10<sup>12</sup> cm<sup>3</sup> mol<sup>-1</sup> s<sup>-1</sup> and the activation energy equal to 105.0 kJ mol<sup>-1</sup>. The steady-state conversions were 0.03%, 39.9%, and 97.5%, and the corresponding outlet temperatures were 50, 183, and 265 °C.</p>
<p><span class="math display">\[
A + B \rightarrow Y + Z \tag{1}
\]</span></p>
<p><span class="math display">\[
r_1 = k_1C_AC_B \tag{2}
\]</span></p>
<p>The outlet temperature for this reactor was plotted as a function of the feed temperature in <a href="#fig-example_12_7_4_T_vs_Tin" class="quarto-xref">Figure&nbsp;<span>12.6</span></a>. That graph is reproduced here as <a href="#fig-example_12_7_6_initial_steady_states" class="quarto-xref">Figure&nbsp;<span>12.11</span></a>, with three steady states highlighted as red dots labeled “u,” “ign,” and “ext.” Steady state u is the unstable steady state from <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>. Steady state ign (<span class="math inline">\(T_{in}\)</span> = 89 °C, <span class="math inline">\(f_A\)</span> = 3.2%, and <span class="math inline">\(T\)</span> = 96 °C) is just below the ignition point at <span class="math inline">\(T_{in}\)</span> = 90.5 °C, and steady state ext (<span class="math inline">\(T_{in}\)</span> = 6 °C, <span class="math inline">\(f_A\)</span> = 88.1%, and <span class="math inline">\(T\)</span> = 200 °C) is just above the extinction point at <span class="math inline">\(T_{in}\)</span> = 3.9 °C</p>
<div id="fig-example_12_7_6_initial_steady_states" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_6_initial_steady_states-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_4/initial_steady_states.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_6_initial_steady_states-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.11: Steady-state temperatures prior to perturbation.
</figcaption>
</figure>
</div>
<p>To show that steady state u is unstable, plot the outlet temperature <em>vs</em>. time if the temperature of a CSTR at steady state u is perturbed from 138 to 140 °C holding all of the inputs constant.</p>
<p>To show that there is an ignition point at <span class="math inline">\(T_{in}\)</span> = 90.5 °C, plot the outlet temperature <em>vs</em>. time if the inlet temperature of a CSTR at steady state ign is increased from 89 to 91 °C and held there.</p>
<p>To show that there is an extinction point at <span class="math inline">\(T_{in}\)</span> = 3.9 °C, plot the outlet temperature <em>vs</em>. time if the inlet temperature of a CSTR at steady state ext is increased from 6 to 3 °C and held there.</p>
<hr>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-25-contents" aria-controls="callout-25" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-25" class="callout-25-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This is an isolated reactor modeling problem involving an adiabatic CSTR. The assignment asks me to calculate how the temperature will change over time following a sudden change to a parameter, so the reactor is not at steady state, it is transient.</p>
<p>I’m asked to analyze 3 different scenarios: one involving perturbation from an unstable steady state, one involving perturbation from a steady state close to the ignition point, and one involving perturbation from a steady state close to the extinction point. For quantities that change from one scenario to the next I will use a subscripted <span class="math inline">\(u\)</span> to denote the unstable steady state, <span class="math inline">\(ign\)</span> to denote the steady state close to the ignition point, and <span class="math inline">\(ext\)</span> to denote the steady state close to the extinction point.</p>
<p>I’ll use a subscripted <span class="math inline">\(in\)</span> to denote reactor inlet values and a subscripted <span class="math inline">\(0\)</span> to denote initial values. I’ll begin by summarizing the assignment using appropriate variable symbols for all quantities.</p>
</div>
</div>
</div>
<section id="assignment-summary-5" class="level4" data-number="12.7.6.1">
<h4 data-number="12.7.6.1" class="anchored" data-anchor-id="assignment-summary-5"><span class="header-section-number">12.7.6.1</span> Assignment Summary</h4>
<p><strong>Given and Known Constants</strong>: <span class="math inline">\(V\)</span> = 500 cm<sup>3</sup>, <span class="math inline">\(\dot{V}_{in}\)</span> = 1.0 cm<sup>3</sup> s<sup>-1</sup>, <span class="math inline">\(C_{A,in}\)</span> = 0.015 mol cm<sup>-3</sup>, <span class="math inline">\(C_{B,in}\)</span> = 0.015 mol cm<sup>-3</sup>, <span class="math inline">\(T_{in,u}\)</span> = 50 °C, <span class="math inline">\(T_{in,ign}\)</span> = 91 °C, <span class="math inline">\(T_{in,ext}\)</span> = 3 °C, <span class="math inline">\(T_{0,u}\)</span> = 140 °C, <span class="math inline">\(T_{0,ign}\)</span> = 96 °C, <span class="math inline">\(T_{0,ext}\)</span> = 200 °C, <span class="math inline">\(f_{A,0,u}\)</span> = 39.9%, <span class="math inline">\(f_{A,0,ign}\)</span> = 3.2%, <span class="math inline">\(f_{A,0,ext}\)</span> = 88.1%, <span class="math inline">\(\tilde{C}_p\)</span> = 0.35 cal g<sup>-1</sup> K<sup>-1</sup>, <span class="math inline">\(\rho\)</span> = 0.93 gm cm<sup>-3</sup>, <span class="math inline">\(\Delta H_1\)</span> = -20 kJ mol<sup>-1</sup>, <span class="math inline">\(k_{0,1}\)</span> = 3.24 x 10<sup>12</sup> cm<sup>3</sup> mol<sup>-1</sup> s<sup>-1</sup>, <span class="math inline">\(E_1\)</span> = 105.0 kJ mol<sup>-1</sup>, and <span class="math inline">\(R\)</span> = 8.314 J mol<sup>-1</sup> K<sup>-1</sup>.</p>
<p><strong>Reactor System</strong>: Transient, adiabatic CSTR</p>
<p><strong>Quantities of Interest</strong>: <span class="math inline">\(T\left(t\right)\)</span> following perturbations from three steady states, as graphs.</p>
</section>
<section id="mathematical-formulation-of-the-solution-5" class="level4" data-number="12.7.6.2">
<h4 data-number="12.7.6.2" class="anchored" data-anchor-id="mathematical-formulation-of-the-solution-5"><span class="header-section-number">12.7.6.2</span> Mathematical Formulation of the Solution</h4>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-26-contents" aria-controls="callout-26" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-26" class="callout-26-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This analysis involves a transient, adiabatic CSTR. To model it I will need mole balances and an energy balance on the reacting fluid. The general form of the transient CSTR mole balance is given in <a href="section_3_react_eng_models.html#eq-cstr_mol_balance" class="quarto-xref">Equation&nbsp;<span>6.24</span></a>. In all three cases, the volumetric flow rate and the reacting fluid volume do not change, so their time derivatives are equal to zero. Only A and B flow into the reactor, so <span class="math inline">\(\dot{n}_{Y,in}\)</span> and <span class="math inline">\(\dot{n}_{Z,in}\)</span> will equal zero. There is one reaction, so the summation reduces to a single term.</p>
<p><span class="math display">\[
\frac{V}{\dot V}\frac{d \dot n_i}{dt} + \frac{\dot n_i}{\dot V}\cancelto{0}{\frac{dV}{dt}} - \frac{\dot n_iV}{\dot V^2}\cancelto{0}{\frac{d \dot V}{dt}} = \dot n_{i,in} - \dot n_i + V \cancelto{\nu_{i,1}r_1}{\sum_j \nu_{i,j}r_j}
\]</span></p>
<p>The general form of the transient CSTR reacting fluid energy balance is presente d in <a href="section_3_react_eng_models.html#eq-cstr_energy_balance" class="quarto-xref">Equation&nbsp;<span>6.25</span></a>. As already noted, the reacting fluid volume is constant and its derivative is zero. The same is true of the pressure. Furthermore there is no heat exchange and negligible work.</p>
<p><span class="math display">\[
\begin{split}
\frac{V}{\dot V}\sum_i \left( \dot n_i \hat C_{p,i}  \right) &amp;\frac{dT}{dt} - V \cancelto{0}{\frac{dP}{dt}} - P\cancelto{0}{\frac{dV}{dt}} = \cancelto{0}{\dot Q }- \cancelto{0}{\dot W} \\&amp;- \sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT - V\sum_j r_j \Delta H_j
\end{split}
\]</span></p>
<p>The sensible heats can be expressed in terms of the given gravimetric heat capacity. That heat capacity is constant. It can be taken outside of the integral, and the integral can be evaluated. The summation over the reactions reduces to a single term.</p>
<p><span class="math display">\[
\frac{V}{\dot V}\cancelto{\dot{V}\rho\tilde{C}_p}{\sum_i \left( \dot n_i \hat C_{p,i}  \right)} \frac{dT}{dt} = - \cancelto{\tilde{C}_p \rho \dot{V}_{in}\left( T - T_{in}\right)}{\sum_i\dot n_{i,in} \int_{T_{in}}^T \hat C_{p,i}dT} - V\cancelto{r_1 \Delta H_1}{\sum_j r_j \Delta H_j}
\]</span></p>
<p>The mole balances can be written as derivative expression by multiplying both sides of the equations by <span class="math inline">\(\dot{V}\)</span> and dividing by <span class="math inline">\(V\)</span>. The energy balance can be written as a derivative expression by dividing both sides by <span class="math inline">\(V\tilde{C}_p\rho\)</span>.</p>
</div>
</div>
</div>
<p><strong>Reactor Design Equations</strong></p>
<p>Mole balance design equations for A, B, Y, and Z are presented in equations (3) - (6). The energy balance on the reacting fluid is given in equation (7).</p>
<p><span class="math display">\[
\frac{d \dot{n}_A}{dt} = \frac{\dot{V}_{in}}{V}\left(\dot{n}_{A,in} - \dot{n}_A - V r_1\right) \tag{3}
\]</span></p>
<p><span class="math display">\[
\frac{d \dot{n}_B}{dt} = \frac{\dot{V}_{in}}{V}\left(\dot{n}_{B,in} - \dot{n}_B - V r_1\right) \tag{4}
\]</span></p>
<p><span class="math display">\[
\frac{d \dot{n}_Y}{dt} = \frac{\dot{V}_{in}}{V}\left( - \dot{n}_Y + V r_1\right) \tag{5}
\]</span></p>
<p><span class="math display">\[
\frac{d \dot{n}_Z}{dt} = \frac{\dot{V}_{in}}{V}\left( - \dot{n}_Z + V r_1\right) \tag{6}
\]</span></p>
<p><span class="math display">\[
\frac{dT}{dt} = \frac{ - \tilde{C}_p \rho \dot{V}_{in} \left( T - T_{in}\right) - V r_1 \Delta H_1}{V\tilde{C}_p \rho} \tag{7}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-27-contents" aria-controls="callout-27" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-27" class="callout-27-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>The design equations consist of five IVODEs and they contain five dependent variables, so there isn’t any need to add an IVODE or eliminate a dependent variable.</p>
<p>Initial values and a stopping criterion will be needed when solving the IVODEs. I can define <span class="math inline">\(t=0\)</span> to be the instant that the system was perturbed. The initial values are then the outlet molar flow rates of A, B, Y, and Z and the outlet temperature at that instant. These will be different for each of the three analyses. I can choose a final time that is large enough to show where the transient will end.</p>
</div>
</div>
</div>
<p><strong>Initial Values and Stopping Criterion</strong></p>
<div id="tbl-example_12_7_6_initial_values" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-tbl figure">
<figcaption class="quarto-float-caption-top quarto-float-caption quarto-float-tbl" id="tbl-example_12_7_6_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Table&nbsp;12.3: Initial values and stopping criterion for solving the reactor design equations, (3) through (7) for scenario <span class="math inline">\(x\)</span> (<span class="math inline">\(u\)</span>, <span class="math inline">\(ign\)</span>, or <span class="math inline">\(ext\)</span>).
</figcaption>
<div aria-describedby="tbl-example_12_7_6_initial_values-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<table class="caption-top table">
<thead>
<tr class="header">
<th style="text-align: center;">Variable</th>
<th style="text-align: center;">Initial Value</th>
<th style="text-align: center;">Stopping Criterion</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(t\)</span></td>
<td style="text-align: center;"><span class="math inline">\(0\)</span></td>
<td style="text-align: center;"><span class="math inline">\(t_f\)</span></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_A\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\dot{n}_{A,0,x}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_B\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\dot{n}_{B,0,x}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_Y\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\dot{n}_{Y,0,x}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="odd">
<td style="text-align: center;"><span class="math inline">\(\dot{n}_Z\)</span></td>
<td style="text-align: center;"><span class="math inline">\(\dot{n}_{Z,0,x}\)</span></td>
<td style="text-align: center;"></td>
</tr>
<tr class="even">
<td style="text-align: center;"><span class="math inline">\(T\)</span></td>
<td style="text-align: center;"><span class="math inline">\(T_{0,x}\)</span></td>
<td style="text-align: center;"></td>
</tr>
</tbody>
</table>
</div>
</figure>
</div>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-28-contents" aria-controls="callout-28" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-28" class="callout-28-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>In order to solve the IVODEs numerically I’ll need to do two things: calculate the values of the derivatives at the start of each integration step and calculate all of the initial and final values in <a href="#tbl-example_12_7_6_initial_values" class="quarto-xref">Table&nbsp;<span>12.3</span></a>.</p>
<p>I’ll need to evaluate the derivatives at the start of each integration step. At that point, the independent and dependent variables, <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>, will be known along with the given and known constants. I will need to calculate any other quantities that appear in the derivatives expressions. Looking at equations (3) through (7), I see that I will need to calculate <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_{B,in}\)</span>, and <span class="math inline">\(r_1\)</span>.</p>
<p>The inlet volumetric flow rate and the feed concentrations of A and B are given, so the inlet molar flow rates can be calculated using the defining expression for concentration in an open system.</p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_{i,in}}{\dot{V}_{in}} \qquad \Rightarrow \qquad \dot{n}_{i,in} = C_i \dot{V}_{in}
\]</span></p>
<p>The rate can be calculated using equation (2), but to do so I’ll first need to calculate the rate coefficient using the outlet temperature in the Arrhenius expression, <a href="section_2_rates_and_expressions.html#eq-arrhenius" class="quarto-xref">Equation&nbsp;<span>4.8</span></a>. The outlet concentraions of A and B needed to calculate the rate can be calculated using the defining equation for concentration. Because the fluid is an ideal, incompressible liquid, the inlet and outlet volumetric flow rates will be equal.</p>
<p><span class="math display">\[
C_i = \frac{\dot{n}_i}{\dot{V}} = \frac{\dot{n}_i}{\dot{V}_{in}}
\]</span></p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Evaluating the Derivatives</strong></p>
<p><span class="math display">\[
\dot{n}_{A,in} = \dot{V}_{in} C_{A,in} \tag{8}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,in} = \dot{V}_{in} C_{B,in} \tag{9}
\]</span></p>
<p><span class="math display">\[
k_1 = k_{0,1} \exp{\left( \frac{-E_!}{RT} \right)} \tag{10}
\]</span></p>
<p><span class="math display">\[
C_A = \frac{\dot n_A}{\dot{V}_{in}} \tag{11}
\]</span></p>
<p><span class="math display">\[
C_B = \frac{\dot n_B}{\dot{V}_{in}} \tag{12}
\]</span></p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-29-contents" aria-controls="callout-29" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Click Here to See What an Expert Might be Thinking at this Point
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-29" class="callout-29-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>When I solve the IVODEs numerically, I’ll also need to calculate the initial and final values in <a href="#tbl-example_12_7_6_initial_values" class="quarto-xref">Table&nbsp;<span>12.3</span></a>. The initial outlet temperature for the three analyses are provided in the assignment narrative. The outlet molar flow rates of A, B, Y, and Z at the instant the system is perturbed will equal their steady-state values just prior to the perturbation. They can be calculated using the steady-state conversions provided in the assignment narrative.</p>
</div>
</div>
</div>
<p><strong>Ancillary Equations for Calculating the Initial and Final Values</strong></p>
<p><span class="math display">\[
\dot{n}_{A,0,x} = \dot{n}_{A,in} \left( 1 - f_{A,0,x} \right) \tag{13}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{B,0,x} = \dot{n}_{B,in} - f_{A,0,x} \dot{n}_{A,in} \tag{14}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Y,0,x} = f_{A,0,x} \dot{n}_{A,in} \tag{15}
\]</span></p>
<p><span class="math display">\[
\dot{n}_{Z,0,x} = f_{A,0,x} \dot{n}_{A,in} \tag{16}
\]</span></p>
<p>Solving the reactor design equations will yield corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>, spanning the range from their initial values to their final values. No other quantities need to be calculated.</p>
<p><strong>Calculations Summary</strong></p>
<ol type="1">
<li>Substitute given and known constants into all equations.</li>
<li>When it is necessary to evaluate the derivatives
<ol type="a">
<li><span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span> will be available.</li>
<li>calculate <span class="math inline">\(\dot{n}_{A,in}\)</span>, <span class="math inline">\(\dot{n}_{B,in}\)</span>, <span class="math inline">\(k_1\)</span>, <span class="math inline">\(C_A\)</span>, and <span class="math inline">\(C_B\)</span> using equations (8) through (12)</li>
<li>calculate <span class="math inline">\(r_1\)</span> using equation (2)</li>
<li>evaluate the derivatives using equations (3) through (7).</li>
</ol></li>
<li>When it is necessary to calculate the initial and final values in <a href="#tbl-example_12_7_6_initial_values" class="quarto-xref">Table&nbsp;<span>12.3</span></a>
<ol type="a">
<li><span class="math inline">\(t_f\)</span> will be chosen and <span class="math inline">\(T_0\)</span> will be known constants.</li>
<li>calculate <span class="math inline">\(\dot{n}_{A,0}\)</span>, <span class="math inline">\(\dot{n}_{B,0}\)</span>, <span class="math inline">\(\dot{n}_{Y,0}\)</span>, and <span class="math inline">\(\dot{n}_{Z,0}\)</span> using equations (13) - (16)</li>
</ol></li>
</ol>
</section>
<section id="numerical-implementation-of-the-solution-5" class="level4" data-number="12.7.6.3">
<h4 data-number="12.7.6.3" class="anchored" data-anchor-id="numerical-implementation-of-the-solution-5"><span class="header-section-number">12.7.6.3</span> Numerical implementation of the Solution</h4>
<ol type="1">
<li>Make the given and known constants available for use in all functions.</li>
<li>Write a derivatives function that
<ol type="a">
<li>receives the independent and dependent variables, <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>, as arguments,</li>
<li>evaluates the derivatives as described in step 2 of the calculations summary, and</li>
<li>returns the values of the derivatives.</li>
</ol></li>
<li>Write a reactor model function that
<ol type="a">
<li>calculates the initial and final values in <a href="#tbl-example_12_7_6_initial_values" class="quarto-xref">Table&nbsp;<span>12.3</span></a> as described in step 3 of the calculations summary,</li>
<li>gets corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>, spanning the range from their initial values to their final values by calling an IVODE solver and passing the following information to it
<ol type="i">
<li>the initial values and stopping criterion in <a href="#tbl-example_12_7_6_initial_values" class="quarto-xref">Table&nbsp;<span>12.3</span></a> and</li>
<li>the name of the derivatives function from step 3 above, d, checks that the solver successfully solved the IVODEs, and</li>
</ol></li>
<li>returns the values returned by the IVODE solver.</li>
</ol></li>
<li>Perform each of the three analysss by
<ol type="a">
<li>choosing the final time, <span class="math inline">\(t_f\)</span></li>
<li>getting corresponding sets of values of <span class="math inline">\(t\)</span>, <span class="math inline">\(\dot{n}_A\)</span>, <span class="math inline">\(\dot{n}_B\)</span>, <span class="math inline">\(\dot{n}_Y\)</span>, <span class="math inline">\(\dot{n}_Z\)</span>, and <span class="math inline">\(T\)</span>, spanning the range from their initial values to their final values by calling the reactor model function from step 5 above,</li>
<li>plotting <span class="math inline">\(T\)</span> vs <span class="math inline">\(t\)</span>
<ol type="i">
<li>go back to step 4a and adjust <span class="math inline">\(t_f\)</span> so that the graph shows the complete transient.</li>
</ol></li>
</ol></li>
</ol>
</section>
<section id="results-and-discussion-5" class="level4" data-number="12.7.6.4">
<h4 data-number="12.7.6.4" class="anchored" data-anchor-id="results-and-discussion-5"><span class="header-section-number">12.7.6.4</span> Results and Discussion</h4>
<p>The calculations were performed as described above. <a href="#fig-example_12_7_6_unsteady" class="quarto-xref">Figure&nbsp;<span>12.12</span></a> shows the temperature as a function of time following perturbation from the unstable steady state at temperature of 138 °C to a temperature of 140 °C holding all of the inputs constant. Since none of the reactor inputs changed, the temperature would have returned to 138 °C had that been a stable steady state. Instead, the figure shows that the temperature increases to 265 °C, whereupon it becomes stable. Referring back to <a href="#sec-example_12_7_4" class="quarto-xref">Example&nbsp;<span>12.7.4</span></a>, 265 °C is the high temperature steady state for that reactor. This provides a rigorous confirmation of the argument made in <a href="#sec-stability" class="quarto-xref"><span>Section 12.6.1</span></a> that the middle temperature steady state is unstable.</p>
<div id="fig-example_12_7_6_unsteady" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_6_unsteady-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_6/unsteady.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_6_unsteady-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.12: Reacting fluid temperature following a 2 °C perturbation from an unsteady state.
</figcaption>
</figure>
</div>
<p>The ign steady state in <a href="#fig-example_12_7_6_initial_steady_states" class="quarto-xref">Figure&nbsp;<span>12.11</span></a> is just below the ignition point. <a href="#fig-example_12_7_6_ignition" class="quarto-xref">Figure&nbsp;<span>12.13</span></a> shows how the temperature changes over time following an increase of the feed temperature from 89 to 91 °C. Prior to the change the outlet temperature was 99 °C. The figure shows that increasing the feed temperature by 2 °C, causes the outlet temperature increase by 210 °C to 309 °C. For approximately 2 h, the outlet temperature increased slowly, but then it jumped almost instantly to the final temperature.</p>
<p>A rapid temperature rise like that shown in the figure is unsafe. In a real reactor, as opposed to the idealized model, the near vertical slope of the temperature <em>vs</em>. time curve might correspond to an explosion. In any case, this scenario must be avoided. To safely operate this reactor, the start-up procedure must bring the reactor to a high temperature steady state while keeping the feed temperature well below the ignition point of 90.5 °C.</p>
<div id="fig-example_12_7_6_ignition" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_6_ignition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_6/ignition.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_6_ignition-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.13: Reacting fluid temperature following a 1 °C increase in the feed temperature.
</figcaption>
</figure>
</div>
<p>The ext steady state in <a href="#fig-example_12_7_6_initial_steady_states" class="quarto-xref">Figure&nbsp;<span>12.11</span></a> is just above the extinction point. <a href="#fig-example_12_7_6_extinction" class="quarto-xref">Figure&nbsp;<span>12.14</span></a> shows that if the feed temperature drops from 6 to 3 °C, the reactor temperature will drop from 200 to 3 °C. While this doesn’t pose a safety risk like ignition does, it essentially stops the reaction so that the process is no longer producing any Y and Z. Clearly this is not desirable, and to prevent if from happening, the reactor should not operate at a steady state close to the extinction point.</p>
<div id="fig-example_12_7_6_extinction" class="quarto-float quarto-figure quarto-figure-center anchored">
<figure class="quarto-float quarto-float-fig figure">
<div aria-describedby="fig-example_12_7_6_extinction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
<img src="examples/reb_12_7_6/extinction.png" class="img-fluid figure-img" style="width:80.0%">
</div>
<figcaption class="quarto-float-caption-bottom quarto-float-caption quarto-float-fig" id="fig-example_12_7_6_extinction-caption-0ceaefa1-69ba-4598-a22c-09a6ac19f8ca">
Figure&nbsp;12.14: Reacting fluid temperature following a 1 °C decrease in the feed temperature.
</figcaption>
</figure>
</div>
</section>
</section>
</section>
<section id="symbols-used-in-chapter--sec-4_cstr_analysis" class="level2" data-number="12.8">
<h2 data-number="12.8" class="anchored" data-anchor-id="symbols-used-in-chapter--sec-4_cstr_analysis"><span class="header-section-number">12.8</span> Symbols Used in <a href="#sec-4_cstr_analysis" class="quarto-xref">Chapter&nbsp;<span>12</span></a></h2>
<table class="caption-top table">
<colgroup>
<col style="width: 20%">
<col style="width: 80%">
</colgroup>
<thead>
<tr class="header">
<th style="text-align: left;">Symbol</th>
<th style="text-align: left;">Meaning</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(i\)</span></td>
<td style="text-align: left;">Subscript denoting a fluid phase reagent.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(j\)</span></td>
<td style="text-align: left;">Subscript denoting a reaction occurring in the system.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot m_{ex}\)</span></td>
<td style="text-align: left;">Mass flow rate of the exchange fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot n_i\)</span></td>
<td style="text-align: left;">Molar flow rate of reagent <span class="math inline">\(i\)</span>; an additional subscripted “in” denotes the inlet value; an additional subscripted “out” denotes the outlet value.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(r_j\)</span></td>
<td style="text-align: left;">Net rate of reaction <span class="math inline">\(j\)</span> per unit volume of reacting fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(t\)</span></td>
<td style="text-align: left;">Time.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(A\)</span></td>
<td style="text-align: left;">Heat transfer area.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(C_i\)</span></td>
<td style="text-align: left;">Concentration of reagent <span class="math inline">\(i\)</span>; an additional subscripted “out” denotes the outlet value, “in” denotes the inlet value, or “0” denotes the initial value.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\tilde C_{p,ex}\)</span></td>
<td style="text-align: left;">Mass-specific heat capacity of the exchange fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\tilde C_{p}\)</span></td>
<td style="text-align: left;">Mass-specific heat capacity of the reacting fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\breve C_{p,ex}\)</span></td>
<td style="text-align: left;">Volume-specific heat capacity of the exchange fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\breve C_{p}\)</span></td>
<td style="text-align: left;">Volume-specific heat capacity of the reacting fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\hat C_{p,ex}\)</span></td>
<td style="text-align: left;">Molar heat capacity of the exchange fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\hat C_{p,i}\)</span></td>
<td style="text-align: left;">Molar heat capacity of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(M_{ex}\)</span></td>
<td style="text-align: left;">Molecular weight of the exchange fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(P\)</span></td>
<td style="text-align: left;">Pressure of the reacting fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(P_i\)</span></td>
<td style="text-align: left;">Partial pressure of reagent <span class="math inline">\(i\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot Q\)</span></td>
<td style="text-align: left;">Rate of heat transfer from the exchange fluid to the reacting fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\dot{Q}_{abs}\)</span></td>
<td style="text-align: left;">Heat consumed in heating the reactor feed to the reactor outlet temperature.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot{Q}_{gen}\)</span></td>
<td style="text-align: left;">Heat released by the occurence of the reaction or reactions.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(R\)</span></td>
<td style="text-align: left;">Ideal gas constant.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(T\)</span></td>
<td style="text-align: left;">Temperture of the reacting fluid; an additional subscripted “in” denotes the inlet value; an additional subscripted “0” denotes the initial value.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(T_{ex}\)</span></td>
<td style="text-align: left;">Temperature of the exchange fluid within the shell/jacket and at the outlet; an additional subscripted “in” denoes the inlet value.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(U\)</span></td>
<td style="text-align: left;">Heat transfer coefficient.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(V\)</span></td>
<td style="text-align: left;">Volume of reacting fluid within a reactor.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot V\)</span></td>
<td style="text-align: left;">Volumetric flow rate of the reacting fluid; an additional subscripted “in” denotes the value at the inlet.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(V_{ex}\)</span></td>
<td style="text-align: left;">Volume of exchange fluid contained within the reactor shell/jacket.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\dot W\)</span></td>
<td style="text-align: left;">Rate at which the reacting fluid does work on the surroundings via shafts, moving boundaries, etc.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\gamma\)</span></td>
<td style="text-align: left;">Fraction of the exchange fluid that undergoes phase change.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\epsilon\)</span></td>
<td style="text-align: left;">Residual that is equal to zero when evaluated using a solution to the corresponding ATE.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\nu_{i,j}\)</span></td>
<td style="text-align: left;">Stoichiometric coefficient of reagent <span class="math inline">\(i\)</span> in reaction <span class="math inline">\(j\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\rho\)</span></td>
<td style="text-align: left;">Density of the reacting fluid.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\rho_{ex}\)</span></td>
<td style="text-align: left;">Density of the exchange fluid.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\tau\)</span></td>
<td style="text-align: left;">Space time.</td>
</tr>
<tr class="odd">
<td style="text-align: left;"><span class="math inline">\(\Delta H_j\)</span></td>
<td style="text-align: left;">Heat of reaction <span class="math inline">\(j\)</span>.</td>
</tr>
<tr class="even">
<td style="text-align: left;"><span class="math inline">\(\Delta H_{\text{latent},ex}^0\)</span></td>
<td style="text-align: left;">Latent heat for the phase change the exchange fluid undergoes.</td>
</tr>
</tbody>
</table>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp('/' + window.location.host + '/');
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="./section_4_non_continuous_design.html" class="pagination-link" aria-label="Design of Non-Continuous Reactors">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text"><span class="chapter-number">11</span>&nbsp; <span class="chapter-title">Design of Non-Continuous Reactors</span></span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./section_4_pfr_analysis.html" class="pagination-link" aria-label="PFR Analysis">
        <span class="nav-page-text"><span class="chapter-number">13</span>&nbsp; <span class="chapter-title">PFR Analysis</span></span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->




</body></html>